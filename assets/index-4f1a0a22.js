function QP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var YP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q0={exports:{}},Eh={},Y0={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),XP=Symbol.for("react.portal"),JP=Symbol.for("react.fragment"),ZP=Symbol.for("react.strict_mode"),eR=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),nR=Symbol.for("react.context"),rR=Symbol.for("react.forward_ref"),iR=Symbol.for("react.suspense"),sR=Symbol.for("react.memo"),oR=Symbol.for("react.lazy"),ov=Symbol.iterator;function aR(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var X0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J0=Object.assign,Z0={};function Uo(t,e,n){this.props=t,this.context=e,this.refs=Z0,this.updater=n||X0}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eE(){}eE.prototype=Uo.prototype;function Ag(t,e,n){this.props=t,this.context=e,this.refs=Z0,this.updater=n||X0}var Cg=Ag.prototype=new eE;Cg.constructor=Ag;J0(Cg,Uo.prototype);Cg.isPureReactComponent=!0;var av=Array.isArray,tE=Object.prototype.hasOwnProperty,Pg={current:null},nE={key:!0,ref:!0,__self:!0,__source:!0};function rE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tE.call(e,r)&&!nE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dl,type:t,key:s,ref:o,props:i,_owner:Pg.current}}function lR(t,e){return{$$typeof:Dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dl}function uR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lv=/\/+/g;function Zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uR(""+t.key):e.toString(36)}function ic(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dl:case XP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zd(o,0):r,av(i)?(n="",t!=null&&(n=t.replace(lv,"$&/")+"/"),ic(i,e,n,"",function(c){return c})):i!=null&&(Rg(i)&&(i=lR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",av(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Zd(s,a);o+=ic(s,e,n,u,i)}else if(u=aR(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Zd(s,a++),o+=ic(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ru(t,e,n){if(t==null)return t;var r=[],i=0;return ic(t,r,"","",function(s){return e.call(n,s,i++)}),r}function cR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},sc={transition:null},hR={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:sc,ReactCurrentOwner:Pg};Te.Children={map:Ru,forEach:function(t,e,n){Ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ru(t,function(){e++}),e},toArray:function(t){return Ru(t,function(e){return e})||[]},only:function(t){if(!Rg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Uo;Te.Fragment=JP;Te.Profiler=eR;Te.PureComponent=Ag;Te.StrictMode=ZP;Te.Suspense=iR;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hR;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Pg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)tE.call(e,u)&&!nE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dl,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:nR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tR,_context:t},t.Consumer=t};Te.createElement=rE;Te.createFactory=function(t){var e=rE.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:rR,render:t}};Te.isValidElement=Rg;Te.lazy=function(t){return{$$typeof:oR,_payload:{_status:-1,_result:t},_init:cR}};Te.memo=function(t,e){return{$$typeof:sR,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=sc.transition;sc.transition={};try{t()}finally{sc.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return tn.current.useCallback(t,e)};Te.useContext=function(t){return tn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return tn.current.useEffect(t,e)};Te.useId=function(){return tn.current.useId()};Te.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return tn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};Te.useRef=function(t){return tn.current.useRef(t)};Te.useState=function(t){return tn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return tn.current.useTransition()};Te.version="18.2.0";Y0.exports=Te;var Y=Y0.exports;const dR=G0(Y),fR=QP({__proto__:null,default:dR},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR=Y,gR=Symbol.for("react.element"),mR=Symbol.for("react.fragment"),yR=Object.prototype.hasOwnProperty,_R=pR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vR={key:!0,ref:!0,__self:!0,__source:!0};function iE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yR.call(e,r)&&!vR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gR,type:t,key:s,ref:o,props:i,_owner:_R.current}}Eh.Fragment=mR;Eh.jsx=iE;Eh.jsxs=iE;Q0.exports=Eh;var C=Q0.exports,Yf={},sE={exports:{}},En={},oE={exports:{}},aE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,S){var _=D.length;D.push(S);e:for(;0<_;){var N=_-1>>>1,E=D[N];if(0<i(E,S))D[N]=S,D[_]=E,_=N;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var S=D[0],_=D.pop();if(_!==S){D[0]=_;e:for(var N=0,E=D.length,M=E>>>1;N<M;){var U=2*(N+1)-1,W=D[U],Z=U+1,ue=D[Z];if(0>i(W,_))Z<E&&0>i(ue,W)?(D[N]=ue,D[Z]=_,N=Z):(D[N]=W,D[U]=_,N=U);else if(Z<E&&0>i(ue,_))D[N]=ue,D[Z]=_,N=Z;else break e}}return S}function i(D,S){var _=D.sortIndex-S.sortIndex;return _!==0?_:D.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,y=3,I=!1,O=!1,x=!1,L=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(D){for(var S=n(c);S!==null;){if(S.callback===null)r(c);else if(S.startTime<=D)r(c),S.sortIndex=S.expirationTime,e(u,S);else break;S=n(c)}}function A(D){if(x=!1,T(D),!O)if(n(u)!==null)O=!0,Ue(j);else{var S=n(c);S!==null&&Oe(A,S.startTime-D)}}function j(D,S){O=!1,x&&(x=!1,v(b),b=-1),I=!0;var _=y;try{for(T(S),p=n(u);p!==null&&(!(p.expirationTime>S)||D&&!$());){var N=p.callback;if(typeof N=="function"){p.callback=null,y=p.priorityLevel;var E=N(p.expirationTime<=S);S=t.unstable_now(),typeof E=="function"?p.callback=E:p===n(u)&&r(u),T(S)}else r(u);p=n(u)}if(p!==null)var M=!0;else{var U=n(c);U!==null&&Oe(A,U.startTime-S),M=!1}return M}finally{p=null,y=_,I=!1}}var V=!1,B=null,b=-1,w=5,P=-1;function $(){return!(t.unstable_now()-P<w)}function z(){if(B!==null){var D=t.unstable_now();P=D;var S=!0;try{S=B(!0,D)}finally{S?G():(V=!1,B=null)}}else V=!1}var G;if(typeof m=="function")G=function(){m(z)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,be=ve.port2;ve.port1.onmessage=z,G=function(){be.postMessage(null)}}else G=function(){L(z,0)};function Ue(D){B=D,V||(V=!0,G())}function Oe(D,S){b=L(function(){D(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){O||I||(O=!0,Ue(j))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(y){case 1:case 2:case 3:var S=3;break;default:S=y}var _=y;y=S;try{return D()}finally{y=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,S){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var _=y;y=D;try{return S()}finally{y=_}},t.unstable_scheduleCallback=function(D,S,_){var N=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?N+_:N):_=N,D){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=_+E,D={id:d++,callback:S,priorityLevel:D,startTime:_,expirationTime:E,sortIndex:-1},_>N?(D.sortIndex=_,e(c,D),n(u)===null&&D===n(c)&&(x?(v(b),b=-1):x=!0,Oe(A,_-N))):(D.sortIndex=E,e(u,D),O||I||(O=!0,Ue(j))),D},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(D){var S=y;return function(){var _=y;y=S;try{return D.apply(this,arguments)}finally{y=_}}}})(aE);oE.exports=aE;var wR=oE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE=Y,vn=wR;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uE=new Set,Ya={};function Es(t,e){To(t,e),To(t+"Capture",e)}function To(t,e){for(Ya[t]=e,t=0;t<e.length;t++)uE.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=Object.prototype.hasOwnProperty,ER=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uv={},cv={};function IR(t){return Xf.call(cv,t)?!0:Xf.call(uv,t)?!1:ER.test(t)?cv[t]=!0:(uv[t]=!0,!1)}function TR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SR(t,e,n,r){if(e===null||typeof e>"u"||TR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kg=/[\-:]([a-z])/g;function bg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kg,bg);Ot[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kg,bg);Ot[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kg,bg);Ot[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Og(t,e,n,r){var i=Ot.hasOwnProperty(e)?Ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SR(e,n,i,r)&&(n=null),r||i===null?IR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=lE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),hE=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Zf=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),dE=Symbol.for("react.offscreen"),hv=Symbol.iterator;function ha(t){return t===null||typeof t!="object"?null:(t=hv&&t[hv]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,ef;function Ia(t){if(ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ef=e&&e[1]||""}return`
`+ef+t}var tf=!1;function nf(t,e){if(!t||tf)return"";tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ia(t):""}function AR(t){switch(t.tag){case 5:return Ia(t.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return t=nf(t.type,!1),t;case 11:return t=nf(t.type.render,!1),t;case 1:return t=nf(t.type,!0),t;default:return""}}function tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Js:return"Fragment";case Xs:return"Portal";case Jf:return"Profiler";case xg:return"StrictMode";case Zf:return"Suspense";case ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hE:return(t.displayName||"Context")+".Consumer";case cE:return(t._context.displayName||"Context")+".Provider";case Dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ng:return e=t.displayName||null,e!==null?e:tp(t.type)||"Memo";case Jr:e=t._payload,t=t._init;try{return tp(t(e))}catch{}}return null}function CR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tp(e);case 8:return e===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PR(t){var e=fE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bu(t){t._valueTracker||(t._valueTracker=PR(t))}function pE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function np(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gE(t,e){e=e.checked,e!=null&&Og(t,"checked",e,!1)}function rp(t,e){gE(t,e);var n=Ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ip(t,e.type,n):e.hasOwnProperty("defaultValue")&&ip(t,e.type,Ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ip(t,e,n){(e!=="number"||Sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ta=Array.isArray;function co(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ti(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Ta(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ti(n)}}function mE(t,e){var n=Ti(e.value),r=Ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,_E=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RR=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(t){RR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Da[e]=Da[t]})});function vE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Da.hasOwnProperty(t)&&Da[t]?(""+e).trim():e+"px"}function wE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kR=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(t,e){if(e){if(kR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function lp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function Lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,ho=null,fo=null;function mv(t){if(t=Ml(t)){if(typeof cp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Ch(e),cp(t.stateNode,t.type,e))}}function EE(t){ho?fo?fo.push(t):fo=[t]:ho=t}function IE(){if(ho){var t=ho,e=fo;if(fo=ho=null,mv(t),e)for(t=0;t<e.length;t++)mv(e[t])}}function TE(t,e){return t(e)}function SE(){}var rf=!1;function AE(t,e,n){if(rf)return t(e,n);rf=!0;try{return TE(t,e,n)}finally{rf=!1,(ho!==null||fo!==null)&&(SE(),IE())}}function Ja(t,e){var n=t.stateNode;if(n===null)return null;var r=Ch(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var hp=!1;if(Dr)try{var da={};Object.defineProperty(da,"passive",{get:function(){hp=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{hp=!1}function bR(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Na=!1,Ac=null,Cc=!1,dp=null,OR={onError:function(t){Na=!0,Ac=t}};function xR(t,e,n,r,i,s,o,a,u){Na=!1,Ac=null,bR.apply(OR,arguments)}function DR(t,e,n,r,i,s,o,a,u){if(xR.apply(this,arguments),Na){if(Na){var c=Ac;Na=!1,Ac=null}else throw Error(K(198));Cc||(Cc=!0,dp=c)}}function Is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yv(t){if(Is(t)!==t)throw Error(K(188))}function NR(t){var e=t.alternate;if(!e){if(e=Is(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yv(i),t;if(s===r)return yv(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function PE(t){return t=NR(t),t!==null?RE(t):null}function RE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RE(t);if(e!==null)return e;t=t.sibling}return null}var kE=vn.unstable_scheduleCallback,_v=vn.unstable_cancelCallback,LR=vn.unstable_shouldYield,MR=vn.unstable_requestPaint,at=vn.unstable_now,VR=vn.unstable_getCurrentPriorityLevel,Mg=vn.unstable_ImmediatePriority,bE=vn.unstable_UserBlockingPriority,Pc=vn.unstable_NormalPriority,jR=vn.unstable_LowPriority,OE=vn.unstable_IdlePriority,Ih=null,cr=null;function UR(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Ih,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:BR,FR=Math.log,$R=Math.LN2;function BR(t){return t>>>=0,t===0?32:31-(FR(t)/$R|0)|0}var xu=64,Du=4194304;function Sa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Sa(a):(s&=o,s!==0&&(r=Sa(s)))}else o=n&~i,o!==0?r=Sa(o):s!==0&&(r=Sa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kn(e),i=1<<n,r|=t[n],e&=~i;return r}function zR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Kn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=zR(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xE(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function sf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=n}function WR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Vg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function DE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NE,jg,LE,ME,VE,pp=!1,Nu=[],ci=null,hi=null,di=null,Za=new Map,el=new Map,ei=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vv(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(e.pointerId)}}function fa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ml(e),e!==null&&jg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KR(t,e,n,r,i){switch(e){case"focusin":return ci=fa(ci,t,e,n,r,i),!0;case"dragenter":return hi=fa(hi,t,e,n,r,i),!0;case"mouseover":return di=fa(di,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Za.set(s,fa(Za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,el.set(s,fa(el.get(s)||null,t,e,n,r,i)),!0}return!1}function jE(t){var e=Yi(t.target);if(e!==null){var n=Is(e);if(n!==null){if(e=n.tag,e===13){if(e=CE(n),e!==null){t.blockedOn=e,VE(t.priority,function(){LE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);up=r,n.target.dispatchEvent(r),up=null}else return e=Ml(n),e!==null&&jg(e),t.blockedOn=n,!1;e.shift()}return!0}function wv(t,e,n){oc(t)&&n.delete(e)}function GR(){pp=!1,ci!==null&&oc(ci)&&(ci=null),hi!==null&&oc(hi)&&(hi=null),di!==null&&oc(di)&&(di=null),Za.forEach(wv),el.forEach(wv)}function pa(t,e){t.blockedOn===e&&(t.blockedOn=null,pp||(pp=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,GR)))}function tl(t){function e(i){return pa(i,t)}if(0<Nu.length){pa(Nu[0],t);for(var n=1;n<Nu.length;n++){var r=Nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&pa(ci,t),hi!==null&&pa(hi,t),di!==null&&pa(di,t),Za.forEach(e),el.forEach(e),n=0;n<ei.length;n++)r=ei[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)jE(n),n.blockedOn===null&&ei.shift()}var po=Br.ReactCurrentBatchConfig,kc=!0;function QR(t,e,n,r){var i=Ne,s=po.transition;po.transition=null;try{Ne=1,Ug(t,e,n,r)}finally{Ne=i,po.transition=s}}function YR(t,e,n,r){var i=Ne,s=po.transition;po.transition=null;try{Ne=4,Ug(t,e,n,r)}finally{Ne=i,po.transition=s}}function Ug(t,e,n,r){if(kc){var i=gp(t,e,n,r);if(i===null)gf(t,e,r,bc,n),vv(t,r);else if(KR(i,t,e,n,r))r.stopPropagation();else if(vv(t,r),e&4&&-1<qR.indexOf(t)){for(;i!==null;){var s=Ml(i);if(s!==null&&NE(s),s=gp(t,e,n,r),s===null&&gf(t,e,r,bc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gf(t,e,r,null,n)}}var bc=null;function gp(t,e,n,r){if(bc=null,t=Lg(r),t=Yi(t),t!==null)if(e=Is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bc=t,null}function UE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VR()){case Mg:return 1;case bE:return 4;case Pc:case jR:return 16;case OE:return 536870912;default:return 16}default:return 16}}var oi=null,Fg=null,ac=null;function FE(){if(ac)return ac;var t,e=Fg,n=e.length,r,i="value"in oi?oi.value:oi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ac=i.slice(t,1<r?1-r:void 0)}function lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lu(){return!0}function Ev(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lu:Ev,this.isPropagationStopped=Ev,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=In(Fo),Ll=Xe({},Fo,{view:0,detail:0}),XR=In(Ll),of,af,ga,Th=Xe({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(of=t.screenX-ga.screenX,af=t.screenY-ga.screenY):af=of=0,ga=t),of)},movementY:function(t){return"movementY"in t?t.movementY:af}}),Iv=In(Th),JR=Xe({},Th,{dataTransfer:0}),ZR=In(JR),ek=Xe({},Ll,{relatedTarget:0}),lf=In(ek),tk=Xe({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),nk=In(tk),rk=Xe({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ik=In(rk),sk=Xe({},Fo,{data:0}),Tv=In(sk),ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ak={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lk[t])?!!e[t]:!1}function Bg(){return uk}var ck=Xe({},Ll,{key:function(t){if(t.key){var e=ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ak[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(t){return t.type==="keypress"?lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hk=In(ck),dk=Xe({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sv=In(dk),fk=Xe({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),pk=In(fk),gk=Xe({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),mk=In(gk),yk=Xe({},Th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_k=In(yk),vk=[9,13,27,32],zg=Dr&&"CompositionEvent"in window,La=null;Dr&&"documentMode"in document&&(La=document.documentMode);var wk=Dr&&"TextEvent"in window&&!La,$E=Dr&&(!zg||La&&8<La&&11>=La),Av=String.fromCharCode(32),Cv=!1;function BE(t,e){switch(t){case"keyup":return vk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zs=!1;function Ek(t,e){switch(t){case"compositionend":return zE(e);case"keypress":return e.which!==32?null:(Cv=!0,Av);case"textInput":return t=e.data,t===Av&&Cv?null:t;default:return null}}function Ik(t,e){if(Zs)return t==="compositionend"||!zg&&BE(t,e)?(t=FE(),ac=Fg=oi=null,Zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $E&&e.locale!=="ko"?null:e.data;default:return null}}var Tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tk[t.type]:e==="textarea"}function HE(t,e,n,r){EE(r),e=Oc(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ma=null,nl=null;function Sk(t){tI(t,0)}function Sh(t){var e=no(t);if(pE(e))return t}function Ak(t,e){if(t==="change")return e}var WE=!1;if(Dr){var uf;if(Dr){var cf="oninput"in document;if(!cf){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),cf=typeof Rv.oninput=="function"}uf=cf}else uf=!1;WE=uf&&(!document.documentMode||9<document.documentMode)}function kv(){Ma&&(Ma.detachEvent("onpropertychange",qE),nl=Ma=null)}function qE(t){if(t.propertyName==="value"&&Sh(nl)){var e=[];HE(e,nl,t,Lg(t)),AE(Sk,e)}}function Ck(t,e,n){t==="focusin"?(kv(),Ma=e,nl=n,Ma.attachEvent("onpropertychange",qE)):t==="focusout"&&kv()}function Pk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sh(nl)}function Rk(t,e){if(t==="click")return Sh(e)}function kk(t,e){if(t==="input"||t==="change")return Sh(e)}function bk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:bk;function rl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xf.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ov(t,e){var n=bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bv(n)}}function KE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GE(){for(var t=window,e=Sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sc(t.document)}return e}function Hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ok(t){var e=GE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&KE(n.ownerDocument.documentElement,n)){if(r!==null&&Hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ov(n,s);var o=Ov(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xk=Dr&&"documentMode"in document&&11>=document.documentMode,eo=null,mp=null,Va=null,yp=!1;function xv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yp||eo==null||eo!==Sc(r)||(r=eo,"selectionStart"in r&&Hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Va&&rl(Va,r)||(Va=r,r=Oc(mp,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=eo)))}function Mu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var to={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},hf={},QE={};Dr&&(QE=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Ah(t){if(hf[t])return hf[t];if(!to[t])return t;var e=to[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QE)return hf[t]=e[n];return t}var YE=Ah("animationend"),XE=Ah("animationiteration"),JE=Ah("animationstart"),ZE=Ah("transitionend"),eI=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){eI.set(t,e),Es(e,[t])}for(var df=0;df<Dv.length;df++){var ff=Dv[df],Dk=ff.toLowerCase(),Nk=ff[0].toUpperCase()+ff.slice(1);ki(Dk,"on"+Nk)}ki(YE,"onAnimationEnd");ki(XE,"onAnimationIteration");ki(JE,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(ZE,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Nv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DR(r,e,void 0,t),t.currentTarget=null}function tI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Nv(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Nv(i,a,c),s=u}}}if(Cc)throw t=dp,Cc=!1,dp=null,t}function ze(t,e){var n=e[Ip];n===void 0&&(n=e[Ip]=new Set);var r=t+"__bubble";n.has(r)||(nI(e,t,2,!1),n.add(r))}function pf(t,e,n){var r=0;e&&(r|=4),nI(n,t,r,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function il(t){if(!t[Vu]){t[Vu]=!0,uE.forEach(function(n){n!=="selectionchange"&&(Lk.has(n)||pf(n,!1,t),pf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,pf("selectionchange",!1,e))}}function nI(t,e,n,r){switch(UE(e)){case 1:var i=QR;break;case 4:i=YR;break;default:i=Ug}n=i.bind(null,e,n,t),i=void 0,!hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}AE(function(){var c=s,d=Lg(n),p=[];e:{var y=eI.get(t);if(y!==void 0){var I=$g,O=t;switch(t){case"keypress":if(lc(n)===0)break e;case"keydown":case"keyup":I=hk;break;case"focusin":O="focus",I=lf;break;case"focusout":O="blur",I=lf;break;case"beforeblur":case"afterblur":I=lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=ZR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=pk;break;case YE:case XE:case JE:I=nk;break;case ZE:I=mk;break;case"scroll":I=XR;break;case"wheel":I=_k;break;case"copy":case"cut":case"paste":I=ik;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Sv}var x=(e&4)!==0,L=!x&&t==="scroll",v=x?y!==null?y+"Capture":null:y;x=[];for(var m=c,T;m!==null;){T=m;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,v!==null&&(A=Ja(m,v),A!=null&&x.push(sl(m,A,T)))),L)break;m=m.return}0<x.length&&(y=new I(y,O,null,n,d),p.push({event:y,listeners:x}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",y&&n!==up&&(O=n.relatedTarget||n.fromElement)&&(Yi(O)||O[Nr]))break e;if((I||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,I?(O=n.relatedTarget||n.toElement,I=c,O=O?Yi(O):null,O!==null&&(L=Is(O),O!==L||O.tag!==5&&O.tag!==6)&&(O=null)):(I=null,O=c),I!==O)){if(x=Iv,A="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(x=Sv,A="onPointerLeave",v="onPointerEnter",m="pointer"),L=I==null?y:no(I),T=O==null?y:no(O),y=new x(A,m+"leave",I,n,d),y.target=L,y.relatedTarget=T,A=null,Yi(d)===c&&(x=new x(v,m+"enter",O,n,d),x.target=T,x.relatedTarget=L,A=x),L=A,I&&O)t:{for(x=I,v=O,m=0,T=x;T;T=Ks(T))m++;for(T=0,A=v;A;A=Ks(A))T++;for(;0<m-T;)x=Ks(x),m--;for(;0<T-m;)v=Ks(v),T--;for(;m--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ks(x),v=Ks(v)}x=null}else x=null;I!==null&&Lv(p,y,I,x,!1),O!==null&&L!==null&&Lv(p,L,O,x,!0)}}e:{if(y=c?no(c):window,I=y.nodeName&&y.nodeName.toLowerCase(),I==="select"||I==="input"&&y.type==="file")var j=Ak;else if(Pv(y))if(WE)j=kk;else{j=Pk;var V=Ck}else(I=y.nodeName)&&I.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(j=Rk);if(j&&(j=j(t,c))){HE(p,j,n,d);break e}V&&V(t,y,c),t==="focusout"&&(V=y._wrapperState)&&V.controlled&&y.type==="number"&&ip(y,"number",y.value)}switch(V=c?no(c):window,t){case"focusin":(Pv(V)||V.contentEditable==="true")&&(eo=V,mp=c,Va=null);break;case"focusout":Va=mp=eo=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,xv(p,n,d);break;case"selectionchange":if(xk)break;case"keydown":case"keyup":xv(p,n,d)}var B;if(zg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zs?BE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&($E&&n.locale!=="ko"&&(Zs||b!=="onCompositionStart"?b==="onCompositionEnd"&&Zs&&(B=FE()):(oi=d,Fg="value"in oi?oi.value:oi.textContent,Zs=!0)),V=Oc(c,b),0<V.length&&(b=new Tv(b,t,null,n,d),p.push({event:b,listeners:V}),B?b.data=B:(B=zE(n),B!==null&&(b.data=B)))),(B=wk?Ek(t,n):Ik(t,n))&&(c=Oc(c,"onBeforeInput"),0<c.length&&(d=new Tv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=B))}tI(p,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ja(t,n),s!=null&&r.unshift(sl(t,s,i)),s=Ja(t,e),s!=null&&r.push(sl(t,s,i))),t=t.return}return r}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Ja(n,s),u!=null&&o.unshift(sl(n,u,a))):i||(u=Ja(n,s),u!=null&&o.push(sl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Mk=/\r\n?/g,Vk=/\u0000|\uFFFD/g;function Mv(t){return(typeof t=="string"?t:""+t).replace(Mk,`
`).replace(Vk,"")}function ju(t,e,n){if(e=Mv(e),Mv(t)!==e&&n)throw Error(K(425))}function xc(){}var _p=null,vp=null;function wp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,jk=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(t){return Vv.resolve(null).then(t).catch(Fk)}:Ep;function Fk(t){setTimeout(function(){throw t})}function mf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tl(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),sr="__reactFiber$"+$o,ol="__reactProps$"+$o,Nr="__reactContainer$"+$o,Ip="__reactEvents$"+$o,$k="__reactListeners$"+$o,Bk="__reactHandles$"+$o;function Yi(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jv(t);t!==null;){if(n=t[sr])return n;t=jv(t)}return e}t=n,n=t.parentNode}return null}function Ml(t){return t=t[sr]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function no(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Ch(t){return t[ol]||null}var Tp=[],ro=-1;function bi(t){return{current:t}}function We(t){0>ro||(t.current=Tp[ro],Tp[ro]=null,ro--)}function Be(t,e){ro++,Tp[ro]=t.current,t.current=e}var Si={},zt=bi(Si),an=bi(!1),ls=Si;function So(t,e){var n=t.type.contextTypes;if(!n)return Si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ln(t){return t=t.childContextTypes,t!=null}function Dc(){We(an),We(zt)}function Uv(t,e,n){if(zt.current!==Si)throw Error(K(168));Be(zt,e),Be(an,n)}function rI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,CR(t)||"Unknown",i));return Xe({},n,r)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,ls=zt.current,Be(zt,t),Be(an,an.current),!0}function Fv(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=rI(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,We(an),We(zt),Be(zt,t)):We(an),Be(an,n)}var Sr=null,Ph=!1,yf=!1;function iI(t){Sr===null?Sr=[t]:Sr.push(t)}function zk(t){Ph=!0,iI(t)}function Oi(){if(!yf&&Sr!==null){yf=!0;var t=0,e=Ne;try{var n=Sr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,Ph=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),kE(Mg,Oi),i}finally{Ne=e,yf=!1}}return null}var io=[],so=0,Lc=null,Mc=0,Rn=[],kn=0,us=null,Cr=1,Pr="";function Ki(t,e){io[so++]=Mc,io[so++]=Lc,Lc=t,Mc=e}function sI(t,e,n){Rn[kn++]=Cr,Rn[kn++]=Pr,Rn[kn++]=us,us=t;var r=Cr;t=Pr;var i=32-Kn(r)-1;r&=~(1<<i),n+=1;var s=32-Kn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-Kn(e)+i|n<<i|r,Pr=s+t}else Cr=1<<s|n<<i|r,Pr=t}function Wg(t){t.return!==null&&(Ki(t,1),sI(t,1,0))}function qg(t){for(;t===Lc;)Lc=io[--so],io[so]=null,Mc=io[--so],io[so]=null;for(;t===us;)us=Rn[--kn],Rn[kn]=null,Pr=Rn[--kn],Rn[kn]=null,Cr=Rn[--kn],Rn[kn]=null}var _n=null,mn=null,Ke=!1,Wn=null;function oI(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $v(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,mn=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:Cr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,mn=null,!0):!1;default:return!1}}function Sp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(Ke){var e=mn;if(e){var n=e;if(!$v(t,e)){if(Sp(t))throw Error(K(418));e=fi(n.nextSibling);var r=_n;e&&$v(t,e)?oI(r,n):(t.flags=t.flags&-4097|2,Ke=!1,_n=t)}}else{if(Sp(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ke=!1,_n=t}}}function Bv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function Uu(t){if(t!==_n)return!1;if(!Ke)return Bv(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wp(t.type,t.memoizedProps)),e&&(e=mn)){if(Sp(t))throw aI(),Error(K(418));for(;e;)oI(t,e),e=fi(e.nextSibling)}if(Bv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=_n?fi(t.stateNode.nextSibling):null;return!0}function aI(){for(var t=mn;t;)t=fi(t.nextSibling)}function Ao(){mn=_n=null,Ke=!1}function Kg(t){Wn===null?Wn=[t]:Wn.push(t)}var Hk=Br.ReactCurrentBatchConfig;function zn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Vc=bi(null),jc=null,oo=null,Gg=null;function Qg(){Gg=oo=jc=null}function Yg(t){var e=Vc.current;We(Vc),t._currentValue=e}function Cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){jc=t,Gg=oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(on=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(Gg!==t)if(t={context:t,memoizedValue:e,next:null},oo===null){if(jc===null)throw Error(K(308));oo=t,jc.dependencies={lanes:0,firstContext:t}}else oo=oo.next=t;return e}var Xi=null;function Xg(t){Xi===null?Xi=[t]:Xi.push(t)}function lI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function Jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,Xg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}function zv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uc(t,e,n,r){var i=t.updateQueue;Zr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,a=s;do{var y=a.lane,I=a.eventTime;if((r&y)===y){d!==null&&(d=d.next={eventTime:I,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var O=t,x=a;switch(y=e,I=n,x.tag){case 1:if(O=x.payload,typeof O=="function"){p=O.call(I,p,y);break e}p=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=x.payload,y=typeof O=="function"?O.call(I,p,y):O,y==null)break e;p=Xe({},p,y);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else I={eventTime:I,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=I,u=p):d=d.next=I,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hs|=o,t.lanes=o,t.memoizedState=p}}function Hv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var cI=new lE.Component().refs;function Pp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rh={isMounted:function(t){return(t=t._reactInternals)?Is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),i=mi(t),s=Or(r,i);s.payload=e,n!=null&&(s.callback=n),e=pi(t,s,i),e!==null&&(Gn(e,t,i,r),uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),i=mi(t),s=Or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pi(t,s,i),e!==null&&(Gn(e,t,i,r),uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=mi(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=pi(t,i,r),e!==null&&(Gn(e,t,r,n),uc(e,t,r))}};function Wv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!rl(n,r)||!rl(i,s):!0}function hI(t,e,n){var r=!1,i=Si,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=ln(e)?ls:zt.current,r=e.contextTypes,s=(r=r!=null)?So(t,i):Si),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rh.enqueueReplaceState(e,e.state,null)}function Rp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=cI,Jg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=ln(e)?ls:zt.current,i.context=So(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rh.enqueueReplaceState(i,i.state,null),Uc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===cI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Fu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kv(t){var e=t._init;return e(t._payload)}function dI(t){function e(v,m){if(t){var T=v.deletions;T===null?(v.deletions=[m],v.flags|=16):T.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=yi(v,m),v.index=0,v.sibling=null,v}function s(v,m,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<m?(v.flags|=2,m):T):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,T,A){return m===null||m.tag!==6?(m=Sf(T,v.mode,A),m.return=v,m):(m=i(m,T),m.return=v,m)}function u(v,m,T,A){var j=T.type;return j===Js?d(v,m,T.props.children,A,T.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Jr&&Kv(j)===m.type)?(A=i(m,T.props),A.ref=ma(v,m,T),A.return=v,A):(A=gc(T.type,T.key,T.props,null,v.mode,A),A.ref=ma(v,m,T),A.return=v,A)}function c(v,m,T,A){return m===null||m.tag!==4||m.stateNode.containerInfo!==T.containerInfo||m.stateNode.implementation!==T.implementation?(m=Af(T,v.mode,A),m.return=v,m):(m=i(m,T.children||[]),m.return=v,m)}function d(v,m,T,A,j){return m===null||m.tag!==7?(m=is(T,v.mode,A,j),m.return=v,m):(m=i(m,T),m.return=v,m)}function p(v,m,T){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Sf(""+m,v.mode,T),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ku:return T=gc(m.type,m.key,m.props,null,v.mode,T),T.ref=ma(v,null,m),T.return=v,T;case Xs:return m=Af(m,v.mode,T),m.return=v,m;case Jr:var A=m._init;return p(v,A(m._payload),T)}if(Ta(m)||ha(m))return m=is(m,v.mode,T,null),m.return=v,m;Fu(v,m)}return null}function y(v,m,T,A){var j=m!==null?m.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:a(v,m,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ku:return T.key===j?u(v,m,T,A):null;case Xs:return T.key===j?c(v,m,T,A):null;case Jr:return j=T._init,y(v,m,j(T._payload),A)}if(Ta(T)||ha(T))return j!==null?null:d(v,m,T,A,null);Fu(v,T)}return null}function I(v,m,T,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(T)||null,a(m,v,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ku:return v=v.get(A.key===null?T:A.key)||null,u(m,v,A,j);case Xs:return v=v.get(A.key===null?T:A.key)||null,c(m,v,A,j);case Jr:var V=A._init;return I(v,m,T,V(A._payload),j)}if(Ta(A)||ha(A))return v=v.get(T)||null,d(m,v,A,j,null);Fu(m,A)}return null}function O(v,m,T,A){for(var j=null,V=null,B=m,b=m=0,w=null;B!==null&&b<T.length;b++){B.index>b?(w=B,B=null):w=B.sibling;var P=y(v,B,T[b],A);if(P===null){B===null&&(B=w);break}t&&B&&P.alternate===null&&e(v,B),m=s(P,m,b),V===null?j=P:V.sibling=P,V=P,B=w}if(b===T.length)return n(v,B),Ke&&Ki(v,b),j;if(B===null){for(;b<T.length;b++)B=p(v,T[b],A),B!==null&&(m=s(B,m,b),V===null?j=B:V.sibling=B,V=B);return Ke&&Ki(v,b),j}for(B=r(v,B);b<T.length;b++)w=I(B,v,b,T[b],A),w!==null&&(t&&w.alternate!==null&&B.delete(w.key===null?b:w.key),m=s(w,m,b),V===null?j=w:V.sibling=w,V=w);return t&&B.forEach(function($){return e(v,$)}),Ke&&Ki(v,b),j}function x(v,m,T,A){var j=ha(T);if(typeof j!="function")throw Error(K(150));if(T=j.call(T),T==null)throw Error(K(151));for(var V=j=null,B=m,b=m=0,w=null,P=T.next();B!==null&&!P.done;b++,P=T.next()){B.index>b?(w=B,B=null):w=B.sibling;var $=y(v,B,P.value,A);if($===null){B===null&&(B=w);break}t&&B&&$.alternate===null&&e(v,B),m=s($,m,b),V===null?j=$:V.sibling=$,V=$,B=w}if(P.done)return n(v,B),Ke&&Ki(v,b),j;if(B===null){for(;!P.done;b++,P=T.next())P=p(v,P.value,A),P!==null&&(m=s(P,m,b),V===null?j=P:V.sibling=P,V=P);return Ke&&Ki(v,b),j}for(B=r(v,B);!P.done;b++,P=T.next())P=I(B,v,b,P.value,A),P!==null&&(t&&P.alternate!==null&&B.delete(P.key===null?b:P.key),m=s(P,m,b),V===null?j=P:V.sibling=P,V=P);return t&&B.forEach(function(z){return e(v,z)}),Ke&&Ki(v,b),j}function L(v,m,T,A){if(typeof T=="object"&&T!==null&&T.type===Js&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ku:e:{for(var j=T.key,V=m;V!==null;){if(V.key===j){if(j=T.type,j===Js){if(V.tag===7){n(v,V.sibling),m=i(V,T.props.children),m.return=v,v=m;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Jr&&Kv(j)===V.type){n(v,V.sibling),m=i(V,T.props),m.ref=ma(v,V,T),m.return=v,v=m;break e}n(v,V);break}else e(v,V);V=V.sibling}T.type===Js?(m=is(T.props.children,v.mode,A,T.key),m.return=v,v=m):(A=gc(T.type,T.key,T.props,null,v.mode,A),A.ref=ma(v,m,T),A.return=v,v=A)}return o(v);case Xs:e:{for(V=T.key;m!==null;){if(m.key===V)if(m.tag===4&&m.stateNode.containerInfo===T.containerInfo&&m.stateNode.implementation===T.implementation){n(v,m.sibling),m=i(m,T.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=Af(T,v.mode,A),m.return=v,v=m}return o(v);case Jr:return V=T._init,L(v,m,V(T._payload),A)}if(Ta(T))return O(v,m,T,A);if(ha(T))return x(v,m,T,A);Fu(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,T),m.return=v,v=m):(n(v,m),m=Sf(T,v.mode,A),m.return=v,v=m),o(v)):n(v,m)}return L}var Co=dI(!0),fI=dI(!1),Vl={},hr=bi(Vl),al=bi(Vl),ll=bi(Vl);function Ji(t){if(t===Vl)throw Error(K(174));return t}function Zg(t,e){switch(Be(ll,e),Be(al,t),Be(hr,Vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=op(e,t)}We(hr),Be(hr,e)}function Po(){We(hr),We(al),We(ll)}function pI(t){Ji(ll.current);var e=Ji(hr.current),n=op(e,t.type);e!==n&&(Be(al,t),Be(hr,n))}function em(t){al.current===t&&(We(hr),We(al))}var Qe=bi(0);function Fc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _f=[];function tm(){for(var t=0;t<_f.length;t++)_f[t]._workInProgressVersionPrimary=null;_f.length=0}var cc=Br.ReactCurrentDispatcher,vf=Br.ReactCurrentBatchConfig,cs=0,Ye=null,pt=null,Et=null,$c=!1,ja=!1,ul=0,Wk=0;function Dt(){throw Error(K(321))}function nm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function rm(t,e,n,r,i,s){if(cs=s,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?Qk:Yk,t=n(r,i),ja){s=0;do{if(ja=!1,ul=0,25<=s)throw Error(K(301));s+=1,Et=pt=null,e.updateQueue=null,cc.current=Xk,t=n(r,i)}while(ja)}if(cc.current=Bc,e=pt!==null&&pt.next!==null,cs=0,Et=pt=Ye=null,$c=!1,e)throw Error(K(300));return t}function im(){var t=ul!==0;return ul=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ye.memoizedState=Et=t:Et=Et.next=t,Et}function Ln(){if(pt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Et===null?Ye.memoizedState:Et.next;if(e!==null)Et=e,pt=t;else{if(t===null)throw Error(K(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Ye.memoizedState=Et=t:Et=Et.next=t}return Et}function cl(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=Ln(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((cs&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Ye.lanes|=d,hs|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Yn(r,e.memoizedState)||(on=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ye.lanes|=s,hs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ef(t){var e=Ln(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(on=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function gI(){}function mI(t,e){var n=Ye,r=Ln(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,on=!0),r=r.queue,sm(vI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,hl(9,_I.bind(null,n,r,i,e),void 0,null),It===null)throw Error(K(349));cs&30||yI(n,e,i)}return i}function yI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _I(t,e,n,r){e.value=n,e.getSnapshot=r,wI(e)&&EI(t)}function vI(t,e,n){return n(function(){wI(e)&&EI(t)})}function wI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function EI(t){var e=Lr(t,1);e!==null&&Gn(e,t,1,-1)}function Gv(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},e.queue=t,t=t.dispatch=Gk.bind(null,Ye,t),[e.memoizedState,t]}function hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function II(){return Ln().memoizedState}function hc(t,e,n,r){var i=ir();Ye.flags|=t,i.memoizedState=hl(1|e,n,void 0,r===void 0?null:r)}function kh(t,e,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&nm(r,o.deps)){i.memoizedState=hl(e,n,s,r);return}}Ye.flags|=t,i.memoizedState=hl(1|e,n,s,r)}function Qv(t,e){return hc(8390656,8,t,e)}function sm(t,e){return kh(2048,8,t,e)}function TI(t,e){return kh(4,2,t,e)}function SI(t,e){return kh(4,4,t,e)}function AI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CI(t,e,n){return n=n!=null?n.concat([t]):null,kh(4,4,AI.bind(null,e,t),n)}function om(){}function PI(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RI(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kI(t,e,n){return cs&21?(Yn(n,e)||(n=xE(),Ye.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=n)}function qk(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=vf.transition;vf.transition={};try{t(!1),e()}finally{Ne=n,vf.transition=r}}function bI(){return Ln().memoizedState}function Kk(t,e,n){var r=mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OI(t))xI(e,n);else if(n=lI(t,e,n,r),n!==null){var i=en();Gn(n,t,r,i),DI(n,e,r)}}function Gk(t,e,n){var r=mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OI(t))xI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var u=e.interleaved;u===null?(i.next=i,Xg(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=lI(t,e,i,r),n!==null&&(i=en(),Gn(n,t,r,i),DI(n,e,r))}}function OI(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function xI(t,e){ja=$c=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}var Bc={readContext:Nn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Qk={readContext:Nn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:Qv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hc(4194308,4,AI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hc(4194308,4,t,e)},useInsertionEffect:function(t,e){return hc(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Kk.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:Gv,useDebugValue:om,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=Gv(!1),e=t[0];return t=qk.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,i=ir();if(Ke){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),It===null)throw Error(K(349));cs&30||yI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qv(vI.bind(null,r,s,t),[t]),r.flags|=2048,hl(9,_I.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ir(),e=It.identifierPrefix;if(Ke){var n=Pr,r=Cr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Wk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yk={readContext:Nn,useCallback:PI,useContext:Nn,useEffect:sm,useImperativeHandle:CI,useInsertionEffect:TI,useLayoutEffect:SI,useMemo:RI,useReducer:wf,useRef:II,useState:function(){return wf(cl)},useDebugValue:om,useDeferredValue:function(t){var e=Ln();return kI(e,pt.memoizedState,t)},useTransition:function(){var t=wf(cl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:gI,useSyncExternalStore:mI,useId:bI,unstable_isNewReconciler:!1},Xk={readContext:Nn,useCallback:PI,useContext:Nn,useEffect:sm,useImperativeHandle:CI,useInsertionEffect:TI,useLayoutEffect:SI,useMemo:RI,useReducer:Ef,useRef:II,useState:function(){return Ef(cl)},useDebugValue:om,useDeferredValue:function(t){var e=Ln();return pt===null?e.memoizedState=t:kI(e,pt.memoizedState,t)},useTransition:function(){var t=Ef(cl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:gI,useSyncExternalStore:mI,useId:bI,unstable_isNewReconciler:!1};function Ro(t,e){try{var n="",r=e;do n+=AR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function If(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jk=typeof WeakMap=="function"?WeakMap:Map;function NI(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hc||(Hc=!0,Up=r),kp(t,e)},n}function LI(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kp(t,e),typeof r!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=db.bind(null,t,e,n),e.then(t,t))}function Xv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,pi(n,e,1))),n.lanes|=1),t)}var Zk=Br.ReactCurrentOwner,on=!1;function Jt(t,e,n,r){e.child=t===null?fI(e,null,n,r):Co(e,t.child,n,r)}function Zv(t,e,n,r,i){n=n.render;var s=e.ref;return go(e,i),r=rm(t,e,n,r,s,i),n=im(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Ke&&n&&Wg(e),e.flags|=1,Jt(t,e,r,i),e.child)}function ew(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,MI(t,e,s,r,i)):(t=gc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(o,r)&&t.ref===e.ref)return Mr(t,e,i)}return e.flags|=1,t=yi(s,r),t.ref=e.ref,t.return=e,e.child=t}function MI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(rl(s,r)&&t.ref===e.ref)if(on=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(on=!0);else return e.lanes=t.lanes,Mr(t,e,i)}return bp(t,e,n,r,i)}function VI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(lo,gn),gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(lo,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(lo,gn),gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(lo,gn),gn|=r;return Jt(t,e,i,n),e.child}function jI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bp(t,e,n,r,i){var s=ln(n)?ls:zt.current;return s=So(e,s),go(e,i),n=rm(t,e,n,r,s,i),r=im(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Ke&&r&&Wg(e),e.flags|=1,Jt(t,e,n,i),e.child)}function tw(t,e,n,r,i){if(ln(n)){var s=!0;Nc(e)}else s=!1;if(go(e,i),e.stateNode===null)dc(t,e),hI(e,n,r),Rp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=ln(n)?ls:zt.current,c=So(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&qv(e,o,r,c),Zr=!1;var y=e.memoizedState;o.state=y,Uc(e,r,o,i),u=e.memoizedState,a!==r||y!==u||an.current||Zr?(typeof d=="function"&&(Pp(e,n,d,r),u=e.memoizedState),(a=Zr||Wv(e,n,a,r,y,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zn(e.type,a),o.props=c,p=e.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Nn(u):(u=ln(n)?ls:zt.current,u=So(e,u));var I=n.getDerivedStateFromProps;(d=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==u)&&qv(e,o,r,u),Zr=!1,y=e.memoizedState,o.state=y,Uc(e,r,o,i);var O=e.memoizedState;a!==p||y!==O||an.current||Zr?(typeof I=="function"&&(Pp(e,n,I,r),O=e.memoizedState),(c=Zr||Wv(e,n,c,r,y,O,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,O,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,O,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=O),o.props=r,o.state=O,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Op(t,e,n,r,s,i)}function Op(t,e,n,r,i,s){jI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fv(e,n,!1),Mr(t,e,s);r=e.stateNode,Zk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Co(e,t.child,null,s),e.child=Co(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&Fv(e,n,!0),e.child}function UI(t){var e=t.stateNode;e.pendingContext?Uv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uv(t,e.context,!1),Zg(t,e.containerInfo)}function nw(t,e,n,r,i){return Ao(),Kg(i),e.flags|=256,Jt(t,e,n,r),e.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function Dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function FI(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Qe,i&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xh(o,r,0,null),t=is(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dp(n),e.memoizedState=xp,t):am(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=yi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=yi(a,s):(s=is(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xp,r}return s=t.child,t=s.sibling,r=yi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function am(t,e){return e=xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $u(t,e,n,r){return r!==null&&Kg(r),Co(e,t.child,null,n),t=am(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=If(Error(K(422))),$u(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xh({mode:"visible",children:r.children},i,0,null),s=is(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Co(e,t.child,null,o),e.child.memoizedState=Dp(o),e.memoizedState=xp,s);if(!(e.mode&1))return $u(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=If(s,r,void 0),$u(t,e,o,r)}if(a=(o&t.childLanes)!==0,on||a){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lr(t,i),Gn(r,t,i,-1))}return fm(),r=If(Error(K(421))),$u(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mn=fi(i.nextSibling),_n=e,Ke=!0,Wn=null,t!==null&&(Rn[kn++]=Cr,Rn[kn++]=Pr,Rn[kn++]=us,Cr=t.id,Pr=t.overflow,us=e),e=am(e,r.children),e.flags|=4096,e)}function rw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cp(t.return,e,n)}function Tf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $I(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rw(t,n,e);else if(t.tag===19)rw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tf(e,!0,n,null,s);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tb(t,e,n){switch(e.tag){case 3:UI(e),Ao();break;case 5:pI(e);break;case 1:ln(e.type)&&Nc(e);break;case 4:Zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(Vc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?FI(t,e,n):(Be(Qe,Qe.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $I(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,VI(t,e,n)}return Mr(t,e,n)}var BI,Np,zI,HI;BI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Np=function(){};zI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ji(hr.current);var s=null;switch(n){case"input":i=np(t,i),r=np(t,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=sp(t,i),r=sp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xc)}ap(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ya.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ze("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};HI=function(t,e,n,r){n!==r&&(e.flags|=4)};function ya(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nb(t,e,n){var r=e.pendingProps;switch(qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return ln(e.type)&&Dc(),Nt(e),null;case 3:return r=e.stateNode,Po(),We(an),We(zt),tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Uu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wn!==null&&(Bp(Wn),Wn=null))),Np(t,e),Nt(e),null;case 5:em(e);var i=Ji(ll.current);if(n=e.type,t!==null&&e.stateNode!=null)zI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Nt(e),null}if(t=Ji(hr.current),Uu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[ol]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Aa.length;i++)ze(Aa[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":dv(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":pv(r,s),ze("invalid",r)}ap(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ju(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ju(r.textContent,a,t),i=["children",""+a]):Ya.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":bu(r),fv(r,s,!0);break;case"textarea":bu(r),gv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[ol]=r,BI(t,e,!1,!1),e.stateNode=t;e:{switch(o=lp(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Aa.length;i++)ze(Aa[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":dv(t,r),i=np(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),ze("invalid",t);break;case"textarea":pv(t,r),i=sp(t,r),ze("invalid",t);break;default:i=r}ap(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?wE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_E(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Xa(t,u):typeof u=="number"&&Xa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ya.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ze("scroll",t):u!=null&&Og(t,s,u,o))}switch(n){case"input":bu(t),fv(t,r,!1);break;case"textarea":bu(t),gv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ti(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?co(t,!!r.multiple,s,!1):r.defaultValue!=null&&co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)HI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Ji(ll.current),Ji(hr.current),Uu(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:ju(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ju(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Nt(e),null;case 13:if(We(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&mn!==null&&e.mode&1&&!(e.flags&128))aI(),Ao(),e.flags|=98560,s=!1;else if(s=Uu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[sr]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else Wn!==null&&(Bp(Wn),Wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?mt===0&&(mt=3):fm())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Po(),Np(t,e),t===null&&il(e.stateNode.containerInfo),Nt(e),null;case 10:return Yg(e.type._context),Nt(e),null;case 17:return ln(e.type)&&Dc(),Nt(e),null;case 19:if(We(Qe),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ya(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fc(t),o!==null){for(e.flags|=128,ya(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>ko&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return Nt(e),null}else 2*at()-s.renderingStartTime>ko&&n!==1073741824&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Qe.current,Be(Qe,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return dm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function rb(t,e){switch(qg(e),e.tag){case 1:return ln(e.type)&&Dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Po(),We(an),We(zt),tm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return em(e),null;case 13:if(We(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Qe),null;case 4:return Po(),null;case 10:return Yg(e.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var Bu=!1,Vt=!1,ib=typeof WeakSet=="function"?WeakSet:Set,re=null;function ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Lp(t,e,n){try{n()}catch(r){et(t,e,r)}}var iw=!1;function sb(t,e){if(_p=kc,t=GE(),Hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=t,y=null;t:for(;;){for(var I;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(I=p.firstChild)!==null;)y=p,p=I;for(;;){if(p===t)break t;if(y===n&&++c===i&&(a=o),y===s&&++d===r&&(u=o),(I=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=I}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vp={focusedElem:t,selectionRange:n},kc=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var O=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var x=O.memoizedProps,L=O.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:zn(e.type,x),L);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(A){et(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return O=iw,iw=!1,O}function Ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lp(e,n,s)}i=i.next}while(i!==r)}}function bh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WI(t){var e=t.alternate;e!==null&&(t.alternate=null,WI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[ol],delete e[Ip],delete e[$k],delete e[Bk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qI(t){return t.tag===5||t.tag===3||t.tag===4}function sw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xc));else if(r!==4&&(t=t.child,t!==null))for(Vp(t,e,n),t=t.sibling;t!==null;)Vp(t,e,n),t=t.sibling}function jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jp(t,e,n),t=t.sibling;t!==null;)jp(t,e,n),t=t.sibling}var Ct=null,Hn=!1;function Yr(t,e,n){for(n=n.child;n!==null;)KI(t,e,n),n=n.sibling}function KI(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Ih,n)}catch{}switch(n.tag){case 5:Vt||ao(n,e);case 6:var r=Ct,i=Hn;Ct=null,Yr(t,e,n),Ct=r,Hn=i,Ct!==null&&(Hn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Hn?(t=Ct,n=n.stateNode,t.nodeType===8?mf(t.parentNode,n):t.nodeType===1&&mf(t,n),tl(t)):mf(Ct,n.stateNode));break;case 4:r=Ct,i=Hn,Ct=n.stateNode.containerInfo,Hn=!0,Yr(t,e,n),Ct=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lp(n,e,o),i=i.next}while(i!==r)}Yr(t,e,n);break;case 1:if(!Vt&&(ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Yr(t,e,n),Vt=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function ow(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ib),e.forEach(function(r){var i=pb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Hn=!1;break e;case 3:Ct=a.stateNode.containerInfo,Hn=!0;break e;case 4:Ct=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(Ct===null)throw Error(K(160));KI(s,o,i),Ct=null,Hn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GI(e,t),e=e.sibling}function GI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),rr(t),r&4){try{Ua(3,t,t.return),bh(3,t)}catch(x){et(t,t.return,x)}try{Ua(5,t,t.return)}catch(x){et(t,t.return,x)}}break;case 1:Bn(e,t),rr(t),r&512&&n!==null&&ao(n,n.return);break;case 5:if(Bn(e,t),rr(t),r&512&&n!==null&&ao(n,n.return),t.flags&32){var i=t.stateNode;try{Xa(i,"")}catch(x){et(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&gE(i,s),lp(a,o);var c=lp(a,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?wE(i,p):d==="dangerouslySetInnerHTML"?_E(i,p):d==="children"?Xa(i,p):Og(i,d,p,c)}switch(a){case"input":rp(i,s);break;case"textarea":mE(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?co(i,!!s.multiple,I,!1):y!==!!s.multiple&&(s.defaultValue!=null?co(i,!!s.multiple,s.defaultValue,!0):co(i,!!s.multiple,s.multiple?[]:"",!1))}i[ol]=s}catch(x){et(t,t.return,x)}}break;case 6:if(Bn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){et(t,t.return,x)}}break;case 3:if(Bn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(e.containerInfo)}catch(x){et(t,t.return,x)}break;case 4:Bn(e,t),rr(t);break;case 13:Bn(e,t),rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cm=at())),r&4&&ow(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(c=Vt)||d,Bn(e,t),Vt=c):Bn(e,t),rr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(p=re=d;re!==null;){switch(y=re,I=y.child,y.tag){case 0:case 11:case 14:case 15:Ua(4,y,y.return);break;case 1:ao(y,y.return);var O=y.stateNode;if(typeof O.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,O.props=e.memoizedProps,O.state=e.memoizedState,O.componentWillUnmount()}catch(x){et(r,n,x)}}break;case 5:ao(y,y.return);break;case 22:if(y.memoizedState!==null){lw(p);continue}}I!==null?(I.return=y,re=I):lw(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=vE("display",o))}catch(x){et(t,t.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){et(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Bn(e,t),rr(t),r&4&&ow(t);break;case 21:break;default:Bn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qI(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xa(i,""),r.flags&=-33);var s=sw(t);jp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sw(t);Vp(t,a,o);break;default:throw Error(K(161))}}catch(u){et(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ob(t,e,n){re=t,QI(t)}function QI(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Vt;a=Bu;var c=Vt;if(Bu=o,(Vt=u)&&!c)for(re=i;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?uw(i):u!==null?(u.return=o,re=u):uw(i);for(;s!==null;)re=s,QI(s),s=s.sibling;re=i,Bu=a,Vt=c}aw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):aw(t)}}function aw(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||bh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&tl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Vt||e.flags&512&&Mp(e)}catch(y){et(e,e.return,y)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function lw(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function uw(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bh(4,e)}catch(u){et(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){et(e,i,u)}}var s=e.return;try{Mp(e)}catch(u){et(e,s,u)}break;case 5:var o=e.return;try{Mp(e)}catch(u){et(e,o,u)}}}catch(u){et(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var ab=Math.ceil,zc=Br.ReactCurrentDispatcher,lm=Br.ReactCurrentOwner,Dn=Br.ReactCurrentBatchConfig,Ce=0,It=null,ht=null,kt=0,gn=0,lo=bi(0),mt=0,dl=null,hs=0,Oh=0,um=0,Fa=null,sn=null,cm=0,ko=1/0,Tr=null,Hc=!1,Up=null,gi=null,zu=!1,ai=null,Wc=0,$a=0,Fp=null,fc=-1,pc=0;function en(){return Ce&6?at():fc!==-1?fc:fc=at()}function mi(t){return t.mode&1?Ce&2&&kt!==0?kt&-kt:Hk.transition!==null?(pc===0&&(pc=xE()),pc):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:UE(t.type)),t):1}function Gn(t,e,n,r){if(50<$a)throw $a=0,Fp=null,Error(K(185));Nl(t,n,r),(!(Ce&2)||t!==It)&&(t===It&&(!(Ce&2)&&(Oh|=n),mt===4&&ti(t,kt)),un(t,r),n===1&&Ce===0&&!(e.mode&1)&&(ko=at()+500,Ph&&Oi()))}function un(t,e){var n=t.callbackNode;HR(t,e);var r=Rc(t,t===It?kt:0);if(r===0)n!==null&&_v(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_v(n),e===1)t.tag===0?zk(cw.bind(null,t)):iI(cw.bind(null,t)),Uk(function(){!(Ce&6)&&Oi()}),n=null;else{switch(DE(r)){case 1:n=Mg;break;case 4:n=bE;break;case 16:n=Pc;break;case 536870912:n=OE;break;default:n=Pc}n=rT(n,YI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YI(t,e){if(fc=-1,pc=0,Ce&6)throw Error(K(327));var n=t.callbackNode;if(mo()&&t.callbackNode!==n)return null;var r=Rc(t,t===It?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qc(t,r);else{e=r;var i=Ce;Ce|=2;var s=JI();(It!==t||kt!==e)&&(Tr=null,ko=at()+500,rs(t,e));do try{cb();break}catch(a){XI(t,a)}while(1);Qg(),zc.current=s,Ce=i,ht!==null?e=0:(It=null,kt=0,e=mt)}if(e!==0){if(e===2&&(i=fp(t),i!==0&&(r=i,e=$p(t,i))),e===1)throw n=dl,rs(t,0),ti(t,r),un(t,at()),n;if(e===6)ti(t,r);else{if(i=t.current.alternate,!(r&30)&&!lb(i)&&(e=qc(t,r),e===2&&(s=fp(t),s!==0&&(r=s,e=$p(t,s))),e===1))throw n=dl,rs(t,0),ti(t,r),un(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Gi(t,sn,Tr);break;case 3:if(ti(t,r),(r&130023424)===r&&(e=cm+500-at(),10<e)){if(Rc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ep(Gi.bind(null,t,sn,Tr),e);break}Gi(t,sn,Tr);break;case 4:if(ti(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Kn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ab(r/1960))-r,10<r){t.timeoutHandle=Ep(Gi.bind(null,t,sn,Tr),r);break}Gi(t,sn,Tr);break;case 5:Gi(t,sn,Tr);break;default:throw Error(K(329))}}}return un(t,at()),t.callbackNode===n?YI.bind(null,t):null}function $p(t,e){var n=Fa;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=qc(t,e),t!==2&&(e=sn,sn=n,e!==null&&Bp(e)),t}function Bp(t){sn===null?sn=t:sn.push.apply(sn,t)}function lb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ti(t,e){for(e&=~um,e&=~Oh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kn(e),r=1<<n;t[n]=-1,e&=~r}}function cw(t){if(Ce&6)throw Error(K(327));mo();var e=Rc(t,0);if(!(e&1))return un(t,at()),null;var n=qc(t,e);if(t.tag!==0&&n===2){var r=fp(t);r!==0&&(e=r,n=$p(t,r))}if(n===1)throw n=dl,rs(t,0),ti(t,e),un(t,at()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gi(t,sn,Tr),un(t,at()),null}function hm(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(ko=at()+500,Ph&&Oi())}}function ds(t){ai!==null&&ai.tag===0&&!(Ce&6)&&mo();var e=Ce;Ce|=1;var n=Dn.transition,r=Ne;try{if(Dn.transition=null,Ne=1,t)return t()}finally{Ne=r,Dn.transition=n,Ce=e,!(Ce&6)&&Oi()}}function dm(){gn=lo.current,We(lo)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jk(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dc();break;case 3:Po(),We(an),We(zt),tm();break;case 5:em(r);break;case 4:Po();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:Yg(r.type._context);break;case 22:case 23:dm()}n=n.return}if(It=t,ht=t=yi(t.current,null),kt=gn=e,mt=0,dl=null,um=Oh=hs=0,sn=Fa=null,Xi!==null){for(e=0;e<Xi.length;e++)if(n=Xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xi=null}return t}function XI(t,e){do{var n=ht;try{if(Qg(),cc.current=Bc,$c){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$c=!1}if(cs=0,Et=pt=Ye=null,ja=!1,ul=0,lm.current=null,n===null||n.return===null){mt=1,dl=e,ht=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=kt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var I=Xv(o);if(I!==null){I.flags&=-257,Jv(I,o,a,s,e),I.mode&1&&Yv(s,c,e),e=I,u=c;var O=e.updateQueue;if(O===null){var x=new Set;x.add(u),e.updateQueue=x}else O.add(u);break e}else{if(!(e&1)){Yv(s,c,e),fm();break e}u=Error(K(426))}}else if(Ke&&a.mode&1){var L=Xv(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Jv(L,o,a,s,e),Kg(Ro(u,a));break e}}s=u=Ro(u,a),mt!==4&&(mt=2),Fa===null?Fa=[s]:Fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=NI(s,u,e);zv(s,v);break e;case 1:a=u;var m=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(gi===null||!gi.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=LI(s,a,e);zv(s,A);break e}}s=s.return}while(s!==null)}eT(n)}catch(j){e=j,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function JI(){var t=zc.current;return zc.current=Bc,t===null?Bc:t}function fm(){(mt===0||mt===3||mt===2)&&(mt=4),It===null||!(hs&268435455)&&!(Oh&268435455)||ti(It,kt)}function qc(t,e){var n=Ce;Ce|=2;var r=JI();(It!==t||kt!==e)&&(Tr=null,rs(t,e));do try{ub();break}catch(i){XI(t,i)}while(1);if(Qg(),Ce=n,zc.current=r,ht!==null)throw Error(K(261));return It=null,kt=0,mt}function ub(){for(;ht!==null;)ZI(ht)}function cb(){for(;ht!==null&&!LR();)ZI(ht)}function ZI(t){var e=nT(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?eT(t):ht=e,lm.current=null}function eT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rb(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ht=null;return}}else if(n=nb(n,e,gn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);mt===0&&(mt=5)}function Gi(t,e,n){var r=Ne,i=Dn.transition;try{Dn.transition=null,Ne=1,hb(t,e,n,r)}finally{Dn.transition=i,Ne=r}return null}function hb(t,e,n,r){do mo();while(ai!==null);if(Ce&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(WR(t,s),t===It&&(ht=It=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zu||(zu=!0,rT(Pc,function(){return mo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dn.transition,Dn.transition=null;var o=Ne;Ne=1;var a=Ce;Ce|=4,lm.current=null,sb(t,n),GI(n,t),Ok(vp),kc=!!_p,vp=_p=null,t.current=n,ob(n),MR(),Ce=a,Ne=o,Dn.transition=s}else t.current=n;if(zu&&(zu=!1,ai=t,Wc=i),s=t.pendingLanes,s===0&&(gi=null),UR(n.stateNode),un(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,t=Up,Up=null,t;return Wc&1&&t.tag!==0&&mo(),s=t.pendingLanes,s&1?t===Fp?$a++:($a=0,Fp=t):$a=0,Oi(),null}function mo(){if(ai!==null){var t=DE(Wc),e=Dn.transition,n=Ne;try{if(Dn.transition=null,Ne=16>t?16:t,ai===null)var r=!1;else{if(t=ai,ai=null,Wc=0,Ce&6)throw Error(K(331));var i=Ce;for(Ce|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(re=c;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Ua(8,d,s)}var p=d.child;if(p!==null)p.return=d,re=p;else for(;re!==null;){d=re;var y=d.sibling,I=d.return;if(WI(d),d===c){re=null;break}if(y!==null){y.return=I,re=y;break}re=I}}}var O=s.alternate;if(O!==null){var x=O.child;if(x!==null){O.child=null;do{var L=x.sibling;x.sibling=null,x=L}while(x!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ua(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,re=v;break e}re=s.return}}var m=t.current;for(re=m;re!==null;){o=re;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,re=T;else e:for(o=m;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bh(9,a)}}catch(j){et(a,a.return,j)}if(a===o){re=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,re=A;break e}re=a.return}}if(Ce=i,Oi(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Ih,t)}catch{}r=!0}return r}finally{Ne=n,Dn.transition=e}}return!1}function hw(t,e,n){e=Ro(n,e),e=NI(t,e,1),t=pi(t,e,1),e=en(),t!==null&&(Nl(t,1,e),un(t,e))}function et(t,e,n){if(t.tag===3)hw(t,t,n);else for(;e!==null;){if(e.tag===3){hw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){t=Ro(n,t),t=LI(e,t,1),e=pi(e,t,1),t=en(),e!==null&&(Nl(e,1,t),un(e,t));break}}e=e.return}}function db(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(kt&n)===n&&(mt===4||mt===3&&(kt&130023424)===kt&&500>at()-cm?rs(t,0):um|=n),un(t,e)}function tT(t,e){e===0&&(t.mode&1?(e=Du,Du<<=1,!(Du&130023424)&&(Du=4194304)):e=1);var n=en();t=Lr(t,e),t!==null&&(Nl(t,e,n),un(t,n))}function fb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tT(t,n)}function pb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),tT(t,n)}var nT;nT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||an.current)on=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return on=!1,tb(t,e,n);on=!!(t.flags&131072)}else on=!1,Ke&&e.flags&1048576&&sI(e,Mc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dc(t,e),t=e.pendingProps;var i=So(e,zt.current);go(e,n),i=rm(null,e,r,t,i,n);var s=im();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ln(r)?(s=!0,Nc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jg(e),i.updater=Rh,e.stateNode=i,i._reactInternals=e,Rp(e,r,t,n),e=Op(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&Wg(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mb(r),t=zn(r,t),i){case 0:e=bp(null,e,r,t,n);break e;case 1:e=tw(null,e,r,t,n);break e;case 11:e=Zv(null,e,r,t,n);break e;case 14:e=ew(null,e,r,zn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),bp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),tw(t,e,r,i,n);case 3:e:{if(UI(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uI(t,e),Uc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ro(Error(K(423)),e),e=nw(t,e,r,n,i);break e}else if(r!==i){i=Ro(Error(K(424)),e),e=nw(t,e,r,n,i);break e}else for(mn=fi(e.stateNode.containerInfo.firstChild),_n=e,Ke=!0,Wn=null,n=fI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),r===i){e=Mr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return pI(e),t===null&&Ap(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wp(r,i)?o=null:s!==null&&wp(r,s)&&(e.flags|=32),jI(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&Ap(e),null;case 13:return FI(t,e,n);case 4:return Zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Co(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Zv(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(Vc,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!an.current){e=Mr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Or(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Cp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=Nn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=zn(r,e.pendingProps),i=zn(r.type,i),ew(t,e,r,i,n);case 15:return MI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),dc(t,e),e.tag=1,ln(r)?(t=!0,Nc(e)):t=!1,go(e,n),hI(e,r,i),Rp(e,r,i,n),Op(null,e,r,!0,t,n);case 19:return $I(t,e,n);case 22:return VI(t,e,n)}throw Error(K(156,e.tag))};function rT(t,e){return kE(t,e)}function gb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new gb(t,e,n,r)}function pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mb(t){if(typeof t=="function")return pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dg)return 11;if(t===Ng)return 14}return 2}function yi(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Js:return is(n.children,i,s,e);case xg:o=8,i|=8;break;case Jf:return t=xn(12,n,e,i|2),t.elementType=Jf,t.lanes=s,t;case Zf:return t=xn(13,n,e,i),t.elementType=Zf,t.lanes=s,t;case ep:return t=xn(19,n,e,i),t.elementType=ep,t.lanes=s,t;case dE:return xh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cE:o=10;break e;case hE:o=9;break e;case Dg:o=11;break e;case Ng:o=14;break e;case Jr:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function is(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function xh(t,e,n,r){return t=xn(22,t,r,e),t.elementType=dE,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function Af(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gm(t,e,n,r,i,s,o,a,u){return t=new yb(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(s),t}function _b(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iT(t){if(!t)return Si;t=t._reactInternals;e:{if(Is(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(ln(n))return rI(t,n,e)}return e}function sT(t,e,n,r,i,s,o,a,u){return t=gm(n,r,!0,t,i,s,o,a,u),t.context=iT(null),n=t.current,r=en(),i=mi(n),s=Or(r,i),s.callback=e??null,pi(n,s,i),t.current.lanes=i,Nl(t,i,r),un(t,r),t}function Dh(t,e,n,r){var i=e.current,s=en(),o=mi(i);return n=iT(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pi(i,e,o),t!==null&&(Gn(t,i,o,s),uc(t,i,o)),o}function Kc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mm(t,e){dw(t,e),(t=t.alternate)&&dw(t,e)}function vb(){return null}var oT=typeof reportError=="function"?reportError:function(t){console.error(t)};function ym(t){this._internalRoot=t}Nh.prototype.render=ym.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Dh(t,e,null,null)};Nh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){Dh(null,t,null,null)}),e[Nr]=null}};function Nh(t){this._internalRoot=t}Nh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ME();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ei.length&&e!==0&&e<ei[n].priority;n++);ei.splice(n,0,t),n===0&&jE(t)}};function _m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fw(){}function wb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Kc(o);s.call(c)}}var o=sT(e,r,t,0,null,!1,!1,"",fw);return t._reactRootContainer=o,t[Nr]=o.current,il(t.nodeType===8?t.parentNode:t),ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Kc(u);a.call(c)}}var u=gm(t,0,!1,null,null,!1,!1,"",fw);return t._reactRootContainer=u,t[Nr]=u.current,il(t.nodeType===8?t.parentNode:t),ds(function(){Dh(e,u,n,r)}),u}function Mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Kc(o);a.call(u)}}Dh(e,o,t,i)}else o=wb(n,e,t,i,r);return Kc(o)}NE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sa(e.pendingLanes);n!==0&&(Vg(e,n|1),un(e,at()),!(Ce&6)&&(ko=at()+500,Oi()))}break;case 13:ds(function(){var r=Lr(t,1);if(r!==null){var i=en();Gn(r,t,1,i)}}),mm(t,1)}};jg=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=en();Gn(e,t,134217728,n)}mm(t,134217728)}};LE=function(t){if(t.tag===13){var e=mi(t),n=Lr(t,e);if(n!==null){var r=en();Gn(n,t,e,r)}mm(t,e)}};ME=function(){return Ne};VE=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};cp=function(t,e,n){switch(e){case"input":if(rp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ch(r);if(!i)throw Error(K(90));pE(r),rp(r,i)}}}break;case"textarea":mE(t,n);break;case"select":e=n.value,e!=null&&co(t,!!n.multiple,e,!1)}};TE=hm;SE=ds;var Eb={usingClientEntryPoint:!1,Events:[Ml,no,Ch,EE,IE,hm]},_a={findFiberByHostInstance:Yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ib={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PE(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||vb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Ih=Hu.inject(Ib),cr=Hu}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(e))throw Error(K(200));return _b(t,e,null,n)};En.createRoot=function(t,e){if(!_m(t))throw Error(K(299));var n=!1,r="",i=oT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gm(t,1,!1,null,null,n,!1,r,i),t[Nr]=e.current,il(t.nodeType===8?t.parentNode:t),new ym(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=PE(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ds(t)};En.hydrate=function(t,e,n){if(!Lh(e))throw Error(K(200));return Mh(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!_m(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sT(e,null,t,1,n??null,i,!1,s,o),t[Nr]=e.current,il(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nh(e)};En.render=function(t,e,n){if(!Lh(e))throw Error(K(200));return Mh(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Lh(t))throw Error(K(40));return t._reactRootContainer?(ds(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};En.unstable_batchedUpdates=hm;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Mh(t,e,n,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";function aT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aT)}catch(t){console.error(t)}}aT(),sE.exports=En;var Tb=sE.exports,pw=Tb;Yf.createRoot=pw.createRoot,Yf.hydrateRoot=pw.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}var li;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(li||(li={}));const gw="popstate";function Sb(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Ts(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),zp("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:Gc(s))}function r(i,s){Vh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Cb(e,n,r,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ab(){return Math.random().toString(36).substr(2,8)}function mw(t,e){return{usr:t.state,key:t.key,idx:e}}function zp(t,e,n,r){return n===void 0&&(n=null),fl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ts(e):e,{state:n,key:e&&e.key||r||Ab()})}function Gc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Cb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=li.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(fl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=li.Pop;let L=d(),v=L==null?null:L-c;c=L,u&&u({action:a,location:x.location,delta:v})}function y(L,v){a=li.Push;let m=zp(x.location,L,v);n&&n(m,L),c=d()+1;let T=mw(m,c),A=x.createHref(m);try{o.pushState(T,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(A)}s&&u&&u({action:a,location:x.location,delta:1})}function I(L,v){a=li.Replace;let m=zp(x.location,L,v);n&&n(m,L),c=d();let T=mw(m,c),A=x.createHref(m);o.replaceState(T,"",A),s&&u&&u({action:a,location:x.location,delta:0})}function O(L){let v=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof L=="string"?L:Gc(L);return dt(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let x={get action(){return a},get location(){return t(i,o)},listen(L){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(gw,p),u=L,()=>{i.removeEventListener(gw,p),u=null}},createHref(L){return e(i,L)},createURL:O,encodeLocation(L){let v=O(L);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:y,replace:I,go(L){return o.go(L)}};return x}var yw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yw||(yw={}));function Pb(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ts(e):e,i=vm(r.pathname||"/",n);if(i==null)return null;let s=lT(t);Rb(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Vb(s[a],Fb(i));return o}function lT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(dt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=_i([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(dt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Lb(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of uT(s.path))i(s,o,u)}),e}function uT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uT(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Rb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Mb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kb=/^:\w+$/,bb=3,Ob=2,xb=1,Db=10,Nb=-2,_w=t=>t==="*";function Lb(t,e){let n=t.split("/"),r=n.length;return n.some(_w)&&(r+=Nb),e&&(r+=Ob),n.filter(i=>!_w(i)).reduce((i,s)=>i+(kb.test(s)?bb:s===""?xb:Db),r)}function Mb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Vb(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=jb({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let p=a.route;s.push({params:r,pathname:_i([i,d.pathname]),pathnameBase:Hb(_i([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=_i([i,d.pathnameBase]))}return s}function jb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ub(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,p)=>{if(d==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return c[d]=$b(a[p]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Ub(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Fb(t){try{return decodeURI(t)}catch(e){return Vh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $b(t,e){try{return decodeURIComponent(t)}catch(n){return Vh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Bb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ts(t):t;return{pathname:n?n.startsWith("/")?n:zb(n,e):e,search:Wb(r),hash:qb(i)}}function zb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ts(t):(i=fl({},t),dt(!i.pathname||!i.pathname.includes("?"),Cf("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Cf("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Cf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let p=e.length-1;if(o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}a=p>=0?e[p]:"/"}let u=Bb(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const _i=t=>t.join("/").replace(/\/\/+/g,"/"),Hb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dT=["post","put","patch","delete"];new Set(dT);const Gb=["get",...dT];new Set(Gb);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}const wm=Y.createContext(null),Qb=Y.createContext(null),Bo=Y.createContext(null),jh=Y.createContext(null),Ss=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),fT=Y.createContext(null);function Yb(t,e){let{relative:n}=e===void 0?{}:e;jl()||dt(!1);let{basename:r,navigator:i}=Y.useContext(Bo),{hash:s,pathname:o,search:a}=gT(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:_i([r,o])),i.createHref({pathname:u,search:a,hash:s})}function jl(){return Y.useContext(jh)!=null}function zo(){return jl()||dt(!1),Y.useContext(jh).location}function pT(t){Y.useContext(Bo).static||Y.useLayoutEffect(t)}function Ul(){let{isDataRoute:t}=Y.useContext(Ss);return t?uO():Xb()}function Xb(){jl()||dt(!1);let t=Y.useContext(wm),{basename:e,navigator:n}=Y.useContext(Bo),{matches:r}=Y.useContext(Ss),{pathname:i}=zo(),s=JSON.stringify(cT(r).map(u=>u.pathnameBase)),o=Y.useRef(!1);return pT(()=>{o.current=!0}),Y.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=hT(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_i([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}function gT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=Y.useContext(Ss),{pathname:i}=zo(),s=JSON.stringify(cT(r).map(o=>o.pathnameBase));return Y.useMemo(()=>hT(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function Jb(t,e){return Zb(t,e)}function Zb(t,e,n){jl()||dt(!1);let{navigator:r}=Y.useContext(Bo),{matches:i}=Y.useContext(Ss),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=zo(),c;if(e){var d;let x=typeof e=="string"?Ts(e):e;a==="/"||(d=x.pathname)!=null&&d.startsWith(a)||dt(!1),c=x}else c=u;let p=c.pathname||"/",y=a==="/"?p:p.slice(a.length)||"/",I=Pb(t,{pathname:y}),O=iO(I&&I.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:_i([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:_i([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n);return e&&O?Y.createElement(jh.Provider,{value:{location:Qc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:li.Pop}},O):O}function eO(){let t=lO(),e=Kb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:i},n):null,s)}const tO=Y.createElement(eO,null);class nO extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Y.createElement(Ss.Provider,{value:this.props.routeContext},Y.createElement(fT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rO(t){let{routeContext:e,match:n,children:r}=t,i=Y.useContext(wm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(Ss.Provider,{value:e},r)}function iO(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));a>=0||dt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,u,c)=>{let d=u.route.id?o==null?void 0:o[u.route.id]:null,p=null;n&&(p=u.route.errorElement||tO);let y=e.concat(s.slice(0,c+1)),I=()=>{let O;return d?O=p:u.route.Component?O=Y.createElement(u.route.Component,null):u.route.element?O=u.route.element:O=a,Y.createElement(rO,{match:u,routeContext:{outlet:a,matches:y,isDataRoute:n!=null},children:O})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?Y.createElement(nO,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:I(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):I()},null)}var mT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mT||{}),Yc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yc||{});function sO(t){let e=Y.useContext(wm);return e||dt(!1),e}function oO(t){let e=Y.useContext(Qb);return e||dt(!1),e}function aO(t){let e=Y.useContext(Ss);return e||dt(!1),e}function yT(t){let e=aO(),n=e.matches[e.matches.length-1];return n.route.id||dt(!1),n.route.id}function lO(){var t;let e=Y.useContext(fT),n=oO(Yc.UseRouteError),r=yT(Yc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function uO(){let{router:t}=sO(mT.UseNavigateStable),e=yT(Yc.UseNavigateStable),n=Y.useRef(!1);return pT(()=>{n.current=!0}),Y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qc({fromRouteId:e},s)))},[t,e])}function Ca(t){dt(!1)}function cO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=li.Pop,navigator:s,static:o=!1}=t;jl()&&dt(!1);let a=e.replace(/^\/*/,"/"),u=Y.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ts(r));let{pathname:c="/",search:d="",hash:p="",state:y=null,key:I="default"}=r,O=Y.useMemo(()=>{let x=vm(c,a);return x==null?null:{location:{pathname:x,search:d,hash:p,state:y,key:I},navigationType:i}},[a,c,d,p,y,I,i]);return O==null?null:Y.createElement(Bo.Provider,{value:u},Y.createElement(jh.Provider,{children:n,value:O}))}function hO(t){let{children:e,location:n}=t;return Jb(Hp(e),n)}new Promise(()=>{});function Hp(t,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(t,(r,i)=>{if(!Y.isValidElement(r))return;let s=[...e,i];if(r.type===Y.Fragment){n.push.apply(n,Hp(r.props.children,s));return}r.type!==Ca&&dt(!1),!r.props.index||!r.props.children||dt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function dO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pO(t,e){return t.button===0&&(!e||e==="_self")&&!fO(t)}const gO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],mO="startTransition",vw=fR[mO];function yO(t){let{basename:e,children:n,future:r,window:i}=t,s=Y.useRef();s.current==null&&(s.current=Sb({window:i,v5Compat:!0}));let o=s.current,[a,u]=Y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=Y.useCallback(p=>{c&&vw?vw(()=>u(p)):u(p)},[u,c]);return Y.useLayoutEffect(()=>o.listen(d),[o,d]),Y.createElement(cO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const _O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pl=Y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d}=e,p=dO(e,gO),{basename:y}=Y.useContext(Bo),I,O=!1;if(typeof c=="string"&&vO.test(c)&&(I=c,_O))try{let m=new URL(window.location.href),T=c.startsWith("//")?new URL(m.protocol+c):new URL(c),A=vm(T.pathname,y);T.origin===m.origin&&A!=null?c=A+T.search+T.hash:O=!0}catch{}let x=Yb(c,{relative:i}),L=wO(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i});function v(m){r&&r(m),m.defaultPrevented||L(m)}return Y.createElement("a",Wp({},p,{href:I||x,onClick:O||s?r:v,ref:n,target:u}))});var ww;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(ww||(ww={}));var Ew;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ew||(Ew={}));function wO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Ul(),u=zo(),c=gT(t,{relative:o});return Y.useCallback(d=>{if(pO(d,n)){d.preventDefault();let p=r!==void 0?r:Gc(u)===Gc(c);a(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[u,a,c,r,i,n,t,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let y=(a&15)<<2|c>>6,I=c&63;u||(I=64,o||(y=64)),r.push(n[d],n[p],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_T(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new IO;const y=s<<2|a>>4;if(r.push(y),c!==64){const I=a<<4&240|c>>2;if(r.push(I),p!==64){const O=c<<6&192|p;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TO=function(t){const e=_T(t);return vT.encodeByteArray(e,!0)},Xc=function(t){return TO(t).replace(/\./g,"")},wT=function(t){try{return vT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=()=>SO().__FIREBASE_DEFAULTS__,CO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wT(t[1]);return e&&JSON.parse(e)},Uh=()=>{try{return AO()||CO()||PO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ET=t=>{var e,n;return(n=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IT=t=>{const e=ET(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TT=()=>{var t;return(t=Uh())===null||t===void 0?void 0:t.config},ST=t=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Xc(JSON.stringify(n)),Xc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function bO(){var t;const e=(t=Uh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DO(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NO(){try{return typeof indexedDB=="object"}catch{return!1}}function LO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="FirebaseError";class _r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MO,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?VO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _r(i,a,r)}}function VO(t,e){return t.replace(jO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jO=/\{\$([^}]+)}/g;function UO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Iw(s)&&Iw(o)){if(!Jc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ra(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FO(t,e){const n=new $O(t,e);return n.subscribe.bind(n)}class $O{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pf),i.error===void 0&&(i.error=Pf),i.complete===void 0&&(i.complete=Pf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Ai{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WO(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HO(t){return t===Qi?void 0:t}function WO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const KO={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},GO=Pe.INFO,QO={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},YO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=GO,this._logHandler=YO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const XO=(t,e)=>e.some(n=>t instanceof n);let Tw,Sw;function JO(){return Tw||(Tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZO(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,qp=new WeakMap,PT=new WeakMap,Rf=new WeakMap,Im=new WeakMap;function ex(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,t)}).catch(()=>{}),Im.set(e,t),e}function tx(t){if(qp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qp.set(t,e)}let Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nx(t){Kp=t(Kp)}function rx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kf(this),e,...n);return PT.set(r,e.sort?e.sort():[e]),vi(r)}:ZO().includes(t)?function(...e){return t.apply(kf(this),e),vi(CT.get(this))}:function(...e){return vi(t.apply(kf(this),e))}}function ix(t){return typeof t=="function"?rx(t):(t instanceof IDBTransaction&&tx(t),XO(t,JO())?new Proxy(t,Kp):t)}function vi(t){if(t instanceof IDBRequest)return ex(t);if(Rf.has(t))return Rf.get(t);const e=ix(t);return e!==t&&(Rf.set(t,e),Im.set(e,t)),e}const kf=t=>Im.get(t);function sx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vi(o.result),u.oldVersion,u.newVersion,vi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ox=["get","getKey","getAll","getAllKeys","count"],ax=["put","add","delete","clear"],bf=new Map;function Aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ax.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ox.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return bf.set(e,s),s}nx(t=>({...t,get:(e,n,r)=>Aw(e,n)||t.get(e,n,r),has:(e,n)=>!!Aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ux(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ux(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gp="@firebase/app",Cw="0.9.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Em("@firebase/app"),cx="@firebase/app-compat",hx="@firebase/analytics-compat",dx="@firebase/analytics",fx="@firebase/app-check-compat",px="@firebase/app-check",gx="@firebase/auth",mx="@firebase/auth-compat",yx="@firebase/database",_x="@firebase/database-compat",vx="@firebase/functions",wx="@firebase/functions-compat",Ex="@firebase/installations",Ix="@firebase/installations-compat",Tx="@firebase/messaging",Sx="@firebase/messaging-compat",Ax="@firebase/performance",Cx="@firebase/performance-compat",Px="@firebase/remote-config",Rx="@firebase/remote-config-compat",kx="@firebase/storage",bx="@firebase/storage-compat",Ox="@firebase/firestore",xx="@firebase/firestore-compat",Dx="firebase",Nx="10.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",Lx={[Gp]:"fire-core",[cx]:"fire-core-compat",[dx]:"fire-analytics",[hx]:"fire-analytics-compat",[px]:"fire-app-check",[fx]:"fire-app-check-compat",[gx]:"fire-auth",[mx]:"fire-auth-compat",[yx]:"fire-rtdb",[_x]:"fire-rtdb-compat",[vx]:"fire-fn",[wx]:"fire-fn-compat",[Ex]:"fire-iid",[Ix]:"fire-iid-compat",[Tx]:"fire-fcm",[Sx]:"fire-fcm-compat",[Ax]:"fire-perf",[Cx]:"fire-perf-compat",[Px]:"fire-rc",[Rx]:"fire-rc-compat",[kx]:"fire-gcs",[bx]:"fire-gcs-compat",[Ox]:"fire-fst",[xx]:"fire-fst-compat","fire-js":"fire-js",[Dx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,Yp=new Map;function Mx(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ps(t){const e=t.name;if(Yp.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,t);for(const n of Zc.values())Mx(n,t);return!0}function Fh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wi=new Fl("app","Firebase",Vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=Nx;function RT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=TT()),!n)throw wi.create("no-options");const s=Zc.get(i);if(s){if(Jc(n,s.options)&&Jc(r,s.config))return s;throw wi.create("duplicate-app",{appName:i})}const o=new qO(i);for(const u of Yp.values())o.addComponent(u);const a=new jx(n,r,o);return Zc.set(i,a),a}function Tm(t=Qp){const e=Zc.get(t);if(!e&&t===Qp&&TT())return RT();if(!e)throw wi.create("no-app",{appName:t});return e}function dr(t,e,n){var r;let i=(r=Lx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(a.join(" "));return}ps(new Ai(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebase-heartbeat-database",Fx=1,gl="firebase-heartbeat-store";let Of=null;function kT(){return Of||(Of=sx(Ux,Fx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gl)}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),Of}async function $x(t){try{return await(await kT()).transaction(gl).objectStore(gl).get(bT(t))}catch(e){if(e instanceof _r)fs.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function Pw(t,e){try{const r=(await kT()).transaction(gl,"readwrite");await r.objectStore(gl).put(e,bT(t)),await r.done}catch(n){if(n instanceof _r)fs.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function bT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1024,zx=30*24*60*60*1e3;class Hx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=zx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rw(),{heartbeatsToSend:n,unsentEntries:r}=Wx(this._heartbeatsCache.heartbeats),i=Xc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Rw(){return new Date().toISOString().substring(0,10)}function Wx(t,e=Bx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NO()?LO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $x(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kw(t){return Xc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){ps(new Ai("platform-logger",e=>new lx(e),"PRIVATE")),ps(new Ai("heartbeat",e=>new Hx(e),"PRIVATE")),dr(Gp,Cw,t),dr(Gp,Cw,"esm2017"),dr("fire-js","")}Kx("");var Gx="firebase",Qx="10.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(Gx,Qx,"app");var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,Sm=Sm||{},fe=Yx||self;function $h(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Xx(t){return Object.prototype.hasOwnProperty.call(t,xf)&&t[xf]||(t[xf]=++Jx)}var xf="closure_uid_"+(1e9*Math.random()>>>0),Jx=0;function Zx(t,e,n){return t.call.apply(t.bind,arguments)}function eD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=Zx:Ft=eD,Ft.apply(null,arguments)}function Wu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xi(){this.s=this.s,this.o=this.o}var tD=0;xi.prototype.s=!1;xi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),tD!=0)&&Xx(this)};xi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Am(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function bw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($h(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var nD=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",()=>{},e),fe.removeEventListener("test",()=>{},e)}catch{}return t}();function ml(t){return/^[\s\xa0]*$/.test(t)}function Bh(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function or(t){return Bh().indexOf(t)!=-1}function Cm(t){return Cm[" "](t),t}Cm[" "]=function(){};function rD(t,e){var n=QD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var iD=or("Opera"),bo=or("Trident")||or("MSIE"),xT=or("Edge"),Xp=xT||bo,DT=or("Gecko")&&!(Bh().toLowerCase().indexOf("webkit")!=-1&&!or("Edge"))&&!(or("Trident")||or("MSIE"))&&!or("Edge"),sD=Bh().toLowerCase().indexOf("webkit")!=-1&&!or("Edge");function NT(){var t=fe.document;return t?t.documentMode:void 0}var Jp;e:{var Df="",Nf=function(){var t=Bh();if(DT)return/rv:([^\);]+)(\)|;)/.exec(t);if(xT)return/Edge\/([\d\.]+)/.exec(t);if(bo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sD)return/WebKit\/(\S+)/.exec(t);if(iD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Nf&&(Df=Nf?Nf[1]:""),bo){var Lf=NT();if(Lf!=null&&Lf>parseFloat(Df)){Jp=String(Lf);break e}}Jp=Df}var Zp;if(fe.document&&bo){var Ow=NT();Zp=Ow||parseInt(Jp,10)||void 0}else Zp=void 0;var oD=Zp;function yl(t,e){if($t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DT){e:{try{Cm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&yl.$.h.call(this)}}St(yl,$t);var aD={2:"touch",3:"pen",4:"mouse"};yl.prototype.h=function(){yl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zl="closure_listenable_"+(1e6*Math.random()|0),lD=0;function uD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lD,this.fa=this.ia=!1}function zh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function LT(t){const e={};for(const n in t)e[n]=t[n];return e}const xw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<xw.length;s++)n=xw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hh(t){this.src=t,this.g={},this.h=0}Hh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=tg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new uD(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function eg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=OT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function tg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Rm="closure_lm_"+(1e6*Math.random()|0),Mf={};function VT(t,e,n,r,i){if(r&&r.once)return UT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VT(t,e[s],n,r,i);return null}return n=Om(n),t&&t[zl]?t.O(e,n,Bl(r)?!!r.capture:!!r,i):jT(t,e,n,!1,r,i)}function jT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Bl(i)?!!i.capture:!!i,a=bm(t);if(a||(t[Rm]=a=new Hh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=hD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nD||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($T(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hD(){function t(n){return e.call(t.src,t.listener,n)}const e=dD;return t}function UT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)UT(t,e[s],n,r,i);return null}return n=Om(n),t&&t[zl]?t.P(e,n,Bl(r)?!!r.capture:!!r,i):jT(t,e,n,!0,r,i)}function FT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)FT(t,e[s],n,r,i);else r=Bl(r)?!!r.capture:!!r,n=Om(n),t&&t[zl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=tg(s,n,r,i),-1<n&&(zh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=bm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tg(e,n,r,i)),(n=-1<t?e[t]:null)&&km(n))}function km(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[zl])eg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($T(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bm(e))?(eg(n,t),n.h==0&&(n.src=null,e[Rm]=null)):zh(t)}}}function $T(t){return t in Mf?Mf[t]:Mf[t]="on"+t}function dD(t,e){if(t.fa)t=!0;else{e=new yl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&km(t),t=n.call(r,e)}return t}function bm(t){return t=t[Rm],t instanceof Hh?t:null}var Vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Om(t){return typeof t=="function"?t:(t[Vf]||(t[Vf]=function(e){return t.handleEvent(e)}),t[Vf])}function Tt(){xi.call(this),this.i=new Hh(this),this.S=this,this.J=null}St(Tt,xi);Tt.prototype[zl]=!0;Tt.prototype.removeEventListener=function(t,e,n,r){FT(this,t,e,n,r)};function bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new $t(e,t);else if(e instanceof $t)e.target=e.target||t;else{var i=e;e=new $t(r,t),MT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=qu(o,r,!0,e)&&i}if(o=e.g=t,i=qu(o,r,!0,e)&&i,i=qu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=qu(o,r,!1,e)&&i}Tt.prototype.N=function(){if(Tt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zh(n[r]);delete t.g[e],t.h--}}this.J=null};Tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Tt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function qu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&eg(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var xm=fe.JSON.stringify;class fD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function pD(){var t=Dm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gD{constructor(){this.h=this.g=null}add(e,n){const r=BT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var BT=new fD(()=>new mD,t=>t.reset());class mD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yD(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _D(t){fe.setTimeout(()=>{throw t},0)}let _l,vl=!1,Dm=new gD,zT=()=>{const t=fe.Promise.resolve(void 0);_l=()=>{t.then(vD)}};var vD=()=>{for(var t;t=pD();){try{t.h.call(t.g)}catch(n){_D(n)}var e=BT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vl=!1};function Wh(t,e){Tt.call(this),this.h=t||1,this.g=e||fe,this.j=Ft(this.qb,this),this.l=Date.now()}St(Wh,Tt);ee=Wh.prototype;ee.ga=!1;ee.T=null;ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bt(this,"tick"),this.ga&&(Nm(this),this.start()))}};ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ee.N=function(){Wh.$.N.call(this),Nm(this),delete this.g};function Lm(t,e,n){if(typeof t=="function")n&&(t=Ft(t,n));else if(t&&typeof t.handleEvent=="function")t=Ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function HT(t){t.g=Lm(()=>{t.g=null,t.i&&(t.i=!1,HT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wD extends xi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HT(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(t){xi.call(this),this.h=t,this.g={}}St(wl,xi);var Dw=[];function WT(t,e,n,r){Array.isArray(n)||(n&&(Dw[0]=n.toString()),n=Dw);for(var i=0;i<n.length;i++){var s=VT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function qT(t){Pm(t.g,function(e,n){this.g.hasOwnProperty(n)&&km(e)},t),t.g={}}wl.prototype.N=function(){wl.$.N.call(this),qT(this)};wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qh(){this.g=!0}qh.prototype.Ea=function(){this.g=!1};function ED(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var d=c[0];c=c[1];var p=d.split("_");o=2<=p.length&&p[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function ID(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function uo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SD(t,n)+(r?" "+r:"")})}function TD(t,e){t.info(function(){return"TIMEOUT: "+e})}qh.prototype.info=function(){};function SD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return xm(n)}catch{return e}}var Cs={},Nw=null;function Kh(){return Nw=Nw||new Tt}Cs.Ta="serverreachability";function KT(t){$t.call(this,Cs.Ta,t)}St(KT,$t);function El(t){const e=Kh();bt(e,new KT(e))}Cs.STAT_EVENT="statevent";function GT(t,e){$t.call(this,Cs.STAT_EVENT,t),this.stat=e}St(GT,$t);function Zt(t){const e=Kh();bt(e,new GT(e,t))}Cs.Ua="timingevent";function QT(t,e){$t.call(this,Cs.Ua,t),this.size=e}St(QT,$t);function Hl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var Gh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mm(){}Mm.prototype.h=null;function Lw(t){return t.h||(t.h=t.i())}function XT(){}var Wl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vm(){$t.call(this,"d")}St(Vm,$t);function jm(){$t.call(this,"c")}St(jm,$t);var ng;function Qh(){}St(Qh,Mm);Qh.prototype.g=function(){return new XMLHttpRequest};Qh.prototype.i=function(){return{}};ng=new Qh;function ql(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new wl(this),this.P=AD,t=Xp?125:void 0,this.V=new Wh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JT}function JT(){this.i=null,this.g="",this.h=!1}var AD=45e3,rg={},eh={};ee=ql.prototype;ee.setTimeout=function(t){this.P=t};function ig(t,e,n){t.L=1,t.v=Xh(Vr(e)),t.s=n,t.S=!0,ZT(t,null)}function ZT(t,e){t.G=Date.now(),Kl(t),t.A=Vr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),aS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new JT,t.g=RS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wD(Ft(t.Pa,t,t.g),t.O)),WT(t.U,t.g,"readystatechange",t.nb),e=t.I?LT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),El(),ED(t.j,t.u,t.A,t.m,t.W,t.s)}ee.nb=function(t){t=t.target;const e=this.M;e&&ar(t)==3?e.l():this.Pa(t)};ee.Pa=function(t){try{if(t==this.g)e:{const d=ar(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>d)&&(d!=3||Xp||this.g&&(this.h.h||this.g.ja()||Uw(this.g)))){this.J||d!=4||e==7||(e==8||0>=p?El(3):El(2)),Yh(this);var n=this.g.da();this.ca=n;t:if(eS(this)){var r=Uw(this.g);t="";var i=r.length,s=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),Ba(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,ID(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ml(a)){var c=a;break t}}c=null}if(n=c)uo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sg(this,n);else{this.i=!1,this.o=3,Zt(12),Zi(this),Ba(this);break e}}this.S?(tS(this,d,o),Xp&&this.i&&d==3&&(WT(this.U,this.V,"tick",this.mb),this.V.start())):(uo(this.j,this.m,o,null),sg(this,o)),d==4&&Zi(this),this.i&&!this.J&&(d==4?SS(this.l,this):(this.i=!1,Kl(this)))}else qD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),Zi(this),Ba(this)}}}catch{}finally{}};function eS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function tS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=CD(t,n),i==eh){e==4&&(t.o=4,Zt(14),r=!1),uo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==rg){t.o=4,Zt(15),uo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else uo(t.j,t.m,i,null),sg(t,i);eS(t)&&i!=eh&&i!=rg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hm(e),e.M=!0,Zt(11))):(uo(t.j,t.m,n,"[Invalid Chunked Response]"),Zi(t),Ba(t))}ee.mb=function(){if(this.g){var t=ar(this.g),e=this.g.ja();this.C<e.length&&(Yh(this),tS(this,t,e),this.i&&t!=4&&Kl(this))}};function CD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?eh:(n=Number(e.substring(n,r)),isNaN(n)?rg:(r+=1,r+n>e.length?eh:(e=e.slice(r,r+n),t.C=r+n,e)))}ee.cancel=function(){this.J=!0,Zi(this)};function Kl(t){t.Y=Date.now()+t.P,nS(t,t.P)}function nS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Hl(Ft(t.lb,t),e)}function Yh(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(TD(this.j,this.A),this.L!=2&&(El(),Zt(17)),Zi(this),this.o=2,Ba(this)):nS(this,this.Y-t)};function Ba(t){t.l.H==0||t.J||SS(t.l,t)}function Zi(t){Yh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Nm(t.V),qT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function sg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||og(n.i,t))){if(!t.K&&og(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rh(n),td(n);else break e;zm(n),Zt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Hl(Ft(n.ib,n),6e3));if(1>=cS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else es(n,11)}else if((t.K||n.g==t)&&rh(n),!ml(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const p=c[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const y=c[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const I=t.g;if(I){const O=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var s=r.i;s.g||O.indexOf("spdy")==-1&&O.indexOf("quic")==-1&&O.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Um(s,s.h),s.h=null))}if(r.F){const x=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,He(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=PS(r,r.J?r.pa:null,r.Y),o.K){hS(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Yh(a),Kl(a)),r.g=o}else IS(r);0<n.j.length&&nd(n)}else c[0]!="stop"&&c[0]!="close"||es(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?es(n,7):Bm(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}El(4)}catch{}}function PD(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RD(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($h(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function rS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($h(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RD(t),r=PD(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var iS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ss(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ss){this.h=t.h,th(this,t.j),this.s=t.s,this.g=t.g,nh(this,t.m),this.l=t.l;var e=t.i,n=new Il;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Mw(this,n),this.o=t.o}else t&&(e=String(t).match(iS))?(this.h=!1,th(this,e[1]||"",!0),this.s=ka(e[2]||""),this.g=ka(e[3]||"",!0),nh(this,e[4]),this.l=ka(e[5]||"",!0),Mw(this,e[6]||"",!0),this.o=ka(e[7]||"")):(this.h=!1,this.i=new Il(null,this.h))}ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ba(e,Vw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ba(e,Vw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ba(n,n.charAt(0)=="/"?xD:OD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ba(n,ND)),t.join("")};function Vr(t){return new ss(t)}function th(t,e,n){t.j=n?ka(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Mw(t,e,n){e instanceof Il?(t.i=e,LD(t.i,t.h)):(n||(e=ba(e,DD)),t.i=new Il(e,t.h))}function He(t,e,n){t.i.set(e,n)}function Xh(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ka(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ba(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Vw=/[#\/\?@]/g,OD=/[#\?:]/g,xD=/[#\?]/g,DD=/[#\?@]/g,ND=/#/g;function Il(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Di(t){t.g||(t.g=new Map,t.h=0,t.i&&kD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=Il.prototype;ee.add=function(t,e){Di(this),this.i=null,t=Ho(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sS(t,e){Di(t),e=Ho(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oS(t,e){return Di(t),e=Ho(t,e),t.g.has(e)}ee.forEach=function(t,e){Di(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ee.ta=function(){Di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ee.Z=function(t){Di(this);let e=[];if(typeof t=="string")oS(this,t)&&(e=e.concat(this.g.get(Ho(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return Di(this),this.i=null,t=Ho(this,t),oS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function aS(t,e,n){sS(t,e),0<n.length&&(t.i=null,t.g.set(Ho(t,e),Am(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ho(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LD(t,e){e&&!t.j&&(Di(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sS(this,r),aS(this,i,n))},t)),t.j=e}var MD=class{constructor(t,e){this.g=t,this.map=e}};function lS(t){this.l=t||VD,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var VD=10;function uS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cS(t){return t.h?1:t.g?t.g.size:0}function og(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Um(t,e){t.g?t.g.add(e):t.h=e}function hS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lS.prototype.cancel=function(){if(this.i=dS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Am(t.i)}var jD=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function UD(){this.g=new jD}function FD(t,e,n){const r=n||"";try{rS(t,function(i,s){let o=i;Bl(i)&&(o=xm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $D(t,e){const n=new qh;if(fe.Image){const r=new Image;r.onload=Wu(Ku,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wu(Ku,n,r,"TestLoadImage: error",!1,e),r.onabort=Wu(Ku,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wu(Ku,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ku(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Jh(t){this.l=t.fc||null,this.j=t.ob||!1}St(Jh,Mm);Jh.prototype.g=function(){return new Zh(this.l,this.j)};Jh.prototype.i=function(t){return function(){return t}}({});function Zh(t,e){Tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Zh,Tt);var Fm=0;ee=Zh.prototype;ee.open=function(t,e){if(this.readyState!=Fm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tl(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gl(this)),this.readyState=Fm};ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tl(this)),this.g&&(this.readyState=3,Tl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gl(this):Tl(this),this.readyState==3&&fS(this)}};ee.Za=function(t){this.g&&(this.response=this.responseText=t,Gl(this))};ee.Ya=function(t){this.g&&(this.response=t,Gl(this))};ee.ka=function(){this.g&&Gl(this)};function Gl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tl(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Zh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var BD=fe.JSON.parse;function tt(t){Tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pS,this.L=this.M=!1}St(tt,Tt);var pS="",zD=/^https?$/i,HD=["POST","PUT"];ee=tt.prototype;ee.Oa=function(t){this.M=t};ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ng.g(),this.C=this.u?Lw(this.u):Lw(ng),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){jw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=OT(HD,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yS(this),0<this.B&&((this.L=WD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=Lm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jw(this,s)}};function WD(t){return bo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.ua=function(){typeof Sm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function jw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gS(t),ed(t)}function gS(t){t.F||(t.F=!0,bt(t,"complete"),bt(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),ed(this))};ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ed(this,!0)),tt.$.N.call(this)};ee.La=function(){this.s||(this.G||this.v||this.l?mS(this):this.kb())};ee.kb=function(){mS(this)};function mS(t){if(t.h&&typeof Sm<"u"&&(!t.C[1]||ar(t)!=4||t.da()!=2)){if(t.v&&ar(t)==4)Lm(t.La,0,t);else if(bt(t,"readystatechange"),ar(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(iS)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!zD.test(i?i.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var s=2<ar(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",gS(t)}}finally{ed(t)}}}}function ed(t,e){if(t.g){yS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function yS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}ee.isActive=function(){return!!this.g};function ar(t){return t.g?t.g.readyState:0}ee.da=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}};ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),BD(e)}};function Uw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case pS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qD(t){const e={};t=(t.g&&2<=ar(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ml(t[r]))continue;var n=yD(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}cD(e,function(r){return r.join(", ")})}ee.Ia=function(){return this.m};ee.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _S(t){let e="";return Pm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $m(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_S(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):He(t,e,n))}function va(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vS(t){this.Ga=0,this.j=[],this.l=new qh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=va("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=va("baseRetryDelayMs",5e3,t),this.hb=va("retryDelaySeedMs",1e4,t),this.eb=va("forwardChannelMaxRetries",2,t),this.xa=va("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lS(t&&t.concurrentRequestLimit),this.Ja=new UD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ee=vS.prototype;ee.ra=8;ee.H=1;function Bm(t){if(wS(t),t.H==3){var e=t.W++,n=Vr(t.I);if(He(n,"SID",t.K),He(n,"RID",e),He(n,"TYPE","terminate"),Ql(t,n),e=new ql(t,t.l,e),e.L=2,e.v=Xh(Vr(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.v,n=!0),n||(e.g=RS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Kl(e)}CS(t)}function td(t){t.g&&(Hm(t),t.g.cancel(),t.g=null)}function wS(t){td(t),t.u&&(fe.clearTimeout(t.u),t.u=null),rh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function nd(t){if(!uS(t.i)&&!t.m){t.m=!0;var e=t.Na;_l||zT(),vl||(_l(),vl=!0),Dm.add(e,t),t.C=0}}function KD(t,e){return cS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Hl(Ft(t.Na,t,e),AS(t,t.C)),t.C++,!0)}ee.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ql(this,this.l,t);let s=this.s;if(this.U&&(s?(s=LT(s),MT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ES(this,i,e),n=Vr(this.I),He(n,"RID",t),He(n,"CVER",22),this.F&&He(n,"X-HTTP-Session-Id",this.F),Ql(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(_S(s)))+"&"+e:this.o&&$m(n,this.o,s)),Um(this.i,i),this.bb&&He(n,"TYPE","init"),this.P?(He(n,"$req",e),He(n,"SID","null"),i.aa=!0,ig(i,n,null)):ig(i,n,e),this.H=2}}else this.H==3&&(t?Fw(this,t):this.j.length==0||uS(this.i)||Fw(this))};function Fw(t,e){var n;e?n=e.m:n=t.W++;const r=Vr(t.I);He(r,"SID",t.K),He(r,"RID",n),He(r,"AID",t.V),Ql(t,r),t.o&&t.s&&$m(r,t.o,t.s),n=new ql(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ES(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Um(t.i,n),ig(n,r,e)}function Ql(t,e){t.na&&Pm(t.na,function(n,r){He(e,r,n)}),t.h&&rS({},function(n,r){He(e,r,n)})}function ES(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ft(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const d=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{FD(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function IS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;_l||zT(),vl||(_l(),vl=!0),Dm.add(e,t),t.A=0}}function zm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Hl(Ft(t.Ma,t),AS(t,t.A)),t.A++,!0)}ee.Ma=function(){if(this.u=null,TS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Hl(Ft(this.jb,this),t)}};ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zt(10),td(this),TS(this))};function Hm(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function TS(t){t.g=new ql(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Vr(t.wa);He(e,"RID","rpc"),He(e,"SID",t.K),He(e,"AID",t.V),He(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&He(e,"TO",t.qa),He(e,"TYPE","xmlhttp"),Ql(t,e),t.o&&t.s&&$m(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Xh(Vr(e)),n.s=null,n.S=!0,ZT(n,t)}ee.ib=function(){this.v!=null&&(this.v=null,td(this),zm(this),Zt(19))};function rh(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function SS(t,e){var n=null;if(t.g==e){rh(t),Hm(t),t.g=null;var r=2}else if(og(t.i,e))n=e.F,hS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Kh(),bt(r,new QT(r,n)),nd(t)}else IS(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&KD(t,e)||r==2&&zm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:es(t,5);break;case 4:es(t,10);break;case 3:es(t,6);break;default:es(t,2)}}}function AS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function es(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ft(t.pb,t);n||(n=new ss("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||th(n,"https"),Xh(n)),$D(n.toString(),r)}else Zt(2);t.H=0,t.h&&t.h.za(e),CS(t),wS(t)}ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zt(2)):(this.l.info("Failed to ping google.com"),Zt(1))};function CS(t){if(t.H=0,t.ma=[],t.h){const e=dS(t.i);(e.length!=0||t.j.length!=0)&&(bw(t.ma,e),bw(t.ma,t.j),t.i.i.length=0,Am(t.j),t.j.length=0),t.h.ya()}}function PS(t,e,n){var r=n instanceof ss?Vr(n):new ss(n);if(r.g!="")e&&(r.g=e+"."+r.g),nh(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ss(null);r&&th(s,r),e&&(s.g=e),i&&nh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&He(r,n,e),He(r,"VER",t.ra),Ql(t,r),r}function RS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new tt(new Jh({ob:!0})):new tt(t.va),e.Oa(t.J),e}ee.isActive=function(){return!!this.h&&this.h.isActive(this)};function kS(){}ee=kS.prototype;ee.Ba=function(){};ee.Aa=function(){};ee.za=function(){};ee.ya=function(){};ee.isActive=function(){return!0};ee.Va=function(){};function ih(){if(bo&&!(10<=Number(oD)))throw Error("Environmental error: no available transport.")}ih.prototype.g=function(t,e){return new wn(t,e)};function wn(t,e){Tt.call(this),this.g=new vS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ml(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ml(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wo(this)}St(wn,Tt);wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PS(t,null,t.Y),nd(t)};wn.prototype.close=function(){Bm(this.g)};wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=xm(t),t=n);e.j.push(new MD(e.fb++,t)),e.H==3&&nd(e)};wn.prototype.N=function(){this.g.h=null,delete this.j,Bm(this.g),delete this.g,wn.$.N.call(this)};function bS(t){Vm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}St(bS,Vm);function OS(){jm.call(this),this.status=1}St(OS,jm);function Wo(t){this.g=t}St(Wo,kS);Wo.prototype.Ba=function(){bt(this.g,"a")};Wo.prototype.Aa=function(t){bt(this.g,new bS(t))};Wo.prototype.za=function(t){bt(this.g,new OS)};Wo.prototype.ya=function(){bt(this.g,"b")};function GD(){this.blockSize=-1}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}St(Xn,GD);Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Xn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)jf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jf(this,r),i=0;break}}this.h=i,this.i+=e};Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Le(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var QD={};function Wm(t){return-128<=t&&128>t?rD(t,function(e){return new Le([e|0],0>e?-1:0)}):new Le([t|0],0>t?-1:0)}function lr(t){if(isNaN(t)||!isFinite(t))return yo;if(0>t)return Rt(lr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ag;return new Le(e,0)}function xS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Rt(xS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=lr(Math.pow(e,8)),r=yo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=lr(Math.pow(e,s)),r=r.R(s).add(lr(o))):(r=r.R(n),r=r.add(lr(o)))}return r}var ag=4294967296,yo=Wm(0),lg=Wm(1),$w=Wm(16777216);ee=Le.prototype;ee.ea=function(){if(bn(this))return-Rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ag+r)*e,e*=ag}return t};ee.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Rr(this))return"0";if(bn(this))return"-"+Rt(this).toString(t);for(var e=lr(Math.pow(t,6)),n=this,r="";;){var i=oh(n,e).g;n=sh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Rr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Rr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bn(t){return t.h==-1}ee.X=function(t){return t=sh(this,t),bn(t)?-1:Rr(t)?0:1};function Rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Le(n,~t.h).add(lg)}ee.abs=function(){return bn(this)?Rt(this):this};ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Le(n,n[n.length-1]&-2147483648?-1:0)};function sh(t,e){return t.add(Rt(e))}ee.R=function(t){if(Rr(this)||Rr(t))return yo;if(bn(this))return bn(t)?Rt(this).R(Rt(t)):Rt(Rt(this).R(t));if(bn(t))return Rt(this.R(Rt(t)));if(0>this.X($w)&&0>t.X($w))return lr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Gu(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Gu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Gu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Gu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Le(n,0)};function Gu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wa(t,e){this.g=t,this.h=e}function oh(t,e){if(Rr(e))throw Error("division by zero");if(Rr(t))return new wa(yo,yo);if(bn(t))return e=oh(Rt(t),e),new wa(Rt(e.g),Rt(e.h));if(bn(e))return e=oh(t,Rt(e)),new wa(Rt(e.g),e.h);if(30<t.g.length){if(bn(t)||bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lg,r=e;0>=r.X(t);)n=Bw(n),r=Bw(r);var i=Gs(n,1),s=Gs(r,1);for(r=Gs(r,2),n=Gs(n,2);!Rr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Gs(r,1),n=Gs(n,1)}return e=sh(t,i.R(e)),new wa(i,e)}for(i=yo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=lr(n),o=s.R(e);bn(o)||0<o.X(t);)n-=r,s=lr(n),o=s.R(e);Rr(s)&&(s=lg),i=i.add(s),t=sh(t,o)}return new wa(i,t)}ee.gb=function(t){return oh(this,t).h};ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Le(n,this.h&t.h)};ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Le(n,this.h|t.h)};ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Le(n,this.h^t.h)};function Bw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Le(n,t.h)}function Gs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Le(i,t.h)}ih.prototype.createWebChannel=ih.prototype.g;wn.prototype.send=wn.prototype.u;wn.prototype.open=wn.prototype.m;wn.prototype.close=wn.prototype.close;Gh.NO_ERROR=0;Gh.TIMEOUT=8;Gh.HTTP_ERROR=6;YT.COMPLETE="complete";XT.EventType=Wl;Wl.OPEN="a";Wl.CLOSE="b";Wl.ERROR="c";Wl.MESSAGE="d";Tt.prototype.listen=Tt.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;Xn.prototype.digest=Xn.prototype.l;Xn.prototype.reset=Xn.prototype.reset;Xn.prototype.update=Xn.prototype.j;Le.prototype.add=Le.prototype.add;Le.prototype.multiply=Le.prototype.R;Le.prototype.modulo=Le.prototype.gb;Le.prototype.compare=Le.prototype.X;Le.prototype.toNumber=Le.prototype.ea;Le.prototype.toString=Le.prototype.toString;Le.prototype.getBits=Le.prototype.D;Le.fromNumber=lr;Le.fromString=xS;var YD=function(){return new ih},XD=function(){return Kh()},Uf=Gh,JD=YT,ZD=Cs,zw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qu=XT,eN=tt,tN=Xn,_o=Le;const Hw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="10.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Em("@firebase/firestore");function Ww(){return gs.logLevel}function se(t,...e){if(gs.logLevel<=Pe.DEBUG){const n=e.map(qm);gs.debug(`Firestore (${qo}): ${t}`,...n)}}function jr(t,...e){if(gs.logLevel<=Pe.ERROR){const n=e.map(qm);gs.error(`Firestore (${qo}): ${t}`,...n)}}function Oo(t,...e){if(gs.logLevel<=Pe.WARN){const n=e.map(qm);gs.warn(`Firestore (${qo}): ${t}`,...n)}}function qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function qe(t,e){t||de()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class rN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iN{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ei,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ei)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new DS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Mt(e)}}class sN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new aN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new ft(0,0))}static max(){return new me(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Sl{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const cN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Sl{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return cN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new oe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Ge.fromString(e))}static fromName(e){return new ae(Ge.fromString(e).popFirst(5))}static empty(){return new ae(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Ge(e.slice()))}}function hN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Ci(i,ae.empty(),e)}function dN(t){return new Ci(t.readTime,t.key,-1)}class Ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ci(me.min(),ae.empty(),-1)}static max(){return new Ci(me.max(),ae.empty(),-1)}}function fN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==pN)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Km.ae=-1;function rd(t){return t==null}function ah(t){return t===0&&1/t==-1/0}function mN(t){return typeof t=="number"&&Number.isInteger(t)&&!ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kw(this.data.getIterator())}getIteratorFrom(e){return new Kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Bt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new MS("Invalid base64 string: "+s):s}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const yN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(qe(!!t),typeof t=="string"){let e=0;const n=yN.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qm(t){const e=t.mapValue.fields.__previous_value__;return Gm(e)?Qm(e):e}function Al(t){const e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gm(t)?4:vN(t)?9007199254740991:10:de()}function mr(t,e){if(t===e)return!0;const n=ys(t);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Al(t).isEqual(Al(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Pi(i.timestampValue),a=Pi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ms(i.bytesValue).isEqual(ms(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ct(i.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ct(i.integerValue)===ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ct(i.doubleValue),a=ct(s.doubleValue);return o===a?ah(o)===ah(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(qw(o)!==qw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!mr(o[u],a[u])))return!1;return!0}(t,e);default:return de()}}function Pl(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=ys(t),r=ys(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ct(s.integerValue||s.doubleValue),u=ct(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Gw(t.timestampValue,e.timestampValue);case 4:return Gw(Al(t),Al(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ms(s),u=ms(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ke(a[c],u[c]);if(d!==0)return d}return ke(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ke(ct(s.latitude),ct(o.latitude));return a!==0?a:ke(ct(s.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=Do(a[c],u[c]);if(d)return d}return ke(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Xu.mapValue&&o===Xu.mapValue)return 0;if(s===Xu.mapValue)return 1;if(o===Xu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const y=ke(u[p],d[p]);if(y!==0)return y;const I=Do(a[u[p]],c[d[p]]);if(I!==0)return I}return ke(u.length,d.length)}(t.mapValue,e.mapValue);default:throw de()}}function Gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Pi(t),r=Pi(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function No(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ug(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ug(n.fields[o])}`;return i+"}"}(t.mapValue):de()}function cg(t){return!!t&&"integerValue"in t}function Ym(t){return!!t&&"arrayValue"in t}function Qw(t){return!!t&&"nullValue"in t}function Yw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mc(t){return!!t&&"mapValue"in t}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=za(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new On(za(this.value))}}function VS(t){const e=[];return Ko(t.fields,(n,r)=>{const i=new Ut([n]);if(mc(r)){const s=VS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,me.min(),me.min(),me.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,me.min(),me.min(),On.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,me.min(),me.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function Xw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Do(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n="asc"){this.field=e,this.dir=n}}function wN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class gt extends jS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IN(e,n,r):n==="array-contains"?new AN(e,r):n==="in"?new CN(e,r):n==="not-in"?new PN(e,r):n==="array-contains-any"?new RN(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TN(e,r):new SN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yr extends jS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new yr(e,n)}matches(e){return US(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function US(t){return t.op==="and"}function FS(t){return EN(t)&&US(t)}function EN(t){for(const e of t.filters)if(e instanceof yr)return!1;return!0}function hg(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+No(t.value);if(FS(t))return t.filters.map(e=>hg(e)).join(",");{const e=t.filters.map(n=>hg(n)).join(",");return`${t.op}(${e})`}}function $S(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof yr?function(r,i){return i instanceof yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$S(o,i.filters[a]),!0):!1}(t,e):void de()}function BS(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof yr?function(n){return n.op.toString()+" {"+n.getFilters().map(BS).join(" ,")+"}"}(t):"Filter"}class IN extends gt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class TN extends gt{constructor(e,n){super(e,"in",n),this.keys=zS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SN extends gt{constructor(e,n){super(e,"not-in",n),this.keys=zS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class AN extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&Pl(n.arrayValue,this.value)}}class CN extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class PN extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pl(this.value.arrayValue,n)}}class RN extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function Zw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kN(t,e,n,r,i,s,o)}function Xm(t){const e=ye(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.he=n}return e.he}function Jm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$S(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jw(t.startAt,e.startAt)&&Jw(t.endAt,e.endAt)}function dg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function bN(t,e,n,r,i,s,o,a){return new id(t,e,n,r,i,s,o,a)}function HS(t){return new id(t)}function e0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ON(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xN(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function DN(t){return t.collectionGroup!==null}function Wa(t){const e=ye(t);if(e.Pe===null){e.Pe=[];const n=xN(e),r=ON(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Ha(n)),e.Pe.push(new Ha(Ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ha(Ut.keyField(),s))}}}return e.Pe}function Ur(t){const e=ye(t);return e.Ie||(e.Ie=NN(e,Wa(t))),e.Ie}function NN(t,e){if(t.limitType==="F")return Zw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ha(i.field,s)});const n=t.endAt?new lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lh(t.startAt.position,t.startAt.inclusive):null;return Zw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fg(t,e,n){return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sd(t,e){return Jm(Ur(t),Ur(e))&&t.limitType===e.limitType}function WS(t){return`${Xm(Ur(t))}|lt:${t.limitType}`}function pg(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BS(i)).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(Ur(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=Xw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Wa(r),i)||r.endAt&&!function(o,a,u){const c=Xw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Wa(r),i))}(t,e)}function LN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qS(t){return(e,n)=>{let r=!1;for(const i of Wa(t)){const s=MN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function MN(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Do(u,c):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Je(ae.comparator);function Fr(){return VN}const KS=new Je(ae.comparator);function Oa(...t){let e=KS;for(const n of t)e=e.insert(n.key,n);return e}function GS(t){let e=KS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return qa()}function QS(){return qa()}function qa(){return new Go(t=>t.toString(),(t,e)=>t.isEqual(e))}const jN=new Je(ae.comparator),UN=new Bt(ae.comparator);function Ie(...t){let e=UN;for(const n of t)e=e.add(n);return e}const FN=new Bt(ke);function $N(){return FN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function XS(t){return{integerValue:""+t}}function BN(t,e){return mN(e)?XS(e):YS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function zN(t,e,n){return t instanceof uh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gm(s)&&(s=Qm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Rl?ZS(t,e):t instanceof kl?e1(t,e):function(i,s){const o=JS(i,s),a=t0(o)+t0(i.Ee);return cg(o)&&cg(i.Ee)?XS(a):YS(i.serializer,a)}(t,e)}function HN(t,e,n){return t instanceof Rl?ZS(t,e):t instanceof kl?e1(t,e):n}function JS(t,e){return t instanceof ch?function(r){return cg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class uh extends ad{}class Rl extends ad{constructor(e){super(),this.elements=e}}function ZS(t,e){const n=t1(e);for(const r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends ad{constructor(e){super(),this.elements=e}}function e1(t,e){let n=t1(e);for(const r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class ch extends ad{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function t0(t){return ct(t.integerValue||t.doubleValue)}function t1(t){return Ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Rl&&i instanceof Rl||r instanceof kl&&i instanceof kl?xo(r.elements,i.elements,mr):r instanceof ch&&i instanceof ch?mr(r.Ee,i.Ee):r instanceof uh&&i instanceof uh}(t.transform,e.transform)}class qN{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function n1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i1(t.key,xr.none()):new Jl(t.key,t.data,xr.none());{const n=t.data,r=On.empty();let i=new Bt(Ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ps(t.key,r,new qn(i.toArray()),xr.none())}}function KN(t,e,n){t instanceof Jl?function(i,s,o){const a=i.value.clone(),u=r0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ps?function(i,s,o){if(!yc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=r0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(r1(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof Jl?function(s,o,a,u){if(!yc(s.precondition,o))return a;const c=s.value.clone(),d=i0(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ps?function(s,o,a,u){if(!yc(s.precondition,o))return a;const c=i0(s.fieldTransforms,u,o),d=o.data;return d.setAll(r1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return yc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function GN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=JS(r.transform,i||null);s!=null&&(n===null&&(n=On.empty()),n.set(r.field,s))}return n||null}function n0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(s,o)=>WN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends ld{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ps extends ld{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function r1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function r0(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,HN(o,a,n[i]))}return r}function i0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,zN(s,o,e))}return r}class i1 extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QN extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=n1(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>n0(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>n0(n,r))}}class Zm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=function(){return jN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Zm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ae;function ZN(t){switch(t){default:return de();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function s1(t){if(t===void 0)return jr("GRPC error has no .code"),q.UNKNOWN;switch(t){case ut.OK:return q.OK;case ut.CANCELLED:return q.CANCELLED;case ut.UNKNOWN:return q.UNKNOWN;case ut.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ut.INTERNAL:return q.INTERNAL;case ut.UNAVAILABLE:return q.UNAVAILABLE;case ut.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ut.NOT_FOUND:return q.NOT_FOUND;case ut.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ut.ABORTED:return q.ABORTED;case ut.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ut.DATA_LOSS:return q.DATA_LOSS;default:return de()}}(Ae=ut||(ut={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new _o([4294967295,4294967295],0);function s0(t){const e=eL().encode(t),n=new tN;return n.update(e),new Uint8Array(n.digest())}function o0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _o([n,r],0),new _o([i,s],0)]}class ey{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xa(`Invalid padding: ${n}`);if(r<0)throw new xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xa(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=_o.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(_o.fromNumber(r)));return i.compare(tL)===1&&(i=new _o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=s0(e),[r,i]=o0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ey(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=s0(e),[r,i]=o0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(me.min(),i,new Je(ke),Fr(),Ie())}}class Zl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zl(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class o1{constructor(e,n){this.targetId=e,this.ye=n}}class a1{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a0{constructor(){this.we=0,this.Se=u0(),this.be=Wt.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=Ie(),n=Ie(),r=Ie();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new Zl(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=u0()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class nL{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Fr(),this.Ue=l0(),this.We=new Je(ke)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(dg(s))if(r===0){const o=new ae(s.path);this.je(n,o,jt.newNoDocument(o,me.min()))}else qe(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),u=a?this.rt(a,e,o):1;if(u!==0){this.Ze(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,c)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ms(r).toUint8Array()}catch(u){if(u instanceof MS)return Oo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new ey(o,i,s)}catch(u){return Oo(u instanceof xa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&dg(a.target)){const u=new ae(a.target.path);this.$e.get(u)!==null||this.ut(o,u)||this.je(o,u,jt.newNoDocument(u,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=Ie();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.et(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new ud(e,n,this.We,this.$e,r);return this.$e=Fr(),this.Ue=l0(),this.We=new Je(ke),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new a0,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Bt(ke),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new a0),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function l0(){return new Je(ae.comparator)}function u0(){return new Je(ae.comparator)}const rL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),iL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sL=(()=>({and:"AND",or:"OR"}))();class oL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gg(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aL(t,e){return hh(t,e.toTimestamp())}function fr(t){return qe(!!t),me.fromTimestamp(function(n){const r=Pi(n);return new ft(r.seconds,r.nanos)}(t))}function ty(t,e){return function(r){return new Ge(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function u1(t){const e=Ge.fromString(t);return qe(f1(e)),e}function mg(t,e){return ty(t.databaseId,e.path)}function Ff(t,e){const n=u1(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(c1(n))}function yg(t,e){return ty(t.databaseId,e)}function lL(t){const e=u1(t);return e.length===4?Ge.emptyPath():c1(e)}function _g(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c1(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c0(t,e,n){return{name:mg(t,e),fields:n.value.mapValue.fields}}function uL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(qe(d===void 0||typeof d=="string"),Wt.fromBase64String(d||"")):(qe(d===void 0||d instanceof Uint8Array),Wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?q.UNKNOWN:s1(c.code);return new oe(d,c.message||"")}(o);n=new a1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ff(t,r.document.name),s=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):me.min(),a=new On({mapValue:{fields:r.document.fields}}),u=jt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new _c(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ff(t,r.document),s=r.readTime?fr(r.readTime):me.min(),o=jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _c([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ff(t,r.document),s=r.removedTargetIds||[];n=new _c([],s,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new JN(i,s),a=r.targetId;n=new o1(a,o)}}return n}function cL(t,e){let n;if(e instanceof Jl)n={update:c0(t,e.key,e.value)};else if(e instanceof i1)n={delete:mg(t,e.key)};else if(e instanceof Ps)n={update:c0(t,e.key,e.data),updateMask:vL(e.fieldMask)};else{if(!(e instanceof QN))return de();n={verify:mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof uh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ch)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:aL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de()}(t,e.precondition)),n}function hL(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fr(i.updateTime):fr(s);return o.isEqual(me.min())&&(o=fr(s)),new qN(o,i.transformResults||[])}(n,e))):[]}function dL(t,e){return{documents:[yg(t,e.path)]}}function fL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=yg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return d1(yr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Qs(p.field),direction:mL(p.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=gg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function pL(t){let e=lL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const y=h1(p);return y instanceof yr&&FS(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(O){return new Ha(Ys(O.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,rd(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){const y=!!p.before,I=p.values||[];return new lh(I,y)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const y=!p.before,I=p.values||[];return new lh(I,y)}(n.endAt)),bN(e,i,o,s,a,"F",u,c)}function gL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ys(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ys(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ys(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ys(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yr.create(n.compositeFilter.filters.map(r=>h1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function mL(t){return rL[t]}function yL(t){return iL[t]}function _L(t){return sL[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return Ut.fromServerFormat(t.fieldPath)}function d1(t){return t instanceof gt?function(n){if(n.op==="=="){if(Yw(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(Qw(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yw(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(Qw(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:yL(n.op),value:n.value}}}(t):t instanceof yr?function(n){const r=n.getFilters().map(i=>d1(i));return r.length===1?r[0]:{compositeFilter:{op:_L(n.op),filters:r}}}(t):de()}function vL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.ht=e}}function EL(t){const e=pL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this._n=new TL}addToCollectionParentIndex(e,n){return this._n.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Ci.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class TL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Lo(0)}static Bn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.changes=new Go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,qn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fr();const o=qa(),a=function(){return qa()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ps)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ka(d.mutation,c,d.mutation.getFieldMask(),ft.now())):o.set(c.key,qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new AL(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qa();let i=new Je((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||qn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const p=(i.get(a.batchId)||Ie()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=QS();d.forEach(y=>{if(!s.has(y)){const I=n1(n.get(y),r.get(y));I!==null&&p.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(ts());let a=-1,u=s;return o.next(c=>Q.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{u=u.insert(d,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Ie())).next(d=>({batchId:a,changes:GS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Oa();return this.indexManager.getCollectionParents(e,i).next(o=>Q.forEach(o,a=>{const u=function(d,p){return new id(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,jt.newInvalidDocument(c)))});let o=Oa();return s.forEach((a,u)=>{const c=i.get(a);c!==void 0&&Ka(c.mutation,u,qn.empty(),ft.now()),od(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:EL(i.bundledQuery),readTime:fr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.overlays=new Je(ae.comparator),this.hr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ts();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=ts(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ts(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ts(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Q.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XN(n,r));let s=this.hr.get(n);s===void 0&&(s=Ie(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.Pr=new Bt(wt.Ir),this.Tr=new Bt(wt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new wt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new Ge([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new Ge([])),r=new wt(n,e),i=new wt(n,e+1);let s=Ie();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||ke(e.pr,n.pr)}static Er(e,n){return ke(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bt(wt.Ir)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(ke);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),Q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new wt(new ae(s),0);let a=new Bt(ke);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},o),Q.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Q.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new wt(n,0),i=this.wr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}vr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.Cr=e,this.docs=function(){return new Je(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fr();const o=n.path,a=new ae(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fN(dN(d),r)<=0||(i.has(d.key)||od(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){de()}Fr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OL(this)}getSize(e){return Q.resolve(this.size)}}class OL extends SL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.persistence=e,this.Mr=new Go(n=>Xm(n),Jm),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ny,this.targetCount=0,this.Br=Lo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.qn(n),Q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Km(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new xL(this),this.indexManager=new IL,this.remoteDocumentCache=function(i){return new bL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new wL(n),this.$r=new PL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new kL(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new NL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Q.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class NL extends gN{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.zr=new ny,this.jr=null}static Hr(e){return new ry(e)}get Jr(){if(this.jr)return this.jr;throw de()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,r=>{const i=ae.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Q.or([()=>Q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.$i=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Wi(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.zi(e,n))}Wi(e,n){if(e0(n))return Q.resolve(null);let r=Ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fg(n,null,"F"),r=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.Hi(n,c,o,u.readTime)?this.Wi(e,fg(n,null,"F")):this.Ji(e,c,n,u)}))})))}Gi(e,n,r,i){return e0(n)||i.isEqual(me.min())?this.zi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.Hi(n,o,r,i)?this.zi(e,n):(Ww()<=Pe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pg(n)),this.Ji(e,o,n,hN(i,-1)))})}ji(e,n){let r=new Bt(qS(e));return n.forEach((i,s)=>{od(e,s)&&(r=r.add(s))}),r}Hi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}zi(e,n){return Ww()<=Pe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",pg(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ci.min())}Ji(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,i){this.persistence=e,this.Yi=n,this.serializer=i,this.Zi=new Je(ke),this.Xi=new Go(s=>Xm(s),Jm),this.es=new Map,this.ts=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this.ns(r)}ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CL(this.ts,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ts.setIndexManager(this.indexManager),this.Yi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Zi))}}function VL(t,e,n,r){return new ML(t,e,n,r)}async function p1(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ie();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function jL(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ts.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,y=p.keys();let I=Q.resolve();return y.forEach(O=>{I=I.next(()=>d.getEntry(u,O)).next(x=>{const L=c.docVersions.get(O);qe(L!==null),x.version.compareTo(L)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function g1(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function UL(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.Zi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ts.newChangeBuffer({trackRemovals:!0});i=n.Zi;const a=[];e.targetChanges.forEach((d,p)=>{const y=i.get(p);if(!y)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,p)));let I=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(Wt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(d.resumeToken,r)),i=i.insert(p,I),function(x,L,v){return x.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(y,I,d)&&a.push(n.Qr.updateTargetData(s,I))});let u=Fr(),c=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(FL(s,o,e.documentUpdates).next(d=>{u=d.ss,c=d.os})),!r.isEqual(me.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Zi=i,s))}function FL(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ss:o,os:i}})}function $L(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BL(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Zi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Zi=n.Zi.insert(r.targetId,r),n.Xi.set(e,r.targetId)),r})}async function vg(t,e,n){const r=ye(t),i=r.Zi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xl(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Zi=r.Zi.remove(e),r.Xi.delete(i.target)}function h0(t,e,n){const r=ye(t);let i=me.min(),s=Ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,c,d){const p=ye(u),y=p.Xi.get(d);return y!==void 0?Q.resolve(p.Zi.get(y)):p.Qr.getTargetData(c,d)}(r,o,Ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Yi.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Ie())).next(a=>(zL(r,LN(e),a),{documents:a,_s:s})))}function zL(t,e,n){let r=t.es.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.es.set(e,r)}class d0{constructor(){this.activeTargetIds=$N()}Is(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ts(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ps(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HL{constructor(){this.Ys=new d0,this.Zs={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ys.Is(e),this.Zs[e]||"not-current"}updateQueryState(e,n,r){this.Zs[e]=n}removeLocalQueryTarget(e){this.Ys.Ts(e)}isLocalQueryTarget(e){return this.Ys.activeTargetIds.has(e)}clearQueryState(e){delete this.Zs[e]}getAllActiveQueryTargets(){return this.Ys.activeTargetIds}isActiveQueryTarget(e){return this.Ys.activeTargetIds.has(e)}start(){return this.Ys=new d0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{Xs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.eo=()=>this.no(),this.ro=()=>this.io(),this.so=[],this.oo()}Xs(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.eo),window.removeEventListener("offline",this.ro)}oo(){window.addEventListener("online",this.eo),window.addEventListener("offline",this.ro)}no(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}io(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function $f(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this._o=e._o,this.ao=e.ao}uo(e){this.co=e}lo(e){this.ho=e}onMessage(e){this.Po=e}close(){this.ao()}send(e){this._o(e)}Io(){this.co()}To(e){this.ho(e)}Eo(e){this.Po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class GL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ao=r+"://"+n.host,this.Ro=`projects/${i}/databases/${s}`,this.Vo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get mo(){return!1}fo(n,r,i,s,o){const a=$f(),u=this.po(n,r);se("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.Ro,"x-goog-request-params":this.Vo};return this.yo(c,s,o),this.wo(n,u,c,i).then(d=>(se("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Oo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}So(n,r,i,s,o,a){return this.fo(n,r,i,s,o)}yo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}po(n,r){const i=qL[n];return`${this.Ao}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}wo(e,n,r,i){const s=$f();return new Promise((o,a)=>{const u=new eN;u.setWithCredentials(!0),u.listenOnce(JD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uf.NO_ERROR:const d=u.getResponseJson();se(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Uf.TIMEOUT:se(Lt,`RPC '${e}' ${s} timed out`),a(new oe(q.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const p=u.getStatus();if(se(Lt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y==null?void 0:y.error;if(I&&I.status&&I.message){const O=function(L){const v=L.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(v)>=0?v:q.UNKNOWN}(I.status);a(new oe(O,I.message))}else a(new oe(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new oe(q.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{se(Lt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);se(Lt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}bo(e,n,r){const i=$f(),s=[this.Ao,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YD(),a=XD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.yo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");se(Lt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let y=!1,I=!1;const O=new KL({_o:L=>{I?se(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(y||(se(Lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),se(Lt,`RPC '${e}' stream ${i} sending:`,L),p.send(L))},ao:()=>p.close()}),x=(L,v,m)=>{L.listen(v,T=>{try{m(T)}catch(A){setTimeout(()=>{throw A},0)}})};return x(p,Qu.EventType.OPEN,()=>{I||se(Lt,`RPC '${e}' stream ${i} transport opened.`)}),x(p,Qu.EventType.CLOSE,()=>{I||(I=!0,se(Lt,`RPC '${e}' stream ${i} transport closed`),O.To())}),x(p,Qu.EventType.ERROR,L=>{I||(I=!0,Oo(Lt,`RPC '${e}' stream ${i} transport errored:`,L),O.To(new oe(q.UNAVAILABLE,"The operation could not be completed")))}),x(p,Qu.EventType.MESSAGE,L=>{var v;if(!I){const m=L.data[0];qe(!!m);const T=m,A=T.error||((v=T[0])===null||v===void 0?void 0:v.error);if(A){se(Lt,`RPC '${e}' stream ${i} received error:`,A);const j=A.status;let V=function(w){const P=ut[w];if(P!==void 0)return s1(P)}(j),B=A.message;V===void 0&&(V=q.INTERNAL,B="Unknown error status: "+j+" with message "+A.message),I=!0,O.To(new oe(V,B)),p.close()}else se(Lt,`RPC '${e}' stream ${i} received:`,m),O.Eo(m)}}),x(a,ZD.STAT_EVENT,L=>{L.stat===zw.PROXY?se(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===zw.NOPROXY&&se(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.Io()},0),O}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return new oL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Do=r,this.vo=i,this.Co=s,this.Fo=0,this.Mo=null,this.xo=Date.now(),this.reset()}reset(){this.Fo=0}Oo(){this.Fo=this.Co}No(e){this.cancel();const n=Math.floor(this.Fo+this.Bo()),r=Math.max(0,Date.now()-this.xo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Fo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Mo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.xo=Date.now(),e())),this.Fo*=this.vo,this.Fo<this.Do&&(this.Fo=this.Do),this.Fo>this.Co&&(this.Fo=this.Co)}Lo(){this.Mo!==null&&(this.Mo.skipDelay(),this.Mo=null)}cancel(){this.Mo!==null&&(this.Mo.cancel(),this.Mo=null)}Bo(){return(Math.random()-.5)*this.Fo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.ko=r,this.qo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Qo=0,this.Ko=null,this.$o=null,this.stream=null,this.Uo=new m1(e,n)}Wo(){return this.state===1||this.state===5||this.Go()}Go(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.zo()}async stop(){this.Wo()&&await this.close(0)}jo(){this.state=0,this.Uo.reset()}Ho(){this.Go()&&this.Ko===null&&(this.Ko=this.oi.enqueueAfterDelay(this.ko,6e4,()=>this.Jo()))}Yo(e){this.Zo(),this.stream.send(e)}async Jo(){if(this.Go())return this.close(0)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}Xo(){this.$o&&(this.$o.cancel(),this.$o=null)}async close(e,n){this.Zo(),this.Xo(),this.Uo.cancel(),this.Qo++,e!==4?this.Uo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.Uo.Oo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.e_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.lo(n)}e_(){}auth(){this.state=1;const e=this.t_(this.Qo),n=this.Qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Qo===n&&this.n_(r,i)},r=>{e(()=>{const i=new oe(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.r_(i)})})}n_(e,n){const r=this.t_(this.Qo);this.stream=this.i_(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.$o=this.oi.enqueueAfterDelay(this.qo,1e4,()=>(this.Go()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.lo(i=>{r(()=>this.r_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}zo(){this.state=5,this.Uo.No(async()=>{this.state=0,this.start()})}r_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}t_(e){return n=>{this.oi.enqueueAndForget(()=>this.Qo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QL extends y1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}i_(e,n){return this.connection.bo("Listen",e,n)}onMessage(e){this.Uo.reset();const n=uL(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?fr(o.readTime):me.min()}(e);return this.listener.s_(n,r)}o_(e){const n={};n.database=_g(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=dg(u)?{documents:dL(s,u)}:{query:fL(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=l1(s,o.resumeToken);const c=gg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=hh(s,o.snapshotVersion.toTimestamp());const c=gg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=gL(this.serializer,e);r&&(n.labels=r),this.Yo(n)}__(e){const n={};n.database=_g(this.serializer),n.removeTarget=e,this.Yo(n)}}class YL extends y1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.a_=!1}get u_(){return this.a_}start(){this.a_=!1,this.lastStreamToken=void 0,super.start()}e_(){this.a_&&this.c_([])}i_(e,n){return this.connection.bo("Write",e,n)}onMessage(e){if(qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_){this.Uo.reset();const n=hL(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.l_(r,n)}return qe(!e.writeResults||e.writeResults.length===0),this.a_=!0,this.listener.h_()}P_(){const e={};e.database=_g(this.serializer),this.Yo(e)}c_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cL(this.serializer,r))};this.Yo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.I_=!1}T_(){if(this.I_)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.")}fo(e,n,r){return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.fo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(q.UNKNOWN,i.toString())})}So(e,n,r,i){return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(q.UNKNOWN,s.toString())})}terminate(){this.I_=!0}}class JL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.d_=0,this.A_=null,this.R_=!0}V_(){this.d_===0&&(this.m_("Unknown"),this.A_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.A_=null,this.f_("Backend didn't respond within 10 seconds."),this.m_("Offline"),Promise.resolve())))}g_(e){this.state==="Online"?this.m_("Unknown"):(this.d_++,this.d_>=1&&(this.p_(),this.f_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.m_("Offline")))}set(e){this.p_(),this.d_=0,e==="Online"&&(this.R_=!1),this.m_(e)}m_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}f_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.R_?(jr(n),this.R_=!1):se("OnlineStateTracker",n)}p_(){this.A_!==null&&(this.A_.cancel(),this.A_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.y_=[],this.w_=new Map,this.S_=new Set,this.b_=[],this.D_=s,this.D_.Xs(o=>{r.enqueueAndForget(async()=>{Rs(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ye(u);c.S_.add(4),await eu(c),c.v_.set("Unknown"),c.S_.delete(4),await hd(c)}(this))})}),this.v_=new JL(r,i)}}async function hd(t){if(Rs(t))for(const e of t.b_)await e(!0)}async function eu(t){for(const e of t.b_)await e(!1)}function _1(t,e){const n=ye(t);n.w_.has(e.targetId)||(n.w_.set(e.targetId,e),ay(n)?oy(n):Qo(n).Go()&&sy(n,e))}function v1(t,e){const n=ye(t),r=Qo(n);n.w_.delete(e),r.Go()&&w1(n,e),n.w_.size===0&&(r.Go()?r.Ho():Rs(n)&&n.v_.set("Unknown"))}function sy(t,e){if(t.C_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qo(t).o_(e)}function w1(t,e){t.C_.Le(e),Qo(t).__(e)}function oy(t){t.C_=new nL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.w_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Qo(t).start(),t.v_.V_()}function ay(t){return Rs(t)&&!Qo(t).Wo()&&t.w_.size>0}function Rs(t){return ye(t).S_.size===0}function E1(t){t.C_=void 0}async function e2(t){t.w_.forEach((e,n)=>{sy(t,e)})}async function t2(t,e){E1(t),ay(t)?(t.v_.g_(e),oy(t)):t.v_.set("Unknown")}async function n2(t,e,n){if(t.v_.set("Online"),e instanceof a1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.w_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.w_.delete(a),i.C_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(t,r)}else if(e instanceof _c?t.C_.Ge(e):e instanceof o1?t.C_.Xe(e):t.C_.He(e),!n.isEqual(me.min()))try{const r=await g1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.C_._t(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.w_.get(c);d&&s.w_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.w_.get(u);if(!d)return;s.w_.set(u,d.withResumeToken(Wt.EMPTY_BYTE_STRING,d.snapshotVersion)),w1(s,u);const p=new ui(d.target,u,c,d.sequenceNumber);sy(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await dh(t,r)}}async function dh(t,e,n){if(!Xl(e))throw e;t.S_.add(1),await eu(t),t.v_.set("Offline"),n||(n=()=>g1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.S_.delete(1),await hd(t)})}function I1(t,e){return e().catch(n=>dh(t,n,e))}async function dd(t){const e=ye(t),n=Ri(e);let r=e.y_.length>0?e.y_[e.y_.length-1].batchId:-1;for(;r2(e);)try{const i=await $L(e.localStore,r);if(i===null){e.y_.length===0&&n.Ho();break}r=i.batchId,i2(e,i)}catch(i){await dh(e,i)}T1(e)&&S1(e)}function r2(t){return Rs(t)&&t.y_.length<10}function i2(t,e){t.y_.push(e);const n=Ri(t);n.Go()&&n.u_&&n.c_(e.mutations)}function T1(t){return Rs(t)&&!Ri(t).Wo()&&t.y_.length>0}function S1(t){Ri(t).start()}async function s2(t){Ri(t).P_()}async function o2(t){const e=Ri(t);for(const n of t.y_)e.c_(n.mutations)}async function a2(t,e,n){const r=t.y_.shift(),i=Zm.from(r,e,n);await I1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dd(t)}async function l2(t,e){e&&Ri(t).u_&&await async function(r,i){if(function(o){return ZN(o)&&o!==q.ABORTED}(i.code)){const s=r.y_.shift();Ri(r).jo(),await I1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dd(r)}}(t,e),T1(t)&&S1(t)}async function p0(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Rs(n);n.S_.add(3),await eu(n),r&&n.v_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.S_.delete(3),await hd(n)}async function u2(t,e){const n=ye(t);e?(n.S_.delete(2),await hd(n)):e||(n.S_.add(2),await eu(n),n.v_.set("Unknown"))}function Qo(t){return t.F_||(t.F_=function(n,r,i){const s=ye(n);return s.T_(),new QL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:e2.bind(null,t),lo:t2.bind(null,t),s_:n2.bind(null,t)}),t.b_.push(async e=>{e?(t.F_.jo(),ay(t)?oy(t):t.v_.set("Unknown")):(await t.F_.stop(),E1(t))})),t.F_}function Ri(t){return t.M_||(t.M_=function(n,r,i){const s=ye(n);return s.T_(),new YL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:s2.bind(null,t),lo:l2.bind(null,t),h_:o2.bind(null,t),l_:a2.bind(null,t)}),t.b_.push(async e=>{e?(t.M_.jo(),await dd(t)):(await t.M_.stop(),t.y_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.y_.length} pending writes`),t.y_=[]))})),t.M_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ly(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(jr("AsyncQueue",`${e}: ${t}`),Xl(t))return new oe(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.x_=new Je(ae.comparator)}track(e){const n=e.doc.key,r=this.x_.get(n);r?e.type!==0&&r.type===3?this.x_=this.x_.insert(n,e):e.type===3&&r.type!==1?this.x_=this.x_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.x_=this.x_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.x_=this.x_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.x_=this.x_.remove(n):e.type===1&&r.type===2?this.x_=this.x_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.x_=this.x_.insert(n,{type:2,doc:e.doc}):de():this.x_=this.x_.insert(n,e)}O_(){const e=[];return this.x_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mo(e,n,vo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.N_=void 0,this.listeners=[]}}class h2{constructor(){this.queries=new Go(e=>WS(e),sd),this.onlineState="Unknown",this.B_=new Set}}async function d2(t,e){const n=ye(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new c2),i)try{s.N_=await n.onListen(r)}catch(o){const a=uy(o,`Initialization of query '${pg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.L_(n.onlineState),s.N_&&e.k_(s.N_)&&cy(n)}async function f2(t,e){const n=ye(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function p2(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.k_(i)&&(r=!0);o.N_=i}}r&&cy(n)}function g2(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function cy(t){t.B_.forEach(e=>{e.next()})}class m2{constructor(e,n,r){this.query=e,this.q_=n,this.Q_=!1,this.K_=null,this.onlineState="Unknown",this.options=r||{}}k_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Q_?this.U_(e)&&(this.q_.next(e),n=!0):this.W_(e,this.onlineState)&&(this.G_(e),n=!0),this.K_=e,n}onError(e){this.q_.error(e)}L_(e){this.onlineState=e;let n=!1;return this.K_&&!this.Q_&&this.W_(this.K_,e)&&(this.G_(this.K_),n=!0),n}W_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}U_(e){if(e.docChanges.length>0)return!0;const n=this.K_&&this.K_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}G_(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Q_=!0,this.q_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class y2{constructor(e,n){this.query=e,this.ta=n,this.na=null,this.hasCachedResults=!1,this.current=!1,this.ra=Ie(),this.mutatedKeys=Ie(),this.ia=qS(e),this.sa=new vo(this.ia)}get oa(){return this.ta}_a(e,n){const r=n?n.aa:new g0,i=n?n.sa:this.sa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const y=i.get(d),I=od(this.query,p)?p:null,O=!!y&&this.mutatedKeys.has(y.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;y&&I?y.data.isEqual(I.data)?O!==x&&(r.track({type:3,doc:I}),L=!0):this.ua(y,I)||(r.track({type:2,doc:I}),L=!0,(u&&this.ia(I,u)>0||c&&this.ia(I,c)<0)&&(a=!0)):!y&&I?(r.track({type:0,doc:I}),L=!0):y&&!I&&(r.track({type:1,doc:y}),L=!0,(u||c)&&(a=!0)),L&&(I?(o=o.add(I),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{sa:o,aa:r,Hi:a,mutatedKeys:s}}ua(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.sa;this.sa=e.sa,this.mutatedKeys=e.mutatedKeys;const s=e.aa.O_();s.sort((c,d)=>function(y,I){const O=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return O(y)-O(I)}(c.type,d.type)||this.ia(c.doc,d.doc)),this.ca(r);const o=n?this.la():[],a=this.ra.size===0&&this.current?1:0,u=a!==this.na;return this.na=a,s.length!==0||u?{snapshot:new Mo(this.query,e.sa,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ha:o}:{ha:o}}L_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({sa:this.sa,aa:new g0,mutatedKeys:this.mutatedKeys,Hi:!1},!1)):{ha:[]}}Pa(e){return!this.ta.has(e)&&!!this.sa.has(e)&&!this.sa.get(e).hasLocalMutations}ca(e){e&&(e.addedDocuments.forEach(n=>this.ta=this.ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ta=this.ta.delete(n)),this.current=e.current)}la(){if(!this.current)return[];const e=this.ra;this.ra=Ie(),this.sa.forEach(r=>{this.Pa(r.key)&&(this.ra=this.ra.add(r.key))});const n=[];return e.forEach(r=>{this.ra.has(r)||n.push(new C1(r))}),this.ra.forEach(r=>{e.has(r)||n.push(new A1(r))}),n}Ia(e){this.ta=e._s,this.ra=Ie();const n=this._a(e.documents);return this.applyChanges(n,!0)}Ta(){return Mo.fromInitialDocuments(this.query,this.sa,this.mutatedKeys,this.na===0,this.hasCachedResults)}}class _2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v2{constructor(e){this.key=e,this.Ea=!1}}class w2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.da={},this.Aa=new Go(a=>WS(a),sd),this.Ra=new Map,this.Va=new Set,this.ma=new Je(ae.comparator),this.fa=new Map,this.ga=new ny,this.pa={},this.ya=new Map,this.wa=Lo.Bn(),this.onlineState="Unknown",this.Sa=void 0}get isPrimaryClient(){return this.Sa===!0}}async function E2(t,e){const n=O2(t);let r,i;const s=n.Aa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ta();else{const o=await BL(n.localStore,Ur(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await I2(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&_1(n.remoteStore,o)}return i}async function I2(t,e,n,r,i){t.ba=(p,y,I)=>async function(x,L,v,m){let T=L.view._a(v);T.Hi&&(T=await h0(x.localStore,L.query,!1).then(({documents:V})=>L.view._a(V,T)));const A=m&&m.targetChanges.get(L.targetId),j=L.view.applyChanges(T,x.isPrimaryClient,A);return y0(x,L.targetId,j.ha),j.snapshot}(t,p,y,I);const s=await h0(t.localStore,e,!0),o=new y2(e,s._s),a=o._a(s.documents),u=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);y0(t,n,c.ha);const d=new _2(e,n,o);return t.Aa.set(e,d),t.Ra.has(n)?t.Ra.get(n).push(e):t.Ra.set(n,[e]),c.snapshot}async function T2(t,e){const n=ye(t),r=n.Aa.get(e),i=n.Ra.get(r.targetId);if(i.length>1)return n.Ra.set(r.targetId,i.filter(s=>!sd(s,e))),void n.Aa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),v1(n.remoteStore,r.targetId),wg(n,r.targetId)}).catch(Yl)):(wg(n,r.targetId),await vg(n.localStore,r.targetId,!0))}async function S2(t,e,n){const r=x2(t);try{const i=await function(o,a){const u=ye(o),c=ft.now(),d=a.reduce((I,O)=>I.add(O.key),Ie());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let O=Fr(),x=Ie();return u.ts.getEntries(I,d).next(L=>{O=L,O.forEach((v,m)=>{m.isValidDocument()||(x=x.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,O)).next(L=>{p=L;const v=[];for(const m of a){const T=GN(m,p.get(m.key).overlayedDocument);T!=null&&v.push(new Ps(m.key,T,VS(T.value.mapValue),xr.exists(!0)))}return u.mutationQueue.addMutationBatch(I,c,v,a)}).next(L=>{y=L;const v=L.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(I,L.batchId,v)})}).then(()=>({batchId:y.batchId,changes:GS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.pa[o.currentUser.toKey()];c||(c=new Je(ke)),c=c.insert(a,u),o.pa[o.currentUser.toKey()]=c}(r,i.batchId,n),await tu(r,i.changes),await dd(r.remoteStore)}catch(i){const s=uy(i,"Failed to persist write");n.reject(s)}}async function P1(t,e){const n=ye(t);try{const r=await UL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.fa.get(s);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ea=!0:i.modifiedDocuments.size>0?qe(o.Ea):i.removedDocuments.size>0&&(qe(o.Ea),o.Ea=!1))}),await tu(n,r,e)}catch(r){await Yl(r)}}function m0(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Aa.forEach((s,o)=>{const a=o.view.L_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ye(o);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const y of p.listeners)y.L_(a)&&(c=!0)}),c&&cy(u)}(r.eventManager,e),i.length&&r.da.s_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A2(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.fa.get(e),s=i&&i.key;if(s){let o=new Je(ae.comparator);o=o.insert(s,jt.newNoDocument(s,me.min()));const a=Ie().add(s),u=new ud(me.min(),new Map,new Je(ke),o,a);await P1(r,u),r.ma=r.ma.remove(s),r.fa.delete(e),hy(r)}else await vg(r.localStore,e,!1).then(()=>wg(r,e,n)).catch(Yl)}async function C2(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await jL(n.localStore,e);k1(n,r,null),R1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,i)}catch(i){await Yl(i)}}async function P2(t,e,n){const r=ye(t);try{const i=await function(o,a){const u=ye(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(qe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);k1(r,e,n),R1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,i)}catch(i){await Yl(i)}}function R1(t,e){(t.ya.get(e)||[]).forEach(n=>{n.resolve()}),t.ya.delete(e)}function k1(t,e,n){const r=ye(t);let i=r.pa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.pa[r.currentUser.toKey()]=i}}function wg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ra.get(e))t.Aa.delete(r),n&&t.da.Da(r,n);t.Ra.delete(e),t.isPrimaryClient&&t.ga.Vr(e).forEach(r=>{t.ga.containsKey(r)||b1(t,r)})}function b1(t,e){t.Va.delete(e.path.canonicalString());const n=t.ma.get(e);n!==null&&(v1(t.remoteStore,n),t.ma=t.ma.remove(e),t.fa.delete(n),hy(t))}function y0(t,e,n){for(const r of n)r instanceof A1?(t.ga.addReference(r.key,e),R2(t,r)):r instanceof C1?(se("SyncEngine","Document no longer in limbo: "+r.key),t.ga.removeReference(r.key,e),t.ga.containsKey(r.key)||b1(t,r.key)):de()}function R2(t,e){const n=e.key,r=n.path.canonicalString();t.ma.get(n)||t.Va.has(r)||(se("SyncEngine","New document in limbo: "+n),t.Va.add(r),hy(t))}function hy(t){for(;t.Va.size>0&&t.ma.size<t.maxConcurrentLimboResolutions;){const e=t.Va.values().next().value;t.Va.delete(e);const n=new ae(Ge.fromString(e)),r=t.wa.next();t.fa.set(r,new v2(n)),t.ma=t.ma.insert(n,r),_1(t.remoteStore,new ui(Ur(HS(n.path)),r,"TargetPurposeLimboResolution",Km.ae))}}async function tu(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Aa.isEmpty()||(r.Aa.forEach((a,u)=>{o.push(r.ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=iy.Ki(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.da.s_(i),await async function(u,c){const d=ye(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Q.forEach(c,y=>Q.forEach(y.qi,I=>d.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>Q.forEach(y.Qi,I=>d.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!Xl(p))throw p;se("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const y=p.targetId;if(!p.fromCache){const I=d.Zi.get(y),O=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(O);d.Zi=d.Zi.insert(y,x)}}}(r.localStore,s))}async function k2(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await p1(n.localStore,e);n.currentUser=e,function(s,o){s.ya.forEach(a=>{a.forEach(u=>{u.reject(new oe(q.CANCELLED,o))})}),s.ya.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.rs)}}function b2(t,e){const n=ye(t),r=n.fa.get(e);if(r&&r.Ea)return Ie().add(r.key);{let i=Ie();const s=n.Ra.get(e);if(!s)return i;for(const o of s){const a=n.Aa.get(o);i=i.unionWith(a.view.oa)}return i}}function O2(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A2.bind(null,e),e.da.s_=p2.bind(null,e.eventManager),e.da.Da=g2.bind(null,e.eventManager),e}function x2(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P2.bind(null,e),e}class _0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return VL(this.persistence,new LL,e.initialUser,this.serializer)}createPersistence(e){return new DL(ry.Hr,this.serializer)}createSharedClientState(e){return new HL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class D2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k2.bind(null,this.syncEngine),await u2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h2}()}createDatastore(e){const n=cd(e.databaseInfo.databaseId),r=function(s){return new GL(s)}(e.databaseInfo);return function(s,o,a,u){return new XL(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new ZL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>m0(this.syncEngine,n,0),function(){return f0.v()?new f0:new WL}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const p=new w2(i,s,o,a,u,c);return d&&(p.Sa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);se("RemoteStore","RemoteStore shutting down."),r.S_.add(5),await eu(r),r.D_.shutdown(),r.v_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Fa(this.observer.next,e)}error(e){this.observer.error?this.Fa(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}Ma(){this.muted=!0}Fa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=NS.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zf(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await p1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await V2(t);se("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>p0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>p0(e.remoteStore,s)),t._onlineComponents=e}function M2(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function V2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!M2(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await zf(t,new _0)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await zf(t,new _0);return t._offlineComponents}async function O1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await v0(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await v0(t,new D2))),t._onlineComponents}function j2(t){return O1(t).then(e=>e.syncEngine)}async function U2(t){const e=await O1(t),n=e.eventManager;return n.onListen=E2.bind(null,e.syncEngine),n.onUnlisten=T2.bind(null,e.syncEngine),n}function F2(t,e,n={}){const r=new Ei;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new N2({next:y=>{o.enqueueAndForget(()=>f2(s,p)),y.fromCache&&u.source==="server"?c.reject(new oe(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(y)},error:y=>c.reject(y)}),p=new m2(a,d,{includeMetadataChanges:!0,z_:!0});return d2(s,p)}(await U2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e,n){if(!n)throw new oe(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $2(t,e,n,r){if(e===!0&&r===!0)throw new oe(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E0(t){if(!ae.isDocumentKey(t))throw new oe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I0(t){if(ae.isDocumentKey(t))throw new oe(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function fh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dy(t);throw new oe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new oe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nN;switch(r.type){case"firstParty":return new oN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w0.get(n);r&&(se("ComponentProvider","Removing Datastore"),w0.delete(n),r.terminate())}(this),Promise.resolve()}}function B2(t,e,n,r={}){var i;const s=(t=fh(t,fd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Mt.MOCK_USER;else{a=AT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new oe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}t._authCredentials=new rN(new DS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pd(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Ii extends pd{constructor(e,n,r){super(e,n,HS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new ae(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function N1(t,e,...n){if(t=xt(t),D1("collection","path",e),t instanceof fd){const r=Ge.fromString(e,...n);return I0(r),new Ii(t,null,r)}{if(!(t instanceof Qn||t instanceof Ii))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return I0(r),new Ii(t.firestore,null,r)}}function z2(t,e,...n){if(t=xt(t),arguments.length===1&&(e=NS.V()),D1("doc","path",e),t instanceof fd){const r=Ge.fromString(e,...n);return E0(r),new Qn(t,null,new ae(r))}{if(!(t instanceof Qn||t instanceof Ii))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return E0(r),new Qn(t.firestore,t instanceof Ii?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.za=Promise.resolve(),this.ja=[],this.Ha=!1,this.Ja=[],this.Ya=null,this.Za=!1,this.Xa=!1,this.eu=[],this.Uo=new m1(this,"async_queue_retry"),this.tu=()=>{const n=Bf();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Uo.Lo()};const e=Bf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.tu)}get isShuttingDown(){return this.Ha}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nu(),this.ru(e)}enterRestrictedMode(e){if(!this.Ha){this.Ha=!0,this.Xa=e||!1;const n=Bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.tu)}}enqueue(e){if(this.nu(),this.Ha)return new Promise(()=>{});const n=new Ei;return this.ru(()=>this.Ha&&this.Xa?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ja.push(e),this.iu()))}async iu(){if(this.ja.length!==0){try{await this.ja[0](),this.ja.shift(),this.Uo.reset()}catch(e){if(!Xl(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.ja.length>0&&this.Uo.No(()=>this.iu())}}ru(e){const n=this.za.then(()=>(this.Za=!0,e().catch(r=>{this.Ya=r,this.Za=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Za=!1,r))));return this.za=n,n}enqueueAfterDelay(e,n,r){this.nu(),this.eu.indexOf(e)>-1&&(n=0);const i=ly.createAndSchedule(this,e,n,r,s=>this.su(s));return this.Ja.push(i),i}nu(){this.Ya&&de()}verifyOperationInProgress(){}async ou(){let e;do e=this.za,await e;while(e!==this.za)}_u(e){for(const n of this.Ja)if(n.timerId===e)return!0;return!1}au(e){return this.ou().then(()=>{this.Ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ou()})}uu(e){this.eu.push(e)}su(e){const n=this.Ja.indexOf(e);this.Ja.splice(n,1)}}class fy extends fd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new H2}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||M1(this),this._firestoreClient.terminate()}}function W2(t,e){const n=typeof t=="object"?t:Tm(),r=typeof t=="string"?t:e||"(default)",i=Fh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=IT("firestore");s&&B2(i,...s)}return i}function L1(t){return t._firestoreClient||M1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function M1(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new _N(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,x1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new L2(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(Wt.fromBase64String(e))}catch(n){throw new oe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/^__.*__$/;class K2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}function j1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class my{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.cu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get lu(){return this.settings.lu}hu(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.hu({path:r,Iu:!1});return i.Tu(e),i}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.hu({path:r,Iu:!1});return i.cu(),i}du(e){return this.hu({path:void 0,Iu:!0})}Au(e){return ph(e,this.settings.methodName,this.settings.Ru||!1,this.path,this.settings.Vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}cu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Tu(this.path.get(e))}Tu(e){if(e.length===0)throw this.Au("Document fields must not be empty");if(j1(this.lu)&&q2.test(e))throw this.Au('Document fields cannot begin and end with "__"')}}class G2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}mu(e,n,r,i=!1){return new my({lu:e,methodName:n,Vu:r,path:Ut.emptyPath(),Iu:!1,Ru:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q2(t){const e=t._freezeSettings(),n=cd(t._databaseId);return new G2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y2(t,e,n,r,i,s={}){const o=t.mu(s.merge||s.mergeFields?2:0,e,n,i);B1("Data must be an object, but it was:",o,r);const a=F1(r,o);let u,c;if(s.merge)u=new qn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const y=X2(e,p,n);if(!o.contains(y))throw new oe(q.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Z2(d,y)||d.push(y)}u=new qn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new K2(new On(a),u,c)}function U1(t,e){if($1(t=xt(t)))return B1("Unsupported field value:",e,t),F1(t,e);if(t instanceof V1)return function(r,i){if(!j1(i.lu))throw i.Au(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Au(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Iu&&e.lu!==4)throw e.Au("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=U1(a,i.du(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ft.fromDate(r);return{timestampValue:hh(i.serializer,s)}}if(r instanceof ft){const s=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(i.serializer,s)}}if(r instanceof gy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vo)return{bytesValue:l1(i.serializer,r._byteString)};if(r instanceof Qn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Au(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ty(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Au(`Unsupported field value: ${dy(r)}`)}(t,e)}function F1(t,e){const n={};return LS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,(r,i)=>{const s=U1(i,e.Pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof gy||t instanceof Vo||t instanceof Qn||t instanceof V1)}function B1(t,e,n){if(!$1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=dy(n);throw r==="an object"?e.Au(t+" a custom object"):e.Au(t+" "+r)}}function X2(t,e,n){if((e=xt(e))instanceof py)return e._internalPath;if(typeof e=="string")return z1(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const J2=new RegExp("[~\\*/\\[\\]]");function z1(t,e,n){if(e.search(J2)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new py(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new oe(q.INVALID_ARGUMENT,a+t+u)}function Z2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eM extends H1{data(){return super.data()}}function W1(t,e){return typeof e=="string"?z1(t,e):e instanceof py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nM{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ko(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new gy(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);qe(f1(r));const i=new Cl(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iM extends H1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(W1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vc extends iM{data(e={}){return super.data(e)}}class sM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vc(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:oM(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}class aM extends nM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function lM(t){t=fh(t,pd);const e=fh(t.firestore,fy),n=L1(e),r=new aM(e);return tM(t._query),F2(n,t._query).then(i=>new sM(e,r,t,i))}function uM(t,e){const n=fh(t.firestore,fy),r=z2(t),i=rM(t.converter,e);return cM(n,[Y2(Q2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function cM(t,e){return function(r,i){const s=new Ei;return r.asyncQueue.enqueueAndForget(async()=>S2(await j2(r),i,s)),s.promise}(L1(t),e)}(function(e,n=!0){(function(i){qo=i})(As),ps(new Ai("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fy(new iN(r.getProvider("auth-internal")),new lN(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dr(Hw,"4.1.2",e),dr(Hw,"4.1.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebasestorage.googleapis.com",K1="storageBucket",hM=2*60*1e3,dM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends _r{constructor(e,n,r=0){super(Hf(e),`Firebase Storage: ${n} (${Hf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function Hf(t){return"storage/"+t}function yy(){const t="An unknown error occurred, please check the error payload for server response.";return new rt(nt.UNKNOWN,t)}function fM(t){return new rt(nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pM(t){return new rt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(nt.UNAUTHENTICATED,t)}function mM(){return new rt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yM(t){return new rt(nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _M(){return new rt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vM(){return new rt(nt.CANCELED,"User canceled the upload/download.")}function wM(t){return new rt(nt.INVALID_URL,"Invalid URL '"+t+"'.")}function EM(t){return new rt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IM(){return new rt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+K1+"' property when initializing the app?")}function TM(){return new rt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SM(){return new rt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AM(t){return new rt(nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Eg(t){return new rt(nt.INVALID_ARGUMENT,t)}function G1(){return new rt(nt.APP_DELETED,"The Firebase app was deleted.")}function CM(t){return new rt(nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ga(t,e){return new rt(nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ea(t){throw new rt(nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yn.makeFromUrl(e,n)}catch{return new yn(e,"")}if(r.path==="")return r;throw EM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",I=new RegExp(`^https?://${p}/${d}/b/${i}/o${y}`,"i"),O={bucket:1,path:3},x=n===q1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",v=new RegExp(`^https?://${x}/${i}/${L}`,"i"),T=[{regex:a,indices:u,postModify:s},{regex:I,indices:O,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<T.length;A++){const j=T[A],V=j.regex.exec(e);if(V){const B=V[j.indices.bucket];let b=V[j.indices.path];b||(b=""),r=new yn(B,b),j.postModify(r);break}}if(r==null)throw wM(e);return r}}class PM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function d(...L){c||(c=!0,e.apply(null,L))}function p(L){i=setTimeout(()=>{i=null,t(I,u())},L)}function y(){s&&clearTimeout(s)}function I(L,...v){if(c){y();return}if(L){y(),d.call(null,L,...v);return}if(u()||o){y(),d.call(null,L,...v);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,p(T)}let O=!1;function x(L){O||(O=!0,y(),!c&&(i!==null?(L||(a=2),clearTimeout(i),p(0)):L||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function kM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){return t!==void 0}function OM(t){return typeof t=="object"&&!Array.isArray(t)}function _y(t){return typeof t=="string"||t instanceof String}function S0(t){return vy()&&t instanceof Blob}function vy(){return typeof Blob<"u"&&!bO()}function A0(t,e,n,r){if(r<e)throw Eg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Eg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Q1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var os;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(os||(os={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,i,s,o,a,u,c,d,p,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,O)=>{this.resolve_=I,this.reject_=O,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ec(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===os.NO_ERROR,u=s.getStatus();if(!a||xM(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===os.ABORT;r(!1,new ec(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new ec(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());bM(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=yy();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?G1():vM();o(u)}else{const u=_M();o(u)}};this.canceled_?n(!1,new ec(!1,null,!0)):this.backoffId_=RM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ec{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function NM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function MM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jM(t,e,n,r,i,s,o=!0){const a=Q1(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return MM(c,e),NM(c,n),LM(c,s),VM(c,r),new DM(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FM(...t){const e=UM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vy())return new Blob(t);throw new rt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $M(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){if(typeof atob>"u")throw AM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wf{constructor(e,n){this.data=e,this.contentType=n||null}}function zM(t,e){switch(t){case ur.RAW:return new Wf(Y1(e));case ur.BASE64:case ur.BASE64URL:return new Wf(X1(t,e));case ur.DATA_URL:return new Wf(WM(e),qM(e))}throw yy()}function Y1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function HM(t){let e;try{e=decodeURIComponent(t)}catch{throw Ga(ur.DATA_URL,"Malformed data URL.")}return Y1(e)}function X1(t,e){switch(t){case ur.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ga(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ur.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ga(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BM(e)}catch(i){throw i.message.includes("polyfill")?i:Ga(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class J1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ga(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=KM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function WM(t){const e=new J1(t);return e.base64?X1(ur.BASE64,e.rest):HM(e.rest)}function qM(t){return new J1(t).contentType}function KM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){let r=0,i="";S0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(S0(this.data_)){const r=this.data_,i=$M(r,e,n);return i===null?null:new ni(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ni(r,!0)}}static getBlob(...e){if(vy()){const n=e.map(r=>r instanceof ni?r.data_:r);return new ni(FM.apply(null,n))}else{const n=e.map(o=>_y(o)?zM(ur.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ni(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){let e;try{e=JSON.parse(t)}catch{return null}return OM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function eA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){return e}class Xt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||YM}}let tc=null;function XM(t){return!_y(t)||t.length<2?t:eA(t)}function tA(){if(tc)return tc;const t=[];t.push(new Xt("bucket")),t.push(new Xt("generation")),t.push(new Xt("metageneration")),t.push(new Xt("name","fullPath",!0));function e(s,o){return XM(o)}const n=new Xt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Xt("size");return i.xform=r,t.push(i),t.push(new Xt("timeCreated")),t.push(new Xt("updated")),t.push(new Xt("md5Hash",null,!0)),t.push(new Xt("cacheControl",null,!0)),t.push(new Xt("contentDisposition",null,!0)),t.push(new Xt("contentEncoding",null,!0)),t.push(new Xt("contentLanguage",null,!0)),t.push(new Xt("contentType",null,!0)),t.push(new Xt("metadata","customMetadata",!0)),tc=t,tc}function JM(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ZM(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return JM(r,t),r}function nA(t,e,n){const r=Z1(e);return r===null?null:ZM(t,r,n)}function eV(t,e,n,r){const i=Z1(e);if(i===null||!_y(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,p=t.fullPath,y="/b/"+o(d)+"/o/"+o(p),I=wy(y,n,r),O=Q1({alt:"media",token:c});return I+O})[0]}function tV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class rA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){if(!t)throw yy()}function nV(t,e){function n(r,i){const s=nA(t,i,e);return iA(s!==null),s}return n}function rV(t,e){function n(r,i){const s=nA(t,i,e);return iA(s!==null),eV(s,i,t.host,t._protocol)}return n}function sA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=mM():i=gM():n.getStatus()===402?i=pM(t.bucket):n.getStatus()===403?i=yM(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iV(t){const e=sA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=fM(t.path)),s.serverResponse=i.serverResponse,s}return n}function sV(t,e,n){const r=e.fullServerUrl(),i=wy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new rA(i,s,rV(t,n),o);return a.errorHandler=iV(e),a}function oV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oV(null,e)),r}function lV(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let A=0;A<2;A++)T=T+Math.random().toString().slice(2);return T}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=aV(e,r,i),d=tV(c,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,y=`\r
--`+u+"--",I=ni.getBlob(p,r,y);if(I===null)throw TM();const O={name:c.fullPath},x=wy(s,t.host,t._protocol),L="POST",v=t.maxUploadRetryTime,m=new rA(x,L,nV(t,n),v);return m.urlParams=O,m.headers=o,m.body=I.uploadData(),m.errorHandler=sA(e),m}class uV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=os.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=os.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=os.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ea("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ea("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ea("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ea("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ea("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cV extends uV{initXhr(){this.xhr_.responseType="text"}}function oA(){return new cV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this._service=e,n instanceof yn?this._location=n:this._location=yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _s(e,n)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eA(this._location.path)}get storage(){return this._service}get parent(){const e=GM(this._location.path);if(e===null)return null;const n=new yn(this._location.bucket,e);return new _s(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CM(e)}}function hV(t,e,n){t._throwIfRoot("uploadBytes");const r=lV(t.storage,t._location,tA(),new ni(e,!0),n);return t.storage.makeRequestWithTokens(r,oA).then(i=>({metadata:i,ref:t}))}function dV(t){t._throwIfRoot("getDownloadURL");const e=sV(t.storage,t._location,tA());return t.storage.makeRequestWithTokens(e,oA).then(n=>{if(n===null)throw SM();return n})}function fV(t,e){const n=QM(t._location.path,e),r=new yn(t._location.bucket,n);return new _s(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){return/^[A-Za-z]+:\/\//.test(t)}function gV(t,e){return new _s(t,e)}function aA(t,e){if(t instanceof Ey){const n=t;if(n._bucket==null)throw IM();const r=new _s(n,n._bucket);return e!=null?aA(r,e):r}else return e!==void 0?fV(t,e):t}function mV(t,e){if(e&&pV(e)){if(t instanceof Ey)return gV(t,e);throw Eg("To use ref(service, url), the first argument must be a Storage instance.")}else return aA(t,e)}function C0(t,e){const n=e==null?void 0:e[K1];return n==null?null:yn.makeFromBucketSpec(n,t)}function yV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:AT(i,t.app.options.projectId))}class Ey{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=q1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hM,this._maxUploadRetryTime=dM,this._requests=new Set,i!=null?this._bucket=yn.makeFromBucketSpec(i,this._host):this._bucket=C0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=C0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _s(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new PM(G1());{const o=jM(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const P0="@firebase/storage",R0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="storage";function _V(t,e,n){return t=xt(t),hV(t,e,n)}function uA(t){return t=xt(t),dV(t)}function Iy(t,e){return t=xt(t),mV(t,e)}function vV(t=Tm(),e){t=xt(t);const r=Fh(t,lA).getImmediate({identifier:e}),i=IT("storage");return i&&wV(r,...i),r}function wV(t,e,n,r={}){yV(t,e,n,r)}function EV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ey(n,r,i,e,As)}function IV(){ps(new Ai(lA,EV,"PUBLIC").setMultipleInstances(!0)),dr(P0,R0,""),dr(P0,R0,"esm2017")}IV();function Ty(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function k0(t){return t!==void 0&&t.enterprise!==void 0}class TV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function cA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SV=cA,hA=new Fl("auth","Firebase",cA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Em("@firebase/auth");function AV(t,...e){gh.logLevel<=Pe.WARN&&gh.warn(`Auth (${As}): ${t}`,...e)}function wc(t,...e){gh.logLevel<=Pe.ERROR&&gh.error(`Auth (${As}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw Sy(t,...e)}function pr(t,...e){return Sy(t,...e)}function dA(t,e,n){const r=Object.assign(Object.assign({},SV()),{[e]:n});return new Fl("auth","Firebase",r).create(e,{appName:t.name})}function CV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mn(t,"argument-error"),dA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hA.create(t,...e)}function he(t,e,...n){if(!t)throw Sy(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wc(e),new Error(e)}function $r(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PV(){return b0()==="http:"||b0()==="https:"}function b0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PV()||OO()||"connection"in navigator)?navigator.onLine:!0}function kV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=kO()||xO()}get(){return RV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new nu(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bs(t,e,n,r,i={}){return pA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=$l(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),fA.fetch()(gA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function pA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bV),e);try{const i=new xV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw nc(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dA(t,d,c);Mn(t,d)}}catch(i){if(i instanceof _r)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function ru(t,e,n,r,i={}){const s=await bs(t,e,n,r,i);return"mfaPendingCredential"in s&&Mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function gA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ay(t.config,i):`${t.config.apiScheme}://${i}`}class xV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),OV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(t,e,r);return i.customData._tokenResponse=n,i}async function DV(t,e){return bs(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e){return bs(t,"POST","/v1/accounts:delete",e)}async function LV(t,e){return bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MV(t,e=!1){const n=xt(t),r=await n.getIdToken(e),i=Cy(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Qa(qf(i.auth_time)),issuedAtTime:Qa(qf(i.iat)),expirationTime:Qa(qf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qf(t){return Number(t)*1e3}function Cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=wT(n);return i?JSON.parse(i):(wc("Failed to decode base64 JWT payload"),null)}catch(i){return wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VV(t){const e=Cy(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _r&&jV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bl(t,LV(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BV(s.providerUserInfo):[],a=$V(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mA(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function FV(t){const e=xt(t);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $V(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BV(t){return t.map(e=>{var{providerId:n}=e,r=Ty(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){const n=await pA(t,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await zV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ol;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class as{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MV(this,e)}reload(){return FV(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new as(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await bl(this,NV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,O=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,L=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:A,isAnonymous:j,providerData:V,stsTokenManager:B}=n;he(T&&B,e,"internal-error");const b=Ol.fromJSON(this.name,B);he(typeof T=="string",e,"internal-error"),Xr(p,e.name),Xr(y,e.name),he(typeof A=="boolean",e,"internal-error"),he(typeof j=="boolean",e,"internal-error"),Xr(I,e.name),Xr(O,e.name),Xr(x,e.name),Xr(L,e.name),Xr(v,e.name),Xr(m,e.name);const w=new as({uid:T,auth:e,email:y,emailVerified:A,displayName:p,isAnonymous:j,photoURL:O,phoneNumber:I,tenantId:x,stsTokenManager:b,createdAt:v,lastLoginAt:m});return V&&Array.isArray(V)&&(w.providerData=V.map(P=>Object.assign({},P))),L&&(w._redirectEventId=L),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ol;i.updateFromServerResponse(n);const s=new as({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function br(t){$r(t instanceof Function,"Expected a class definition");let e=O0.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yA.type="NONE";const x0=yA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ec(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ec("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?as._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(br(x0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||br(x0);const o=Ec(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const p=as._fromJSON(e,d);c!==s&&(a=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new wo(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new wo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IA(e))return"Blackberry";if(TA(e))return"Webos";if(Py(e))return"Safari";if((e.includes("chrome/")||vA(e))&&!e.includes("edge/"))return"Chrome";if(EA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _A(t=Ht()){return/firefox\//i.test(t)}function Py(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vA(t=Ht()){return/crios\//i.test(t)}function wA(t=Ht()){return/iemobile/i.test(t)}function EA(t=Ht()){return/android/i.test(t)}function IA(t=Ht()){return/blackberry/i.test(t)}function TA(t=Ht()){return/webos/i.test(t)}function gd(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HV(t=Ht()){var e;return gd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WV(){return DO()&&document.documentMode===10}function SA(t=Ht()){return gd(t)||EA(t)||TA(t)||IA(t)||/windows phone/i.test(t)||wA(t)}function qV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e=[]){let n;switch(t){case"Browser":n=D0(Ht());break;case"Worker":n=`${D0(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${As}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e={}){return bs(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=6;class YV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:QV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new KV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?xt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GV(this),n=new YV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&br(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ni(t){return xt(t)}class N0{constructor(e){this.auth=e,this.observer=null,this.addObserver=FO(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function CA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JV().appendChild(r)})}function ZV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ej="https://www.google.com/recaptcha/enterprise.js?render=",tj="recaptcha-enterprise",nj="NO_RECAPTCHA";class rj{constructor(e){this.type=tj,this.auth=Ni(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{DV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new TV(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;k0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(nj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&k0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}CA(ej+a).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function yh(t,e,n,r=!1){const i=new rj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e){const n=Fh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jc(s,e??{}))return i;Mn(i,"already-initialized")}return n.initialize({options:e})}function sj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oj(t,e,n){const r=Ni(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=PA(e),{host:o,port:a}=aj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||lj()}function PA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aj(t){const e=PA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:L0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:L0(o)}}}function L0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function uj(t,e){return bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t,e){return ru(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function hj(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Ry{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await yh(e,r,"signInWithPassword");return Kf(e,i)}else return Kf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await yh(e,r,"signInWithPassword");return Kf(e,s)}else return Promise.reject(i)});case"emailLink":return cj(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return uj(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return hj(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e){return ru(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="http://localhost";class vs extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ty(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:dj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pj(t){const e=Pa(Ra(t)).link,n=e?Pa(Ra(e)).deep_link_id:null,r=Pa(Ra(t)).deep_link_id;return(r?Pa(Ra(r)).link:null)||r||n||e||t}class ky{constructor(e){var n,r,i,s,o,a;const u=Pa(Ra(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,p=fj((i=u.mode)!==null&&i!==void 0?i:null);he(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=pj(e);try{return new ky(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ky.parseLink(n);return he(r,"argument-error"),xl._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends by{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends iu{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends iu{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends iu{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return si.credential(n,r)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t,e){return ru(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await as._fromIdTokenResponse(e,r,i),o=M0(r);return new ws({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=M0(r);return new ws({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends _r{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _h(e,n,r,i)}}function RA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(t,s,e,r):s})}async function gj(t,e,n=!1){const r=await bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await bl(t,RA(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=Cy(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),ws._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e,n=!1){const r="signIn",i=await RA(t,r,e),s=await ws._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yj(t,e){return kA(Ni(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t){const e=Ni(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _j(t,e,n){var r;const i=Ni(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await yh(i,s,"signUpPassword");o=Gf(i,c)}else o=Gf(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await yh(i,s,"signUpPassword");return Gf(i,d)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bA(t),c}),u=await ws._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function vj(t,e,n){return yj(xt(t),Yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bA(t),r})}function wj(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function Ej(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function Ij(t){return xt(t).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(){const t=Ht();return Py(t)||gd(t)}const Sj=1e3,Aj=10;class xA extends OA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Tj()&&qV(),this.fallbackToPolling=SA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);WV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Aj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xA.type="LOCAL";const Cj=xA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA extends OA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DA.type="SESSION";const NA=DA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await Pj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Oy("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===c)switch(y.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function kj(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function bj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Oj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xj(){return LA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebaseLocalStorageDb",Dj=1,wh="firebaseLocalStorage",VA="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(t,e){return t.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function Nj(){const t=indexedDB.deleteDatabase(MA);return new su(t).toPromise()}function Tg(){const t=indexedDB.open(MA,Dj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wh,{keyPath:VA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await Nj(),e(await Tg()))})})}async function V0(t,e,n){const r=yd(t,!0).put({[VA]:e,value:n});return new su(r).toPromise()}async function Lj(t,e){const n=yd(t,!1).get(e),r=await new su(n).toPromise();return r===void 0?null:r.value}function j0(t,e){const n=yd(t,!0).delete(e);return new su(n).toPromise()}const Mj=800,Vj=3;class jA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Vj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(xj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bj(),!this.activeServiceWorker)return;this.sender=new Rj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Oj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await V0(e,vh,"1"),await j0(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Lj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yd(i,!1).getAll();return new su(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jA.type="LOCAL";const jj=jA;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e){return e?br(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Uj(t){return kA(t.auth,new xy(t),t.bypassAuthState)}function Fj(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),mj(n,new xy(t),t.bypassAuthState)}async function $j(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),gj(n,new xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uj;case"linkViaPopup":case"linkViaRedirect":return $j;case"reauthViaPopup":case"reauthViaRedirect":return Fj;default:Mn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new nu(2e3,1e4);async function zj(t,e,n){const r=Ni(t);CV(t,e,by);const i=UA(r,n);return new ns(r,"signInViaPopup",e,i).executeNotNull()}class ns extends FA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bj.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="pendingRedirect",Ic=new Map;class Wj extends FA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const r=await qj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qj(t,e){const n=Qj(e),r=Gj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Kj(t,e){Ic.set(t._key(),e)}function Gj(t){return br(t._redirectPersistence)}function Qj(t){return Ec(Hj,t.config.apiKey,t.name)}async function Yj(t,e,n=!1){const r=Ni(t),i=UA(r,e),o=await new Wj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=10*60*1e3;class Jj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$A(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $A({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $A(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e={}){return bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nU=/^https?/;async function rU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eU(t);for(const n of e)try{if(iU(n))return}catch{}Mn(t,"unauthorized-domain")}function iU(t){const e=Ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nU.test(n))return!1;if(tU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new nu(3e4,6e4);function F0(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oU(t){return new Promise((e,n)=>{var r,i,s;function o(){F0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F0(),n(pr(t,"network-request-failed"))},timeout:sU.get()})}if(!((i=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gr().gapi)===null||s===void 0)&&s.load)o();else{const a=ZV("iframefcb");return gr()[a]=()=>{gapi.load?o():n(pr(t,"network-request-failed"))},CA(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Tc=null,e})}let Tc=null;function aU(t){return Tc=Tc||oU(t),Tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new nu(5e3,15e3),uU="__/auth/iframe",cU="emulator/auth/iframe",hU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fU(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ay(e,cU):`https://${t.config.authDomain}/${uU}`,r={apiKey:e.apiKey,appName:t.name,v:As},i=dU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$l(r).slice(1)}`}async function pU(t){const e=await aU(t),n=gr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:fU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=pr(t,"network-request-failed"),a=gr().setTimeout(()=>{s(o)},lU.get());function u(){gr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mU=500,yU=600,_U="_blank",vU="http://localhost";class $0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wU(t,e,n,r=mU,i=yU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},gU),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ht().toLowerCase();n&&(a=vA(c)?_U:n),_A(c)&&(e=e||vU,u.scrollbars="yes");const d=Object.entries(u).reduce((y,[I,O])=>`${y}${I}=${O},`,"");if(HV(c)&&a!=="_self")return EU(e||"",a),new $0(null);const p=window.open(e||"",a,d);he(p,t,"popup-blocked");try{p.focus()}catch{}return new $0(p)}function EU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="__/auth/handler",TU="emulator/auth/handler",SU=encodeURIComponent("fac");async function B0(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:As,eventId:i};if(e instanceof by){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof iu){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${SU}=${encodeURIComponent(u)}`:"";return`${AU(t)}?${$l(a).slice(1)}${c}`}function AU({config:t}){return t.emulator?Ay(t,TU):`https://${t.authDomain}/${IU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="webStorageSupport";class CU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NA,this._completeRedirectFn=Yj,this._overrideRedirectResult=Kj}async _openPopup(e,n,r,i){var s;$r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await B0(e,n,r,Ig(),i);return wU(e,o,Oy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await B0(e,n,r,Ig(),i);return kj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($r(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pU(e),r=new Jj(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qf,{type:Qf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qf];o!==void 0&&n(!!o),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SA()||Py()||gd()}}const PU=CU;var z0="@firebase/auth",H0="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function bU(t){ps(new Ai("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AA(t)},c=new XV(r,i,s,u);return sj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ps(new Ai("auth-internal",e=>{const n=Ni(e.getProvider("auth").getImmediate());return(r=>new RU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(z0,H0,kU(t)),dr(z0,H0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=5*60,xU=ST("authIdTokenMaxAge")||OU;let W0=null;const DU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xU)return;const i=n==null?void 0:n.token;W0!==i&&(W0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NU(t=Tm()){const e=Fh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ij(t,{popupRedirectResolver:PU,persistence:[jj,Cj,NA]}),r=ST("authTokenSyncURL");if(r){const s=DU(r);Ej(n,s,()=>s(n.currentUser)),wj(n,o=>s(o))}const i=ET("auth");return i&&oj(n,`http://${i}`),n}bU("Browser");const LU={apiKey:"AIzaSyA-U5WVa4Mq_vVaWw2Jsn_JZt3MRTxCjSA",authDomain:"jualanjing-4534a.firebaseapp.com",projectId:"jualanjing-4534a",storageBucket:"jualanjing-4534a.appspot.com",messagingSenderId:"34320284886",appId:"1:34320284886:web:bf0aa58a5faf2ec47c9d77",measurementId:"G-0R062ESKST"},Dy=RT(LU),BA=W2(Dy),Ny=vV(Dy),Io=NU(Dy),MU=new Ar;function VU(t){const{iklan:e}=t,[n,r]=Y.useState("");return Y.useEffect(()=>{(async()=>{try{const s=Iy(Ny,e.gambar),o=await uA(s);r(o)}catch(s){console.error("Error fetching image URL:",s)}})()},[e.gambar]),C.jsxs("div",{className:"cardDog",onClick:()=>t.showAnjing(e.id),children:[C.jsx("img",{src:`${n}`,className:"img-fluid cardPic",alt:"...",style:{objectFit:"cover",height:"8rem",width:"100%"}}),C.jsxs("div",{className:`cardBody cardBackground_${e.rank}`,style:{padding:"0.6rem"},children:[C.jsx("h6",{className:"cardDog-title",children:C.jsx("b",{children:e.judul})}),C.jsxs("p",{className:"cardDog-subtitle mb-2 ",children:[C.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),e.lokasi]}),C.jsxs("div",{className:"cardDog-icon",children:[e.microchip&&C.jsx("div",{className:"infoDog-icons-blue",children:"MICROCHIP"}),e.obatCacing&&C.jsx("div",{className:"infoDog-icons",children:"OBAT CACING"}),e.stambum&&C.jsx("div",{className:"infoDog-icons-blue",children:"STAMBUM"}),e.vaksin&&C.jsx("div",{className:"infoDog-icons",children:"VAKSIN"})]}),C.jsx("div",{className:"cardDog-extra"})]})]})}function jU(t){const e=Ul(),n=zo(),i=new URLSearchParams(n.search).get("filterType"),s=i?i.split(","):[],o=()=>{let a=s;a.includes(t.name)?a=a.filter(c=>c!==t.name):a.push(t.name);const u=a.join(",");e(`/?filterType=${u}`)};return C.jsx("div",{className:"CategoryDog",onClick:o,style:s.includes(t.name)?{backgroundColor:"#00bf8f",fontWeight:"bold",color:"white"}:{},children:t.name})}function UU({togglePasang:t}){var r;const e=Ul(),n=async()=>{await Ij(Io),e("/")};return C.jsxs("div",{className:"header",children:[C.jsxs("div",{style:{width:"20%",display:"flex"},children:[C.jsx("img",{src:"/MaiPet-Logo.png",alt:"",style:{marginLeft:"0.5em",height:"100%",marginTop:"auto",marginBottom:"auto"}}),C.jsx("p",{style:{fontSize:"2em",fontWeight:"bold",color:"#00bf8f",fontFamily:"'ADLaM Display', cursive",marginTop:"0.2em",marginBottom:"auto"},children:"MaiPet"})]}),C.jsx("div",{style:{width:"60%",display:"flex",userSelect:"none"},children:C.jsx("div",{className:"header-item",onClick:t,style:{backgroundColor:"#fae7a8",color:"#7b5533",textDecoration:"none"},children:"Pasang Iklan "})}),C.jsx("div",{style:{width:"20%",display:"flex",justifyContent:"end",marginRight:"2em",borderRadius:"2em"},children:Io.currentUser?C.jsxs("button",{onClick:n,className:"header-button",style:{padding:"0.3em",borderRadius:"0.3em",margin:"0.4em",border:"none",backgroundColor:"white"},children:[C.jsx("img",{src:((r=Io.currentUser)==null?void 0:r.photoURL)||"profile-default.png",alt:"",style:{borderRadius:"50%",height:"60%",margin:"auto 0 auto 0"}}),C.jsx("p",{style:{margin:"auto 0 auto 0.7em",marginBottom:"auto",fontWeight:"bold"},children:"Logout"})]}):C.jsxs(pl,{to:"/Login",className:"header-button",style:{padding:"0.3em",borderRadius:"0.3em",margin:"0.4em",textDecoration:"none",color:"black"},children:[C.jsx("img",{src:"profile-default.png",alt:"",style:{borderRadius:"50%",height:"60%",margin:"auto 0 auto 0"}}),C.jsx("p",{style:{margin:"auto 0 auto 0.7em",marginBottom:"auto",fontWeight:"bold"},children:"Login / Register"})]})})]})}let rc;const FU=new Uint8Array(16);function $U(){if(!rc&&(rc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rc(FU)}const At=[];for(let t=0;t<256;++t)At.push((t+256).toString(16).slice(1));function BU(t,e=0){return(At[t[e+0]]+At[t[e+1]]+At[t[e+2]]+At[t[e+3]]+"-"+At[t[e+4]]+At[t[e+5]]+"-"+At[t[e+6]]+At[t[e+7]]+"-"+At[t[e+8]]+At[t[e+9]]+"-"+At[t[e+10]]+At[t[e+11]]+At[t[e+12]]+At[t[e+13]]+At[t[e+14]]+At[t[e+15]]).toLowerCase()}const zU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),q0={randomUUID:zU};function HU(t,e,n){if(q0.randomUUID&&!e&&!t)return q0.randomUUID();t=t||{};const r=t.random||(t.rng||$U)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return BU(r)}var zA={},HA={exports:{}},WU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qU=WU,KU=qU;function WA(){}function qA(){}qA.resetWarningCache=WA;var GU=function(){function t(r,i,s,o,a,u){if(u!==KU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qA,resetWarningCache:WA};return n.PropTypes=n,n};HA.exports=GU();var ou=HA.exports;function QU(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var YU=QU,KA={},K0=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),u;!(i=(u=a.next()).done)&&(r.push(u.value),!(n&&r.length===n));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),XU=function(t){var e=t.data,n=t.multiSection;function r(u){for(u===null?u=0:u++;u<e.length&&e[u]===0;)u++;return u===e.length?null:u}function i(u){for(u===null?u=e.length-1:u--;u>=0&&e[u]===0;)u--;return u===-1?null:u}function s(u){var c=K0(u,2),d=c[0],p=c[1];return n?p===null||p===e[d]-1?(d=r(d),d===null?[null,null]:[d,0]):[d,p+1]:e===0||p===e-1?[null,null]:p===null?[null,0]:[null,p+1]}function o(u){var c=K0(u,2),d=c[0],p=c[1];return n?p===null||p===0?(d=i(d),d===null?[null,null]:[d,e[d]-1]):[d,p-1]:e===0||p===0?[null,null]:p===null?[null,e-1]:[null,p-1]}function a(u){return s(u)[1]===null}return{next:s,prev:o,isLast:a}},Sg={exports:{}},JU=Object.prototype.propertyIsEnumerable;function ZU(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function eF(t){var e=Object.getOwnPropertyNames(t);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e.filter(function(n){return JU.call(t,n)})}var tF=Object.assign||function(t,e){for(var n,r,i=ZU(t),s=1;s<arguments.length;s++){n=arguments[s],r=eF(Object(n));for(var o=0;o<r.length;o++)i[r[o]]=n[r[o]]}return i};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function u(c,d){var p=[],y=!0,I=!1,O=void 0;try{for(var x=c[Symbol.iterator](),L;!(y=(L=x.next()).done)&&(p.push(L.value),!(d&&p.length===d));y=!0);}catch(v){I=!0,O=v}finally{try{!y&&x.return&&x.return()}finally{if(I)throw O}}return p}return function(c,d){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return u(c,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function r(u){return u&&u.__esModule?u:{default:u}}function i(u){if(Array.isArray(u)){for(var c=0,d=Array(u.length);c<u.length;c++)d[c]=u[c];return d}else return Array.from(u)}var s=tF,o=r(s),a=function(c){return c};e.default=function(u){var c=Array.isArray(u)&&u.length===2?u:[u,null],d=n(c,2),p=d[0],y=d[1];return function(I){for(var O=arguments.length,x=Array(O>1?O-1:0),L=1;L<O;L++)x[L-1]=arguments[L];var v=x.map(function(m){return p[m]}).filter(a);return typeof v[0]=="string"||typeof y=="function"?{key:I,className:y?y.apply(void 0,i(v)):v.join(" ")}:{key:I,style:o.default.apply(void 0,[{}].concat(i(v)))}}},t.exports=e.default})(Sg,Sg.exports);var nF=Sg.exports,GA={},_d={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function e(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(s){return typeof s}:e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(r)}function n(r,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r===i)return!1;var o=Object.keys(r),a=Object.keys(i);if(o.length!==a.length)return!0;var u={},c,d;for(c=0,d=s.length;c<d;c++)u[s[c]]=!0;for(c=0,d=o.length;c<d;c++){var p=o[c],y=r[p],I=i[p];if(y!==I){if(!u[p]||y===null||I===null||e(y)!=="object"||e(I)!=="object")return!0;var O=Object.keys(y),x=Object.keys(I);if(O.length!==x.length)return!0;for(var L=0,v=O.length;L<v;L++){var m=O[L];if(y[m]!==I[m])return!0}}}return!1}})(_d);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(Y),n=i(ou),r=i(_d);function i(A){return A&&A.__esModule?A:{default:A}}function s(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return s=function(){return A},A}function o(A){if(A&&A.__esModule)return A;if(A===null||a(A)!=="object"&&typeof A!="function")return{default:A};var j=s();if(j&&j.has(A))return j.get(A);var V={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in A)if(Object.prototype.hasOwnProperty.call(A,b)){var w=B?Object.getOwnPropertyDescriptor(A,b):null;w&&(w.get||w.set)?Object.defineProperty(V,b,w):V[b]=A[b]}return V.default=A,j&&j.set(A,V),V}function a(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(V){return typeof V}:a=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},a(A)}function u(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}function c(A,j){for(var V=0;V<j.length;V++){var B=j[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function d(A,j,V){return j&&c(A.prototype,j),V&&c(A,V),A}function p(A){return function(){var j=x(A),V;if(O()){var B=x(this).constructor;V=Reflect.construct(j,arguments,B)}else V=j.apply(this,arguments);return y(this,V)}}function y(A,j){return j&&(a(j)==="object"||typeof j=="function")?j:I(A)}function I(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x(A){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},x(A)}function L(A,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),j&&v(A,j)}function v(A,j){return v=Object.setPrototypeOf||function(B,b){return B.__proto__=b,B},v(A,j)}function m(A,j,V){return j in A?Object.defineProperty(A,j,{value:V,enumerable:!0,configurable:!0,writable:!0}):A[j]=V,A}var T=function(A){L(V,A);var j=p(V);function V(){return u(this,V),j.apply(this,arguments)}return d(V,[{key:"shouldComponentUpdate",value:function(b){return(0,r.default)(b,this.props)}},{key:"render",value:function(){var b=this.props,w=b.section,P=b.renderSectionTitle,$=b.theme,z=b.sectionKeyPrefix,G=P(w);return G?e.default.createElement("div",$("".concat(z,"title"),"sectionTitle"),G):null}}]),V}(e.Component);t.default=T,m(T,"propTypes",{section:n.default.any.isRequired,renderSectionTitle:n.default.func.isRequired,theme:n.default.func.isRequired,sectionKeyPrefix:n.default.string.isRequired})})(GA);var QA={},YA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(Y),n=i(ou),r=i(_d);function i(w){return w&&w.__esModule?w:{default:w}}function s(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return s=function(){return w},w}function o(w){if(w&&w.__esModule)return w;if(w===null||a(w)!=="object"&&typeof w!="function")return{default:w};var P=s();if(P&&P.has(w))return P.get(w);var $={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in w)if(Object.prototype.hasOwnProperty.call(w,G)){var ve=z?Object.getOwnPropertyDescriptor(w,G):null;ve&&(ve.get||ve.set)?Object.defineProperty($,G,ve):$[G]=w[G]}return $.default=w,P&&P.set(w,$),$}function a(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function($){return typeof $}:a=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},a(w)}function u(){return u=Object.assign||function(w){for(var P=1;P<arguments.length;P++){var $=arguments[P];for(var z in $)Object.prototype.hasOwnProperty.call($,z)&&(w[z]=$[z])}return w},u.apply(this,arguments)}function c(w,P){var $=Object.keys(w);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(w);P&&(z=z.filter(function(G){return Object.getOwnPropertyDescriptor(w,G).enumerable})),$.push.apply($,z)}return $}function d(w){for(var P=1;P<arguments.length;P++){var $=arguments[P]!=null?arguments[P]:{};P%2?c(Object($),!0).forEach(function(z){B(w,z,$[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors($)):c(Object($)).forEach(function(z){Object.defineProperty(w,z,Object.getOwnPropertyDescriptor($,z))})}return w}function p(w,P){if(w==null)return{};var $=y(w,P),z,G;if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(w);for(G=0;G<ve.length;G++)z=ve[G],!(P.indexOf(z)>=0)&&Object.prototype.propertyIsEnumerable.call(w,z)&&($[z]=w[z])}return $}function y(w,P){if(w==null)return{};var $={},z=Object.keys(w),G,ve;for(ve=0;ve<z.length;ve++)G=z[ve],!(P.indexOf(G)>=0)&&($[G]=w[G]);return $}function I(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}function O(w,P){for(var $=0;$<P.length;$++){var z=P[$];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(w,z.key,z)}}function x(w,P,$){return P&&O(w.prototype,P),$&&O(w,$),w}function L(w){return function(){var P=A(w),$;if(T()){var z=A(this).constructor;$=Reflect.construct(P,arguments,z)}else $=P.apply(this,arguments);return v(this,$)}}function v(w,P){return P&&(a(P)==="object"||typeof P=="function")?P:m(w)}function m(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(w){return A=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},A(w)}function j(w,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),P&&V(w,P)}function V(w,P){return V=Object.setPrototypeOf||function(z,G){return z.__proto__=G,z},V(w,P)}function B(w,P,$){return P in w?Object.defineProperty(w,P,{value:$,enumerable:!0,configurable:!0,writable:!0}):w[P]=$,w}var b=function(w){j($,w);var P=L($);function $(){var z;I(this,$);for(var G=arguments.length,ve=new Array(G),be=0;be<G;be++)ve[be]=arguments[be];return z=P.call.apply(P,[this].concat(ve)),B(m(z),"storeItemReference",function(Ue){Ue!==null&&(z.item=Ue)}),B(m(z),"onMouseEnter",function(Ue){var Oe=z.props,D=Oe.sectionIndex,S=Oe.itemIndex;z.props.onMouseEnter(Ue,{sectionIndex:D,itemIndex:S})}),B(m(z),"onMouseLeave",function(Ue){var Oe=z.props,D=Oe.sectionIndex,S=Oe.itemIndex;z.props.onMouseLeave(Ue,{sectionIndex:D,itemIndex:S})}),B(m(z),"onMouseDown",function(Ue){var Oe=z.props,D=Oe.sectionIndex,S=Oe.itemIndex;z.props.onMouseDown(Ue,{sectionIndex:D,itemIndex:S})}),B(m(z),"onClick",function(Ue){var Oe=z.props,D=Oe.sectionIndex,S=Oe.itemIndex;z.props.onClick(Ue,{sectionIndex:D,itemIndex:S})}),z}return x($,[{key:"shouldComponentUpdate",value:function(G){return(0,r.default)(G,this.props,["renderItemData"])}},{key:"render",value:function(){var G=this.props,ve=G.isHighlighted,be=G.item,Ue=G.renderItem,Oe=G.renderItemData,D=p(G,["isHighlighted","item","renderItem","renderItemData"]);return delete D.sectionIndex,delete D.itemIndex,typeof D.onMouseEnter=="function"&&(D.onMouseEnter=this.onMouseEnter),typeof D.onMouseLeave=="function"&&(D.onMouseLeave=this.onMouseLeave),typeof D.onMouseDown=="function"&&(D.onMouseDown=this.onMouseDown),typeof D.onClick=="function"&&(D.onClick=this.onClick),e.default.createElement("li",u({role:"option"},D,{ref:this.storeItemReference}),Ue(be,d({isHighlighted:ve},Oe)))}}]),$}(e.Component);t.default=b,B(b,"propTypes",{sectionIndex:n.default.number,isHighlighted:n.default.bool.isRequired,itemIndex:n.default.number.isRequired,item:n.default.any.isRequired,renderItem:n.default.func.isRequired,renderItemData:n.default.object.isRequired,onMouseEnter:n.default.func,onMouseLeave:n.default.func,onMouseDown:n.default.func,onClick:n.default.func})})(YA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(Y),n=s(ou),r=s(YA),i=s(_d);function s(b){return b&&b.__esModule?b:{default:b}}function o(){if(typeof WeakMap!="function")return null;var b=new WeakMap;return o=function(){return b},b}function a(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var w=o();if(w&&w.has(b))return w.get(b);var P={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in b)if(Object.prototype.hasOwnProperty.call(b,z)){var G=$?Object.getOwnPropertyDescriptor(b,z):null;G&&(G.get||G.set)?Object.defineProperty(P,z,G):P[z]=b[z]}return P.default=b,w&&w.set(b,P),P}function u(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(P){return typeof P}:u=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},u(b)}function c(){return c=Object.assign||function(b){for(var w=1;w<arguments.length;w++){var P=arguments[w];for(var $ in P)Object.prototype.hasOwnProperty.call(P,$)&&(b[$]=P[$])}return b},c.apply(this,arguments)}function d(b,w){var P=Object.keys(b);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(b);w&&($=$.filter(function(z){return Object.getOwnPropertyDescriptor(b,z).enumerable})),P.push.apply(P,$)}return P}function p(b){for(var w=1;w<arguments.length;w++){var P=arguments[w]!=null?arguments[w]:{};w%2?d(Object(P),!0).forEach(function($){V(b,$,P[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(P)):d(Object(P)).forEach(function($){Object.defineProperty(b,$,Object.getOwnPropertyDescriptor(P,$))})}return b}function y(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function I(b,w){for(var P=0;P<w.length;P++){var $=w[P];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(b,$.key,$)}}function O(b,w,P){return w&&I(b.prototype,w),P&&I(b,P),b}function x(b){return function(){var w=T(b),P;if(m()){var $=T(this).constructor;P=Reflect.construct(w,arguments,$)}else P=w.apply(this,arguments);return L(this,P)}}function L(b,w){return w&&(u(w)==="object"||typeof w=="function")?w:v(b)}function v(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function T(b){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)},T(b)}function A(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),w&&j(b,w)}function j(b,w){return j=Object.setPrototypeOf||function($,z){return $.__proto__=z,$},j(b,w)}function V(b,w,P){return w in b?Object.defineProperty(b,w,{value:P,enumerable:!0,configurable:!0,writable:!0}):b[w]=P,b}var B=function(b){A(P,b);var w=x(P);function P(){var $;y(this,P);for(var z=arguments.length,G=new Array(z),ve=0;ve<z;ve++)G[ve]=arguments[ve];return $=w.call.apply(w,[this].concat(G)),V(v($),"storeHighlightedItemReference",function(be){$.props.onHighlightedItemChange(be===null?null:be.item)}),$}return O(P,[{key:"shouldComponentUpdate",value:function(z){return(0,i.default)(z,this.props,["itemProps"])}},{key:"render",value:function(){var z=this,G=this.props,ve=G.items,be=G.itemProps,Ue=G.renderItem,Oe=G.renderItemData,D=G.sectionIndex,S=G.highlightedItemIndex,_=G.getItemId,N=G.theme,E=G.keyPrefix,M=D===null?E:"".concat(E,"section-").concat(D,"-"),U=typeof be=="function";return e.default.createElement("ul",c({role:"listbox"},N("".concat(M,"items-list"),"itemsList")),ve.map(function(W,Z){var ue=Z===0,X=Z===S,Fe="".concat(M,"item-").concat(Z),it=U?be({sectionIndex:D,itemIndex:Z}):be,yt=p({id:_(D,Z),"aria-selected":X},N(Fe,"item",ue&&"itemFirst",X&&"itemHighlighted"),{},it);return X&&(yt.ref=z.storeHighlightedItemReference),e.default.createElement(r.default,c({},yt,{sectionIndex:D,isHighlighted:X,itemIndex:Z,item:W,renderItem:Ue,renderItemData:Oe}))}))}}]),P}(e.Component);t.default=B,V(B,"propTypes",{items:n.default.array.isRequired,itemProps:n.default.oneOfType([n.default.object,n.default.func]),renderItem:n.default.func.isRequired,renderItemData:n.default.object.isRequired,sectionIndex:n.default.number,highlightedItemIndex:n.default.number,onHighlightedItemChange:n.default.func.isRequired,getItemId:n.default.func.isRequired,theme:n.default.func.isRequired,keyPrefix:n.default.string.isRequired}),V(B,"defaultProps",{sectionIndex:null})})(QA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=c(Y),n=a(ou),r=a(XU),i=a(nF),s=a(GA),o=a(QA);function a(S){return S&&S.__esModule?S:{default:S}}function u(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return u=function(){return S},S}function c(S){if(S&&S.__esModule)return S;if(S===null||m(S)!=="object"&&typeof S!="function")return{default:S};var _=u();if(_&&_.has(S))return _.get(S);var N={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in S)if(Object.prototype.hasOwnProperty.call(S,M)){var U=E?Object.getOwnPropertyDescriptor(S,M):null;U&&(U.get||U.set)?Object.defineProperty(N,M,U):N[M]=S[M]}return N.default=S,_&&_.set(S,N),N}function d(S,_){var N=Object.keys(S);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(S);_&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(S,M).enumerable})),N.push.apply(N,E)}return N}function p(S){for(var _=1;_<arguments.length;_++){var N=arguments[_]!=null?arguments[_]:{};_%2?d(Object(N),!0).forEach(function(E){G(S,E,N[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(N)):d(Object(N)).forEach(function(E){Object.defineProperty(S,E,Object.getOwnPropertyDescriptor(N,E))})}return S}function y(S,_){return v(S)||L(S,_)||O(S,_)||I()}function I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(S,_){if(S){if(typeof S=="string")return x(S,_);var N=Object.prototype.toString.call(S).slice(8,-1);if(N==="Object"&&S.constructor&&(N=S.constructor.name),N==="Map"||N==="Set")return Array.from(N);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return x(S,_)}}function x(S,_){(_==null||_>S.length)&&(_=S.length);for(var N=0,E=new Array(_);N<_;N++)E[N]=S[N];return E}function L(S,_){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(S)))){var N=[],E=!0,M=!1,U=void 0;try{for(var W=S[Symbol.iterator](),Z;!(E=(Z=W.next()).done)&&(N.push(Z.value),!(_&&N.length===_));E=!0);}catch(ue){M=!0,U=ue}finally{try{!E&&W.return!=null&&W.return()}finally{if(M)throw U}}return N}}function v(S){if(Array.isArray(S))return S}function m(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(N){return typeof N}:m=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},m(S)}function T(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function A(S,_){for(var N=0;N<_.length;N++){var E=_[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}function j(S,_,N){return _&&A(S.prototype,_),N&&A(S,N),S}function V(S){return function(){var _=P(S),N;if(w()){var E=P(this).constructor;N=Reflect.construct(_,arguments,E)}else N=_.apply(this,arguments);return B(this,N)}}function B(S,_){return _&&(m(_)==="object"||typeof _=="function")?_:b(S)}function b(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function P(S){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},P(S)}function $(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),_&&z(S,_)}function z(S,_){return z=Object.setPrototypeOf||function(E,M){return E.__proto__=M,E},z(S,_)}function G(S,_,N){return _ in S?Object.defineProperty(S,_,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[_]=N,S}var ve={},be=function(_){return e.default.createElement("input",_)},Ue=function(_){var N=_.containerProps,E=_.children;return e.default.createElement("div",N,E)},Oe={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},D=function(S){$(N,S);var _=V(N);function N(E){var M;return T(this,N),M=_.call(this,E),G(b(M),"storeInputReference",function(U){U!==null&&(M.input=U);var W=M.props.inputProps.ref;W&&(typeof W=="function"?W(U):m(W)==="object"&&Object.prototype.hasOwnProperty.call(W,"current")&&(W.current=U))}),G(b(M),"storeItemsContainerReference",function(U){U!==null&&(M.itemsContainer=U)}),G(b(M),"onHighlightedItemChange",function(U){M.highlightedItem=U}),G(b(M),"getItemId",function(U,W){if(W===null)return null;var Z=M.props.id,ue=U===null?"":"section-".concat(U);return"react-autowhatever-".concat(Z,"-").concat(ue,"-item-").concat(W)}),G(b(M),"onFocus",function(U){var W=M.props.inputProps;M.setState({isInputFocused:!0}),W.onFocus&&W.onFocus(U)}),G(b(M),"onBlur",function(U){var W=M.props.inputProps;M.setState({isInputFocused:!1}),W.onBlur&&W.onBlur(U)}),G(b(M),"onKeyDown",function(U){var W=M.props,Z=W.inputProps,ue=W.highlightedSectionIndex,X=W.highlightedItemIndex,Fe=U.keyCode;switch(Fe){case 40:case 38:{var it=Fe===40?"next":"prev",yt=M.sectionIterator[it]([ue,X]),rn=y(yt,2),_t=rn[0],Jn=rn[1];Z.onKeyDown(U,{newHighlightedSectionIndex:_t,newHighlightedItemIndex:Jn});break}default:Z.onKeyDown(U,{highlightedSectionIndex:ue,highlightedItemIndex:X})}}),M.highlightedItem=null,M.state={isInputFocused:!1},M.setSectionsItems(E),M.setSectionIterator(E),M.setTheme(E),M}return j(N,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"UNSAFE_componentWillReceiveProps",value:function(M){M.items!==this.props.items&&this.setSectionsItems(M),(M.items!==this.props.items||M.multiSection!==this.props.multiSection)&&this.setSectionIterator(M),M.theme!==this.props.theme&&this.setTheme(M)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(M){M.multiSection&&(this.sectionsItems=M.items.map(function(U){return M.getSectionItems(U)}),this.sectionsLengths=this.sectionsItems.map(function(U){return U.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(U){return U===0}))}},{key:"setSectionIterator",value:function(M){this.sectionIterator=(0,r.default)({multiSection:M.multiSection,data:M.multiSection?this.sectionsLengths:M.items.length})}},{key:"setTheme",value:function(M){this.theme=(0,i.default)(M.theme)}},{key:"renderSections",value:function(){var M=this;if(this.allSectionsAreEmpty)return null;var U=this.theme,W=this.props,Z=W.id,ue=W.items,X=W.renderItem,Fe=W.renderItemData,it=W.renderSectionTitle,yt=W.highlightedSectionIndex,rn=W.highlightedItemIndex,_t=W.itemProps;return ue.map(function(Jn,lt){var cn="react-autowhatever-".concat(Z,"-"),zr="".concat(cn,"section-").concat(lt,"-"),Vn=lt===0;return e.default.createElement("div",U("".concat(zr,"container"),"sectionContainer",Vn&&"sectionContainerFirst"),e.default.createElement(s.default,{section:Jn,renderSectionTitle:it,theme:U,sectionKeyPrefix:zr}),e.default.createElement(o.default,{items:M.sectionsItems[lt],itemProps:_t,renderItem:X,renderItemData:Fe,sectionIndex:lt,highlightedItemIndex:yt===lt?rn:null,onHighlightedItemChange:M.onHighlightedItemChange,getItemId:M.getItemId,theme:U,keyPrefix:cn,ref:M.storeItemsListReference}))})}},{key:"renderItems",value:function(){var M=this.props.items;if(M.length===0)return null;var U=this.theme,W=this.props,Z=W.id,ue=W.renderItem,X=W.renderItemData,Fe=W.highlightedSectionIndex,it=W.highlightedItemIndex,yt=W.itemProps;return e.default.createElement(o.default,{items:M,itemProps:yt,renderItem:ue,renderItemData:X,highlightedItemIndex:Fe===null?it:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:U,keyPrefix:"react-autowhatever-".concat(Z,"-")})}},{key:"ensureHighlightedItemIsVisible",value:function(){var M=this.highlightedItem;if(M){var U=this.itemsContainer,W=M.offsetParent===U?M.offsetTop:M.offsetTop-U.offsetTop,Z=U.scrollTop;W<Z?Z=W:W+M.offsetHeight>Z+U.offsetHeight&&(Z=W+M.offsetHeight-U.offsetHeight),Z!==U.scrollTop&&(U.scrollTop=Z)}}},{key:"render",value:function(){var M=this.theme,U=this.props,W=U.id,Z=U.multiSection,ue=U.renderInputComponent,X=U.renderItemsContainer,Fe=U.highlightedSectionIndex,it=U.highlightedItemIndex,yt=this.state.isInputFocused,rn=Z?this.renderSections():this.renderItems(),_t=rn!==null,Jn=this.getItemId(Fe,it),lt="react-autowhatever-".concat(W),cn=p({role:"combobox","aria-haspopup":"listbox","aria-owns":lt,"aria-expanded":_t},M("react-autowhatever-".concat(W,"-container"),"container",_t&&"containerOpen"),{},this.props.containerProps),zr=ue(p({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":lt,"aria-activedescendant":Jn},M("react-autowhatever-".concat(W,"-input"),"input",_t&&"inputOpen",yt&&"inputFocused"),{},this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),Vn=X({containerProps:p({id:lt,role:"listbox"},M("react-autowhatever-".concat(W,"-items-container"),"itemsContainer",_t&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:rn});return e.default.createElement("div",cn,zr,Vn)}}]),N}(e.Component);t.default=D,G(D,"propTypes",{id:n.default.string,multiSection:n.default.bool,renderInputComponent:n.default.func,renderItemsContainer:n.default.func,items:n.default.array.isRequired,renderItem:n.default.func,renderItemData:n.default.object,renderSectionTitle:n.default.func,getSectionItems:n.default.func,containerProps:n.default.object,inputProps:n.default.object,itemProps:n.default.oneOfType([n.default.object,n.default.func]),highlightedSectionIndex:n.default.number,highlightedItemIndex:n.default.number,theme:n.default.oneOfType([n.default.object,n.default.array])}),G(D,"defaultProps",{id:"1",multiSection:!1,renderInputComponent:be,renderItemsContainer:Ue,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:ve,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:ve,inputProps:ve,itemProps:ve,highlightedSectionIndex:null,highlightedItemIndex:null,theme:Oe})})(KA);var jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.mapToAutowhateverTheme=jo.defaultTheme=void 0;var rF={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};jo.defaultTheme=rF;var iF=function(e){var n={};for(var r in e)switch(r){case"suggestionsContainer":n.itemsContainer=e[r];break;case"suggestionsContainerOpen":n.itemsContainerOpen=e[r];break;case"suggestion":n.item=e[r];break;case"suggestionFirst":n.itemFirst=e[r];break;case"suggestionHighlighted":n.itemHighlighted=e[r];break;case"suggestionsList":n.itemsList=e[r];break;default:n[r]=e[r]}return n};jo.mapToAutowhateverTheme=iF;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=u(Y),n=o(ou),r=o(YU),i=o(KA),s=jo;function o(D){return D&&D.__esModule?D:{default:D}}function a(){if(typeof WeakMap!="function")return null;var D=new WeakMap;return a=function(){return D},D}function u(D){if(D&&D.__esModule)return D;if(D===null||c(D)!=="object"&&typeof D!="function")return{default:D};var S=a();if(S&&S.has(D))return S.get(D);var _={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in D)if(Object.prototype.hasOwnProperty.call(D,E)){var M=N?Object.getOwnPropertyDescriptor(D,E):null;M&&(M.get||M.set)?Object.defineProperty(_,E,M):_[E]=D[E]}return _.default=D,S&&S.set(D,_),_}function c(D){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(_){return typeof _}:c=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},c(D)}function d(D,S){var _=Object.keys(D);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(D);S&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(D,E).enumerable})),_.push.apply(_,N)}return _}function p(D){for(var S=1;S<arguments.length;S++){var _=arguments[S]!=null?arguments[S]:{};S%2?d(Object(_),!0).forEach(function(N){V(D,N,_[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(_)):d(Object(_)).forEach(function(N){Object.defineProperty(D,N,Object.getOwnPropertyDescriptor(_,N))})}return D}function y(D,S){if(!(D instanceof S))throw new TypeError("Cannot call a class as a function")}function I(D,S){for(var _=0;_<S.length;_++){var N=S[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}function O(D,S,_){return S&&I(D.prototype,S),_&&I(D,_),D}function x(D){return function(){var S=T(D),_;if(m()){var N=T(this).constructor;_=Reflect.construct(S,arguments,N)}else _=S.apply(this,arguments);return L(this,_)}}function L(D,S){return S&&(c(S)==="object"||typeof S=="function")?S:v(D)}function v(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function T(D){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},T(D)}function A(D,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(S&&S.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),S&&j(D,S)}function j(D,S){return j=Object.setPrototypeOf||function(N,E){return N.__proto__=E,N},j(D,S)}function V(D,S,_){return S in D?Object.defineProperty(D,S,{value:_,enumerable:!0,configurable:!0,writable:!0}):D[S]=_,D}var B=function(){return!0},b=function(S){return S.trim().length>0},w=function(S){var _=S.containerProps,N=S.children;return e.default.createElement("div",_,N)},P="suggestions-revealed",$="suggestions-updated",z="suggestion-selected",G="input-focused",ve="input-changed",be="input-blurred",Ue="escape-pressed",Oe=function(D){A(_,D);var S=x(_);function _(N){var E,M=N.alwaysRenderSuggestions;return y(this,_),E=S.call(this),V(v(E),"onDocumentMouseDown",function(U){E.justClickedOnSuggestionsContainer=!1;for(var W=U.detail&&U.detail.target||U.target;W!==null&&W!==document;){if(W.getAttribute&&W.getAttribute("data-suggestion-index")!==null)return;if(W===E.suggestionsContainer){E.justClickedOnSuggestionsContainer=!0;return}W=W.parentNode}}),V(v(E),"storeAutowhateverRef",function(U){U!==null&&(E.autowhatever=U)}),V(v(E),"onSuggestionMouseEnter",function(U,W){var Z=W.sectionIndex,ue=W.itemIndex;E.updateHighlightedSuggestion(Z,ue),U.target===E.pressedSuggestion&&(E.justSelectedSuggestion=!0),E.justMouseEntered=!0,setTimeout(function(){E.justMouseEntered=!1})}),V(v(E),"highlightFirstSuggestion",function(){E.updateHighlightedSuggestion(E.props.multiSection?0:null,0)}),V(v(E),"onDocumentMouseUp",function(){E.pressedSuggestion&&!E.justSelectedSuggestion&&E.input.focus(),E.pressedSuggestion=null}),V(v(E),"onSuggestionMouseDown",function(U){E.justSelectedSuggestion||(E.justSelectedSuggestion=!0,E.pressedSuggestion=U.target)}),V(v(E),"onSuggestionsClearRequested",function(){var U=E.props.onSuggestionsClearRequested;U&&U()}),V(v(E),"onSuggestionSelected",function(U,W){var Z=E.props,ue=Z.alwaysRenderSuggestions,X=Z.onSuggestionSelected,Fe=Z.onSuggestionsFetchRequested;X&&X(U,W);var it=E.props.shouldKeepSuggestionsOnSelect(W.suggestion);ue||it?Fe({value:W.suggestionValue,reason:z}):E.onSuggestionsClearRequested(),E.resetHighlightedSuggestion()}),V(v(E),"onSuggestionClick",function(U){var W=E.props,Z=W.alwaysRenderSuggestions,ue=W.focusInputOnSuggestionClick,X=E.getSuggestionIndices(E.findSuggestionElement(U.target)),Fe=X.sectionIndex,it=X.suggestionIndex,yt=E.getSuggestion(Fe,it),rn=E.props.getSuggestionValue(yt);E.maybeCallOnChange(U,rn,"click"),E.onSuggestionSelected(U,{suggestion:yt,suggestionValue:rn,suggestionIndex:it,sectionIndex:Fe,method:"click"});var _t=E.props.shouldKeepSuggestionsOnSelect(yt);Z||_t||E.closeSuggestions(),ue===!0?E.input.focus():E.onBlur(),setTimeout(function(){E.justSelectedSuggestion=!1})}),V(v(E),"onBlur",function(){var U=E.props,W=U.inputProps,Z=U.shouldRenderSuggestions,ue=W.value,X=W.onBlur,Fe=E.getHighlightedSuggestion(),it=Z(ue,be);E.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!it}),X&&X(E.blurEvent,{highlightedSuggestion:Fe})}),V(v(E),"onSuggestionMouseLeave",function(U){E.resetHighlightedSuggestion(!1),E.justSelectedSuggestion&&U.target===E.pressedSuggestion&&(E.justSelectedSuggestion=!1)}),V(v(E),"onSuggestionTouchStart",function(){E.justSelectedSuggestion=!0}),V(v(E),"onSuggestionTouchMove",function(){E.justSelectedSuggestion=!1,E.pressedSuggestion=null,E.input.focus()}),V(v(E),"itemProps",function(U){var W=U.sectionIndex,Z=U.itemIndex;return{"data-section-index":W,"data-suggestion-index":Z,onMouseEnter:E.onSuggestionMouseEnter,onMouseLeave:E.onSuggestionMouseLeave,onMouseDown:E.onSuggestionMouseDown,onTouchStart:E.onSuggestionTouchStart,onTouchMove:E.onSuggestionTouchMove,onClick:E.onSuggestionClick}}),V(v(E),"renderSuggestionsContainer",function(U){var W=U.containerProps,Z=U.children,ue=E.props.renderSuggestionsContainer;return ue({containerProps:W,children:Z,query:E.getQuery()})}),E.state={isFocused:!1,isCollapsed:!M,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},E.justPressedUpDown=!1,E.justMouseEntered=!1,E.pressedSuggestion=null,E}return O(_,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"UNSAFE_componentWillReceiveProps",value:function(E){var M=this.state.highlightedSuggestionIndex===0&&this.props.highlightFirstSuggestion&&!E.highlightFirstSuggestion;(0,r.default)(E.suggestions,this.props.suggestions)?E.highlightFirstSuggestion&&E.suggestions.length>0&&this.justPressedUpDown===!1&&this.justMouseEntered===!1?this.highlightFirstSuggestion():M&&this.resetHighlightedSuggestion():this.willRenderSuggestions(E,$)?(this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions(),M&&this.resetHighlightedSuggestion()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(E,M){var U=this.props,W=U.suggestions,Z=U.onSuggestionHighlighted,ue=U.highlightFirstSuggestion;if(!(0,r.default)(W,E.suggestions)&&W.length>0&&ue){this.highlightFirstSuggestion();return}if(Z){var X=this.getHighlightedSuggestion(),Fe=M.highlightedSuggestion;X!=Fe&&Z({suggestion:X})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(E,M,U){var W=this;this.setState(function(Z){var ue=Z.valueBeforeUpDown;return M===null?ue=null:ue===null&&typeof U<"u"&&(ue=U),{highlightedSectionIndex:E,highlightedSuggestionIndex:M,highlightedSuggestion:M===null?null:W.getSuggestion(E,M),valueBeforeUpDown:ue}})}},{key:"resetHighlightedSuggestion",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.setState(function(M){var U=M.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:E?null:U}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(E,M){var U=this.props,W=U.suggestions,Z=U.multiSection,ue=U.getSectionSuggestions;return Z?ue(W[E])[M]:W[M]}},{key:"getHighlightedSuggestion",value:function(){var E=this.state,M=E.highlightedSectionIndex,U=E.highlightedSuggestionIndex;return U===null?null:this.getSuggestion(M,U)}},{key:"getSuggestionValueByIndex",value:function(E,M){var U=this.props.getSuggestionValue;return U(this.getSuggestion(E,M))}},{key:"getSuggestionIndices",value:function(E){var M=E.getAttribute("data-section-index"),U=E.getAttribute("data-suggestion-index");return{sectionIndex:typeof M=="string"?parseInt(M,10):null,suggestionIndex:parseInt(U,10)}}},{key:"findSuggestionElement",value:function(E){var M=E;do{if(M.getAttribute&&M.getAttribute("data-suggestion-index")!==null)return M;M=M.parentNode}while(M!==null);throw console.error("Clicked element:",E),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(E,M,U){var W=this.props.inputProps,Z=W.value,ue=W.onChange;M!==Z&&ue(E,{newValue:M,method:U})}},{key:"willRenderSuggestions",value:function(E,M){var U=E.suggestions,W=E.inputProps,Z=E.shouldRenderSuggestions,ue=W.value;return U.length>0&&Z(ue,M)}},{key:"getQuery",value:function(){var E=this.props.inputProps,M=E.value,U=this.state.valueBeforeUpDown;return(U===null?M:U).trim()}},{key:"render",value:function(){var E=this,M=this.props,U=M.suggestions,W=M.renderInputComponent,Z=M.onSuggestionsFetchRequested,ue=M.renderSuggestion,X=M.inputProps,Fe=M.multiSection,it=M.renderSectionTitle,yt=M.id,rn=M.getSectionSuggestions,_t=M.theme,Jn=M.getSuggestionValue,lt=M.alwaysRenderSuggestions,cn=M.highlightFirstSuggestion,zr=M.containerProps,Vn=this.state,vd=Vn.isFocused,au=Vn.isCollapsed,lu=Vn.highlightedSectionIndex,uu=Vn.highlightedSuggestionIndex,Os=Vn.valueBeforeUpDown,vr=lt?B:this.props.shouldRenderSuggestions,qt=X.value,Xo=X.onFocus,Hr=X.onKeyDown,Wr=this.willRenderSuggestions(this.props,"render"),jn=lt||vd&&!au&&Wr,xs=jn?U:[],wd=p({},X,{onFocus:function(st){if(!E.justSelectedSuggestion&&!E.justClickedOnSuggestionsContainer){var Un=vr(qt,G);E.setState({isFocused:!0,isCollapsed:!Un}),Xo&&Xo(st),Un&&Z({value:qt,reason:G})}},onBlur:function(st){if(E.justClickedOnSuggestionsContainer){E.input.focus();return}E.blurEvent=st,E.justSelectedSuggestion||(E.onBlur(),E.onSuggestionsClearRequested())},onChange:function(st){var Un=st.target.value,Li=vr(Un,ve);E.maybeCallOnChange(st,Un,"type"),E.suggestionsContainer&&(E.suggestionsContainer.scrollTop=0),E.setState(p({},cn?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!Li})),Li?Z({value:Un,reason:ve}):E.onSuggestionsClearRequested()},onKeyDown:function(st,Un){var Li=st.keyCode;switch(Li){case 40:case 38:if(au)vr(qt,P)&&(Z({value:qt,reason:P}),E.revealSuggestions(),st.preventDefault());else if(U.length>0){var cu=Un.newHighlightedSectionIndex,ea=Un.newHighlightedItemIndex,Ds;ea===null?Ds=Os===null?qt:Os:Ds=E.getSuggestionValueByIndex(cu,ea),E.updateHighlightedSuggestion(cu,ea,qt),E.maybeCallOnChange(st,Ds,Li===40?"down":"up"),st.preventDefault()}E.justPressedUpDown=!0,setTimeout(function(){E.justPressedUpDown=!1});break;case 13:{if(st.keyCode===229)break;var qr=E.getHighlightedSuggestion();if(jn&&!lt&&E.closeSuggestions(),qr!=null){st.preventDefault();var ta=Jn(qr);E.maybeCallOnChange(st,ta,"enter"),E.onSuggestionSelected(st,{suggestion:qr,suggestionValue:ta,suggestionIndex:uu,sectionIndex:lu,method:"enter"}),E.justSelectedSuggestion=!0,setTimeout(function(){E.justSelectedSuggestion=!1})}break}case 27:{jn&&st.preventDefault();var na=jn&&!lt;if(Os===null){if(!na){var ra="";E.maybeCallOnChange(st,ra,"escape"),vr(ra,Ue)?Z({value:ra,reason:Ue}):E.onSuggestionsClearRequested()}}else E.maybeCallOnChange(st,Os,"escape");na?(E.onSuggestionsClearRequested(),E.closeSuggestions()):E.resetHighlightedSuggestion();break}}Hr&&Hr(st)}}),Jo={query:this.getQuery()};return e.default.createElement(i.default,{multiSection:Fe,items:xs,renderInputComponent:W,renderItemsContainer:this.renderSuggestionsContainer,renderItem:ue,renderItemData:Jo,renderSectionTitle:it,getSectionItems:rn,highlightedSectionIndex:lu,highlightedItemIndex:uu,containerProps:zr,inputProps:wd,itemProps:this.itemProps,theme:(0,s.mapToAutowhateverTheme)(_t),id:yt,ref:this.storeAutowhateverRef})}}]),_}(e.Component);t.default=Oe,V(Oe,"propTypes",{suggestions:n.default.array.isRequired,onSuggestionsFetchRequested:function(S,_){var N=S[_];if(typeof N!="function")throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(S,_){var N=S[_];if(S.alwaysRenderSuggestions===!1&&typeof N!="function")throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},shouldKeepSuggestionsOnSelect:n.default.func,onSuggestionSelected:n.default.func,onSuggestionHighlighted:n.default.func,renderInputComponent:n.default.func,renderSuggestionsContainer:n.default.func,getSuggestionValue:n.default.func.isRequired,renderSuggestion:n.default.func.isRequired,inputProps:function(S,_){var N=S[_];if(!N)throw new Error("'inputProps' must be passed.");if(!Object.prototype.hasOwnProperty.call(N,"value"))throw new Error("'inputProps' must have 'value'.");if(!Object.prototype.hasOwnProperty.call(N,"onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:n.default.func,alwaysRenderSuggestions:n.default.bool,multiSection:n.default.bool,renderSectionTitle:function(S,_){var N=S[_];if(S.multiSection===!0&&typeof N!="function")throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(S,_){var N=S[_];if(S.multiSection===!0&&typeof N!="function")throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:n.default.bool,highlightFirstSuggestion:n.default.bool,theme:n.default.object,id:n.default.string,containerProps:n.default.object}),V(Oe,"defaultProps",{renderSuggestionsContainer:w,shouldRenderSuggestions:b,alwaysRenderSuggestions:!1,multiSection:!1,shouldKeepSuggestionsOnSelect:function(){return!1},focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:s.defaultTheme,id:"1",containerProps:{}})})(zA);var sF=zA.default;const oF=G0(sF);function aF({togglePasang:t}){const e={DOB:null,kelamin:"",warna:""},r={id:HU(),judul:"",jenis:"",kontak:"",lokasi:"",microchip:!1,obatCacing:!1,stambum:!1,vaksin:!1,rank:"",Anjing:[e],body:"",status:"Pending",gambar:""},[i,s]=Y.useState(r),o=N1(BA,"iklan"),[a,u]=Y.useState(0),[c,d]=Y.useState([]),p=["Aceh, Indonesia","Bali, Indonesia","Balikpapan, Indonesia","Bandung, Indonesia","Bangka Belitung, Indonesia","Banjarmasin, Indonesia","Banten, Indonesia","Batam, Indonesia","Bekasi, Indonesia","Bengkulu, Indonesia","Blitar, Indonesia","Bogor, Indonesia","Bontang, Indonesia","Cibubur, Indonesia","Cilacap, Indonesia","Cirebon, Indonesia","Depok, Indonesia","Garut, Indonesia","Gorontalo, Indonesia","Irian Jaya Barat, Indonesia","Jakarta, Indonesia","Jambi, Indonesia","Jawa Tengah, Indonesia","Jawa Timur, Indonesia","Jember, Indonesia","Karawaci, Indonesia","Karawang, Indonesia","Kediri, Indonesia","Kendari, Indonesia","Kepulauan Riau, Indonesia","Klaten, Indonesia","Kudus, Indonesia","Kupang, Indonesia","Lampung, Indonesia","Lombok, Indonesia","Luwuk (Sul-Teng), Indonesia","Madiun, Indonesia","Magelang, Indonesia","Makassar, Indonesia","Malang, Indonesia","Maluku, Indonesia","Mamuju, Indonesia","Manado, Indonesia","Mataram, Indonesia","Medan, Indonesia","Mojokerto, Indonesia","Padang, Indonesia","Palangkaraya, Indonesia","Palembang, Indonesia","Palu, Indonesia","Pandaan, Indonesia","Papua / Irian Jaya, Indonesia","Pasuruan, Indonesia","Pontianak, Indonesia","Probolinggo, Indonesia","Riau, Indonesia","Samarinda, Indonesia","Semarang, Indonesia","Serpong Tangerang, Indonesia","Solo, Indonesia","Sukabumi, Indonesia","Surabaya, Indonesia","Tangerang, Indonesia","Tanjung Pandan, Indonesia","Tanjung Pinang, Indonesia","Tarakan, Indonesia","Tasikmalaya, Indonesia","Ternate, Indonesia","Thailand, Indonesia","Timika, Indonesia","Yogyakarta, Indonesia"],y=async w=>{w.preventDefault();try{const P=await uM(o,i);console.log("Document written with ID: ",P.id),s(r),t()}catch(P){console.error("Error adding document: ",P)}};function I(){i.Anjing.length<5&&s(w=>({...w,Anjing:[...w.Anjing,{DOB:null,kelamin:"",warna:""}]}))}const O=w=>{const P=w.trim().toLowerCase();return P.length===0?[]:p.filter(z=>z.toLowerCase().includes(P))},x=({value:w})=>{const P=O(w).slice(0,5);d(P)},L=()=>{d([])},v=(w,{suggestionValue:P})=>{s({...i,lokasi:P})},m={value:i.lokasi,onChange:(w,{newValue:P})=>{s({...i,lokasi:P})}};Y.useEffect(()=>{const w=document.getElementsByClassName("step"),P=Array.from(w);P.forEach((z,G)=>{z.addEventListener("click",()=>{$(G)})});function $(z){u(z);const G=z*33,ve=document.getElementsByClassName("percent")[0];ve.style.width=`${G}%`,P.forEach(be=>{be.id===z.toString()&&(be.classList.add("selected"),be.classList.remove("completed")),parseInt(be.id,10)<z&&be.classList.add("completed"),parseInt(be.id,10)>z&&be.classList.remove("selected","completed")})}},[]),Y.useEffect(()=>{const w=document.getElementsByClassName("step"),P=Array.from(w),$=a*33,z=document.getElementsByClassName("percent")[0];z.style.width=`${$}%`,P.forEach(G=>{G.id===a.toString()&&(G.classList.add("selected"),G.classList.remove("completed")),parseInt(G.id,10)<a&&G.classList.add("completed"),parseInt(G.id,10)>a&&G.classList.remove("selected","completed")})},[a]);const T=()=>u(1),A=()=>u(2),j=()=>u(3),V=w=>{var $;const P=($=w.target.files)==null?void 0:$[0];if(P){const z=`${i.id}.${P.name.split(".").pop()}`;s({...i,gambar:z});const G=Iy(Ny,z);G&&_V(G,P).then(()=>{console.log("Uploaded a blob or file!")})}},B=["Akita","Alaskan Malamute","American Bully","American Cocker Spaniel","American Pit Bull Terrier","Australian Shepherd","Basenji","Beagle","Belgian Malinois","Bernese Mountain Dog","Bichon Frise","Biewer Terrier","Border Collie","Bulldog","Cane Corso","Cavalier King Charles Spaniel","Chihuahua","Chow Chow","Dalmatian","Doberman Pinscher","Dogo Argentino","Dutch Shepherd","English Cocker Spaniel","French Bulldog","Golden Retriever","Great Dane","Greyhound","Herder / German Shepherd","Jack Russell Terrier","Japanese Chin","Kintamani","Labrador Retriever","Maltese","Miniature Pinscher","Miniature Schnauzer","Mixed Breed / Campuran","Pekingese","Pembroke Welsh Corgi","Pomeranian","Poodle","Pug","Rottweiler","Samoyed","Shetland Sheepdog","Shiba Inu","Shih Tzu","Siberian Husky","Tekel / Dachshund","West Highland White Terrier","Yorkshire Terrier"];return C.jsx("form",{onSubmit:y,className:"pasangIklan",children:C.jsxs("div",{className:"pasangIklan-card",children:[C.jsx("div",{className:"infoDog-card-1",children:C.jsx("div",{className:"infoDog-backbutton",onClick:t,children:C.jsx("p",{style:{margin:"0"},children:"Kembali"})})}),C.jsx("div",{style:{height:"100px",display:"flex"},children:C.jsxs("div",{className:"progressContainer",children:[C.jsx("div",{className:"progressbar",children:C.jsx("div",{className:"percent"})}),C.jsxs("div",{className:"steps",children:[C.jsx("div",{className:"step selected",id:"0"}),C.jsx("div",{className:"step",id:"1"}),C.jsx("div",{className:"step",id:"2"}),C.jsx("div",{className:"step",id:"3"})]})]})}),a==0&&C.jsxs("div",{className:"inputContainer",style:{height:"475px",display:"flex",flexDirection:"column-reverse",padding:"2em"},children:[C.jsx("button",{onClick:T,style:{marginTop:"8em",height:"2em"},children:"Lanjutkan"}),C.jsxs("label",{children:[C.jsx("p",{style:{width:"4em"},children:"Lokasi"}),C.jsx(oF,{suggestions:c,onSuggestionsFetchRequested:x,onSuggestionsClearRequested:L,onSuggestionSelected:v,getSuggestionValue:w=>w,renderSuggestion:w=>C.jsx("div",{children:w}),inputProps:{...m,className:"autosuggest-input",placeholder:"Masukkan Nama Kota"},theme:{input:"",container:"autosuggest-container",suggestionsContainerOpen:"suggestions-container",suggestionsList:"suggestions-list"}})]}),C.jsxs("label",{children:[C.jsx("p",{style:{width:"4em"},children:"Kontak"}),C.jsx("input",{style:{height:"2em",width:"80%"},type:"text",value:i.kontak,onChange:w=>s({...i,kontak:w.target.value}),placeholder:"Nomor Telepon / Whatsapp"})]}),C.jsxs("label",{children:[C.jsx("p",{style:{width:"4em"},children:"Jenis"}),C.jsx("select",{style:{height:"2em",width:"80%"},value:i.jenis,onChange:w=>s({...i,jenis:w.target.value}),children:B.map(w=>C.jsx("option",{value:w,children:w},w))})]}),C.jsxs("label",{children:[C.jsx("p",{style:{width:"4em"},children:"Judul"}),C.jsx("input",{style:{height:"2em",width:"80%"},type:"text",value:i.judul,onChange:w=>s({...i,judul:w.target.value})})]})]}),a==1&&C.jsxs("div",{className:"inputContainer",style:{height:"400px",display:"flex",flexDirection:"column",padding:"0 2em 2em 2em"},children:[C.jsxs("label",{children:[C.jsx("p",{style:{width:"4em"},children:"Body"}),C.jsx("textarea",{style:{width:"80%"},value:i.body,onChange:w=>s({...i,body:w.target.value}),rows:13,maxLength:1e3})]}),C.jsxs("div",{style:{display:"flex"},children:[C.jsxs("label",{style:{marginRight:"1em"},children:[C.jsx("input",{type:"checkbox",checked:i.microchip,onChange:w=>s({...i,microchip:w.target.checked})}),C.jsx("p",{style:{marginLeft:"0.2em"},children:"Microchip"})]}),C.jsxs("label",{style:{marginRight:"1em"},children:[C.jsx("input",{type:"checkbox",checked:i.obatCacing,onChange:w=>s({...i,obatCacing:w.target.checked})}),C.jsx("p",{style:{marginLeft:"0.2em"},children:"Obat Cacing"})]}),C.jsxs("label",{style:{marginRight:"1em"},children:[C.jsx("input",{type:"checkbox",checked:i.stambum,onChange:w=>s({...i,stambum:w.target.checked})}),C.jsx("p",{style:{marginLeft:"0.2em"},children:"Stambum"})]}),C.jsxs("label",{style:{marginRight:"1em"},children:[C.jsx("input",{type:"checkbox",checked:i.vaksin,onChange:w=>s({...i,vaksin:w.target.checked})}),C.jsx("p",{style:{marginLeft:"0.2em"},children:"Vaksin"})]})]}),C.jsxs("label",{children:[C.jsx("p",{style:{marginRight:"2em"},children:"Gambar"}),C.jsx("input",{type:"file",onChange:V})]}),C.jsx("button",{onClick:A,style:{height:"2em"},children:"Lanjutkan"})]}),a==2&&C.jsxs("div",{className:"inputContainer",style:{height:"400px",display:"flex",flexDirection:"column",padding:"0 2em 0 2em"},children:[C.jsx("button",{type:"button",style:{width:"30%"},onClick:I,children:"Add Anjing"}),i.Anjing.map((w,P)=>C.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[C.jsxs("p",{children:["Anjing ",P+1]}),C.jsxs("label",{style:{display:"flex",flexDirection:"column",marginLeft:"2em"},children:[C.jsx("p",{style:{fontSize:"0.8em",fontWeight:"normal"},children:"DOB"}),C.jsx("input",{style:{width:"7em",height:"2em"},type:"datetime-local",value:w.DOB?w.DOB.toDate().toISOString().slice(0,16):"",onChange:$=>b(P,"DOB",$.target.value)})]}),C.jsxs("label",{style:{display:"flex",flexDirection:"column",marginLeft:"2em"},children:[C.jsx("p",{style:{fontSize:"0.8em",fontWeight:"normal"},children:"Kelamin"}),C.jsx("input",{style:{width:"7em",height:"2em"},type:"text",value:w.kelamin,onChange:$=>b(P,"kelamin",$.target.value)})]}),C.jsxs("label",{style:{display:"flex",flexDirection:"column",marginLeft:"2em"},children:[C.jsx("p",{style:{fontSize:"0.8em",fontWeight:"normal"},children:"Warna"}),C.jsx("input",{style:{width:"7em",height:"2em"},type:"text",value:w.warna,onChange:$=>b(P,"warna",$.target.value)})]})]},P)),C.jsx("button",{onClick:j,style:{height:"2em"},children:"Lanjutkan"})]}),a==3&&C.jsxs("div",{className:"inputContainer",style:{height:"400px",display:"flex",flexDirection:"column",padding:"0 2em 0 2em"},children:[C.jsx("p",{children:"Plan"}),C.jsxs("label",{style:{display:"flex",flexDirection:"column"},children:[C.jsxs("label",{children:[C.jsx("input",{type:"radio",value:"Priority1",checked:i.rank==="Priority1",onChange:w=>s({...i,rank:w.target.value})}),"Priority 1 Bulan (50k)"]}),C.jsx("br",{}),C.jsxs("label",{children:[C.jsx("input",{type:"radio",value:"Priority3",checked:i.rank==="Priority3",onChange:w=>s({...i,rank:w.target.value})}),"Priority 3 Bulan (100k)"]}),C.jsx("br",{}),C.jsxs("label",{children:[C.jsx("input",{type:"radio",value:"Priority6",checked:i.rank==="Priority6",onChange:w=>s({...i,rank:w.target.value})}),"Priority 6 Bulan (175k)"]}),C.jsx("br",{}),C.jsxs("label",{children:[C.jsx("input",{type:"radio",value:"Basic1",checked:i.rank==="Basic1",onChange:w=>s({...i,rank:w.target.value})}),"Basic 1 Bulan (20k)"]}),C.jsx("br",{}),C.jsxs("label",{children:[C.jsx("input",{type:"radio",value:"Basic3",checked:i.rank==="Basic3",onChange:w=>s({...i,rank:w.target.value})}),"Basic 3 Bulan (50k)"]}),C.jsx("br",{}),C.jsxs("label",{children:[C.jsx("input",{type:"radio",value:"Basic6",checked:i.rank==="Basic6",onChange:w=>s({...i,rank:w.target.value})}),"Basic 6 Bulan (75k)"]})]}),C.jsx("button",{type:"submit",children:"Submit"})]})]})});function b(w,P,$){const z=[...i.Anjing];if(P==="DOB"){const G=$?ft.fromDate(new Date($)):null;z[w][P]=G}else z[w][P]=$;s({...i,Anjing:z})}}function lF(t){const{iklan:e}=t,[n,r]=Y.useState("");return Y.useEffect(()=>{(async()=>{try{const s=Iy(Ny,e.gambar),o=await uA(s);r(o)}catch(s){console.error("Error fetching image URL:",s)}})()},[e.gambar]),C.jsx("div",{className:"infoDog",children:C.jsxs("div",{className:"infoDog-card",children:[C.jsx("div",{className:"infoDog-card-1",children:C.jsx("div",{className:"infoDog-backbutton",onClick:t.hideAnjing,children:C.jsx("p",{style:{margin:"0"},children:"Kembali"})})}),C.jsxs("div",{className:"infoDog-card-2",children:[C.jsx("div",{style:{height:"100%",width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx("img",{src:n,style:{height:"90%",width:"90%",objectFit:"cover",borderRadius:"1em"},alt:""})}),C.jsxs("div",{style:{height:"100%",width:"50%",padding:"1em",fontSize:"0.9em"},children:[C.jsx("h6",{style:{height:"2em",marginBottom:"1em",marginTop:"2em"},children:C.jsx("b",{children:e&&e.judul})}),C.jsxs("p",{children:[C.jsx("i",{className:"bi bi-geo-alt-fill me-2"}),e&&e.lokasi]}),C.jsxs("p",{children:[C.jsx("i",{className:"bi bi-tag-fill me-2"}),e&&e.jenis]}),C.jsxs("p",{children:[C.jsx("i",{className:"bi bi-telephone-fill me-2"}),e&&e.kontak]}),C.jsxs("div",{style:{height:"auto",width:"100%",display:"flex"},children:[e&&e.microchip&&C.jsx("div",{className:"infoDog-icons-blue",children:"MICROCHIP"}),e&&e.obatCacing&&C.jsx("div",{className:"infoDog-icons",children:"OBAT CACING"}),e&&e.stambum&&C.jsx("div",{className:"infoDog-icons-blue",children:"STAMBUM"}),e&&e.vaksin&&C.jsx("div",{className:"infoDog-icons",children:"VAKSIN"})]})]})]}),C.jsx("div",{className:"infoDog-card-3",style:{whiteSpace:"pre-wrap",height:"100%",padding:"0 2em 0 2em",fontSize:"0.8em"},children:C.jsx("p",{children:e&&e.body.replace(/\\n/g,`
`)})})]})})}function uF(){const[t,e]=Y.useState(null),n=N1(BA,"iklan"),r=zo(),s=new URLSearchParams(r.search).get("filterType"),o=s?s.split(","):[],[a,u]=Y.useState(""),[c,d]=Y.useState(!1),[p,y]=Y.useState(!1),[I,O]=Y.useState(null),x=()=>{d(!c)},L=()=>{y(!1)},v=B=>{const b=t?t.find(w=>w.id===B):null;b&&(O(b),y(!0))},m=B=>{u(B.target.value)},T=async()=>{const B=await lM(n);e(B.docs.map(b=>({...b.data(),id:b.id})))};if(Y.useEffect(()=>{T()},[]),!t)return C.jsx("div",{children:"Loading..."});const A=o.length===0?t.filter(B=>B.status==="Active"):t.filter(B=>o.includes(B.jenis)&&B.status==="Active"),V=["Akita","Alaskan Malamute","American Bully","American Cocker Spaniel","American Pit Bull Terrier","Australian Shepherd","Basenji","Beagle","Belgian Malinois","Bernese Mountain Dog","Bichon Frise","Biewer Terrier","Border Collie","Bulldog","Cane Corso","Cavalier King Charles Spaniel","Chihuahua","Chow Chow","Dalmatian","Doberman Pinscher","Dogo Argentino","Dutch Shepherd","English Cocker Spaniel","French Bulldog","Golden Retriever","Great Dane","Greyhound","Herder / German Shepherd","Jack Russell Terrier","Japanese Chin","Kintamani","Labrador Retriever","Maltese","Miniature Pinscher","Miniature Schnauzer","Mixed Breed / Campuran","Pekingese","Pembroke Welsh Corgi","Pomeranian","Poodle","Pug","Rottweiler","Samoyed","Shetland Sheepdog","Shiba Inu","Shih Tzu","Siberian Husky","Tekel / Dachshund","West Highland White Terrier","Yorkshire Terrier"].filter(B=>B.toLowerCase().includes(a.toLowerCase()));return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:c||p?"blur":"",children:[C.jsx(UU,{togglePasang:x}),C.jsxs("div",{style:{backgroundColor:"red",height:"20em",marginBottom:"1em"},children:[C.jsx("img",{src:"/header-pic.jpg",alt:"",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center 20%"}}),C.jsxs("p",{style:{position:"absolute",top:"25%",left:"25%",transform:"translateX(-50%)",fontFamily:"'Quicksand', sans-serif",fontSize:"3em",lineHeight:"1.2",color:"#fff",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)",padding:"0.5em"},children:["Let your paw-some ",C.jsx("br",{}),"connection begin!"]})]}),C.jsxs("div",{className:"content",children:[C.jsx("div",{className:"content-left",children:C.jsxs("div",{className:"filter",children:[C.jsx("p",{style:{padding:"0.5em",margin:"0"},children:C.jsx("b",{children:"Jenis Anjing"})}),C.jsx("div",{className:"searchBar",children:C.jsx("input",{type:"text",onChange:m,placeholder:"Cari Jenis Anjing",className:"filterList-input"})}),V.map((B,b)=>C.jsx(jU,{name:B},b))]})}),C.jsxs("div",{className:"content-right",children:[C.jsx("p",{children:C.jsx("b",{style:{marginBottom:"0.3rem"},children:"Papan Iklan"})}),C.jsx("div",{className:"filterList",children:o==null?void 0:o.map(B=>C.jsx("div",{className:"filterList-object",children:B}))}),C.jsx("div",{className:"dogList",children:A==null?void 0:A.map(B=>C.jsx(VU,{iklan:B,showAnjing:v},B.id))})]})]})]}),c&&C.jsx(aF,{togglePasang:x}),p&&I&&C.jsx(lF,{iklan:I,hideAnjing:L})]})}function cF(){const t=Ul(),[e,n]=Y.useState(""),[r,i]=Y.useState(""),[s,o]=Y.useState(""),a=C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 262",children:[C.jsx("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}),C.jsx("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}),C.jsx("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"}),C.jsx("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"})]}),u=async()=>{await zj(Io,MU),t("/")},c=async()=>{try{await vj(Io,e,r),t("/")}catch(d){const p=d.message;p.includes("invalid-email")?o("Invalid email format"):p.includes("wrong-password")?o("Invalid password"):o("An error occurred during login"),console.error("Error logging in:",d.message)}};return C.jsxs("div",{className:"loginPage",children:[C.jsx("p",{style:{fontWeight:"bold"},children:"LOGIN"}),C.jsx("div",{className:"loginPage-input-container",children:C.jsx("input",{className:"loginPage-input",type:"email",placeholder:"Email",value:e,onChange:d=>n(d.target.value)})}),s.includes("email")&&C.jsx("div",{className:"loginPage-error",children:s}),C.jsx("div",{className:"loginPage-input-container",children:C.jsx("input",{className:"loginPage-input",type:"password",placeholder:"Password",value:r,onChange:d=>i(d.target.value)})}),s.includes("password")&&C.jsx("div",{className:"loginPage-error",children:s}),C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"20em",margin:"1em 0 0 0"},children:[C.jsx("button",{style:{margin:"0 2em 0 2em",backgroundColor:"#00bf8f",color:"white"},className:"loginPage-google",onClick:c,children:"Login"}),C.jsx(pl,{style:{margin:"0 2em 0 2em",textDecoration:"none"},className:"loginPage-google",to:"/Register",children:"Register"})]}),C.jsx("div",{style:{width:"20em"},children:C.jsxs("button",{style:{margin:"1em auto 0 auto"},onClick:u,className:"loginPage-google",children:[a,"Continue With Google"]})}),C.jsx(pl,{to:"/",style:{margin:"2em 0 0 0",textDecoration:"none"},children:"Kembali"})]})}function hF(){const t=Ul(),[e,n]=Y.useState(""),[r,i]=Y.useState(""),[s,o]=Y.useState(null),a=async()=>{try{o(null),await _j(Io,e,r),alert("Berhasil Membuat Akun"),t("/Login")}catch(u){const c=u.message;c.includes("invalid-email")?o("Invalid email format"):c.includes("wrong-password")?o("Invalid password"):o("An error occurred during login")}};return C.jsxs("div",{className:"loginPage",children:[C.jsx("p",{style:{fontWeight:"bold"},children:"Register Page"}),C.jsx("div",{className:"loginPage-input-container",children:C.jsx("input",{className:"loginPage-input",type:"email",placeholder:"Email",value:e,onChange:u=>n(u.target.value)})}),(s==null?void 0:s.includes("email"))&&C.jsx("div",{className:"loginPage-error",children:s}),C.jsx("div",{className:"loginPage-input-container",children:C.jsx("input",{className:"loginPage-input",type:"password",placeholder:"Password",value:r,onChange:u=>i(u.target.value)})}),(s==null?void 0:s.includes("password"))&&C.jsx("div",{className:"loginPage-error",children:s}),!(s!=null&&s.includes("password"))&&!(s!=null&&s.includes("email"))&&C.jsx("div",{className:"loginPage-error",children:s}),C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"20em",margin:"1em 0 0 0"},children:[C.jsx("button",{style:{margin:"0 2em 0 2em",backgroundColor:"#00bf8f",color:"white"},className:"loginPage-google",onClick:a,children:"Register"}),C.jsx(pl,{to:"/Login",style:{margin:"0 2em 0 2em",textDecoration:"none"},className:"loginPage-google",children:"Login"})]}),C.jsx(pl,{to:"/",style:{margin:"2em 0 0 0",textDecoration:"none"},children:"Kembali"})]})}function dF(){return C.jsx(yO,{children:C.jsxs(hO,{children:[C.jsx(Ca,{path:"/",element:C.jsx(uF,{})}),C.jsx(Ca,{path:"/Login",element:C.jsx(cF,{})}),C.jsx(Ca,{path:"/Register",element:C.jsx(hF,{})}),C.jsx(Ca,{path:"*",element:C.jsx("h1",{children:"PAGE NOT FOUND"})})]})})}var fF={exports:{}};/*!
  * Bootstrap v5.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(YP,function(){const n=new Map,r={set(f,l,h){n.has(f)||n.set(f,new Map);const g=n.get(f);g.has(l)||g.size===0?g.set(l,h):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`)},get:(f,l)=>n.has(f)&&n.get(f).get(l)||null,remove(f,l){if(!n.has(f))return;const h=n.get(f);h.delete(l),h.size===0&&n.delete(f)}},i="transitionend",s=f=>(f&&window.CSS&&window.CSS.escape&&(f=f.replace(/#([^\s"#']+)/g,(l,h)=>`#${CSS.escape(h)}`)),f),o=f=>{f.dispatchEvent(new Event(i))},a=f=>!(!f||typeof f!="object")&&(f.jquery!==void 0&&(f=f[0]),f.nodeType!==void 0),u=f=>a(f)?f.jquery?f[0]:f:typeof f=="string"&&f.length>0?document.querySelector(s(f)):null,c=f=>{if(!a(f)||f.getClientRects().length===0)return!1;const l=getComputedStyle(f).getPropertyValue("visibility")==="visible",h=f.closest("details:not([open])");if(!h)return l;if(h!==f){const g=f.closest("summary");if(g&&g.parentNode!==h||g===null)return!1}return l},d=f=>!f||f.nodeType!==Node.ELEMENT_NODE||!!f.classList.contains("disabled")||(f.disabled!==void 0?f.disabled:f.hasAttribute("disabled")&&f.getAttribute("disabled")!=="false"),p=f=>{if(!document.documentElement.attachShadow)return null;if(typeof f.getRootNode=="function"){const l=f.getRootNode();return l instanceof ShadowRoot?l:null}return f instanceof ShadowRoot?f:f.parentNode?p(f.parentNode):null},y=()=>{},I=f=>{f.offsetHeight},O=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,x=[],L=()=>document.documentElement.dir==="rtl",v=f=>{var l;l=()=>{const h=O();if(h){const g=f.NAME,R=h.fn[g];h.fn[g]=f.jQueryInterface,h.fn[g].Constructor=f,h.fn[g].noConflict=()=>(h.fn[g]=R,f.jQueryInterface)}},document.readyState==="loading"?(x.length||document.addEventListener("DOMContentLoaded",()=>{for(const h of x)h()}),x.push(l)):l()},m=(f,l=[],h=f)=>typeof f=="function"?f(...l):h,T=(f,l,h=!0)=>{if(!h)return void m(f);const g=(F=>{if(!F)return 0;let{transitionDuration:H,transitionDelay:J}=window.getComputedStyle(F);const ne=Number.parseFloat(H),ie=Number.parseFloat(J);return ne||ie?(H=H.split(",")[0],J=J.split(",")[0],1e3*(Number.parseFloat(H)+Number.parseFloat(J))):0})(l)+5;let R=!1;const k=({target:F})=>{F===l&&(R=!0,l.removeEventListener(i,k),m(f))};l.addEventListener(i,k),setTimeout(()=>{R||o(l)},g)},A=(f,l,h,g)=>{const R=f.length;let k=f.indexOf(l);return k===-1?!h&&g?f[R-1]:f[0]:(k+=h?1:-1,g&&(k=(k+R)%R),f[Math.max(0,Math.min(k,R-1))])},j=/[^.]*(?=\..*)\.|.*/,V=/\..*/,B=/::\d+$/,b={};let w=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function z(f,l){return l&&`${l}::${w++}`||f.uidEvent||w++}function G(f){const l=z(f);return f.uidEvent=l,b[l]=b[l]||{},b[l]}function ve(f,l,h=null){return Object.values(f).find(g=>g.callable===l&&g.delegationSelector===h)}function be(f,l,h){const g=typeof l=="string",R=g?h:l||h;let k=S(f);return $.has(k)||(k=f),[g,R,k]}function Ue(f,l,h,g,R){if(typeof l!="string"||!f)return;let[k,F,H]=be(l,h,g);l in P&&(F=(pe=>function(ce){if(!ce.relatedTarget||ce.relatedTarget!==ce.delegateTarget&&!ce.delegateTarget.contains(ce.relatedTarget))return pe.call(this,ce)})(F));const J=G(f),ne=J[H]||(J[H]={}),ie=ve(ne,F,k?h:null);if(ie)return void(ie.oneOff=ie.oneOff&&R);const te=z(F,l.replace(j,"")),_e=k?function(le,pe,ce){return function ge(Me){const $e=le.querySelectorAll(pe);for(let{target:Ee}=Me;Ee&&Ee!==this;Ee=Ee.parentNode)for(const Re of $e)if(Re===Ee)return N(Me,{delegateTarget:Ee}),ge.oneOff&&_.off(le,Me.type,pe,ce),ce.apply(Ee,[Me])}}(f,h,F):function(le,pe){return function ce(ge){return N(ge,{delegateTarget:le}),ce.oneOff&&_.off(le,ge.type,pe),pe.apply(le,[ge])}}(f,F);_e.delegationSelector=k?h:null,_e.callable=F,_e.oneOff=R,_e.uidEvent=te,ne[te]=_e,f.addEventListener(H,_e,k)}function Oe(f,l,h,g,R){const k=ve(l[h],g,R);k&&(f.removeEventListener(h,k,!!R),delete l[h][k.uidEvent])}function D(f,l,h,g){const R=l[h]||{};for(const[k,F]of Object.entries(R))k.includes(g)&&Oe(f,l,h,F.callable,F.delegationSelector)}function S(f){return f=f.replace(V,""),P[f]||f}const _={on(f,l,h,g){Ue(f,l,h,g,!1)},one(f,l,h,g){Ue(f,l,h,g,!0)},off(f,l,h,g){if(typeof l!="string"||!f)return;const[R,k,F]=be(l,h,g),H=F!==l,J=G(f),ne=J[F]||{},ie=l.startsWith(".");if(k===void 0){if(ie)for(const te of Object.keys(J))D(f,J,te,l.slice(1));for(const[te,_e]of Object.entries(ne)){const le=te.replace(B,"");H&&!l.includes(le)||Oe(f,J,F,_e.callable,_e.delegationSelector)}}else{if(!Object.keys(ne).length)return;Oe(f,J,F,k,R?h:null)}},trigger(f,l,h){if(typeof l!="string"||!f)return null;const g=O();let R=null,k=!0,F=!0,H=!1;l!==S(l)&&g&&(R=g.Event(l,h),g(f).trigger(R),k=!R.isPropagationStopped(),F=!R.isImmediatePropagationStopped(),H=R.isDefaultPrevented());const J=N(new Event(l,{bubbles:k,cancelable:!0}),h);return H&&J.preventDefault(),F&&f.dispatchEvent(J),J.defaultPrevented&&R&&R.preventDefault(),J}};function N(f,l={}){for(const[h,g]of Object.entries(l))try{f[h]=g}catch{Object.defineProperty(f,h,{configurable:!0,get:()=>g})}return f}function E(f){if(f==="true")return!0;if(f==="false")return!1;if(f===Number(f).toString())return Number(f);if(f===""||f==="null")return null;if(typeof f!="string")return f;try{return JSON.parse(decodeURIComponent(f))}catch{return f}}function M(f){return f.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const U={setDataAttribute(f,l,h){f.setAttribute(`data-bs-${M(l)}`,h)},removeDataAttribute(f,l){f.removeAttribute(`data-bs-${M(l)}`)},getDataAttributes(f){if(!f)return{};const l={},h=Object.keys(f.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of h){let R=g.replace(/^bs/,"");R=R.charAt(0).toLowerCase()+R.slice(1,R.length),l[R]=E(f.dataset[g])}return l},getDataAttribute:(f,l)=>E(f.getAttribute(`data-bs-${M(l)}`))};class W{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,h){const g=a(h)?U.getDataAttribute(h,"config"):{};return{...this.constructor.Default,...typeof g=="object"?g:{},...a(h)?U.getDataAttributes(h):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,h=this.constructor.DefaultType){for(const[R,k]of Object.entries(h)){const F=l[R],H=a(F)?"element":(g=F)==null?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(k).test(H))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${R}" provided type "${H}" but expected type "${k}".`)}var g}}class Z extends W{constructor(l,h){super(),(l=u(l))&&(this._element=l,this._config=this._getConfig(h),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),_.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,h,g=!0){T(l,h,g)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return r.get(u(l),this.DATA_KEY)}static getOrCreateInstance(l,h={}){return this.getInstance(l)||new this(l,typeof h=="object"?h:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const ue=f=>{let l=f.getAttribute("data-bs-target");if(!l||l==="#"){let h=f.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),l=h&&h!=="#"?h.trim():null}return s(l)},X={find:(f,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,f)),findOne:(f,l=document.documentElement)=>Element.prototype.querySelector.call(l,f),children:(f,l)=>[].concat(...f.children).filter(h=>h.matches(l)),parents(f,l){const h=[];let g=f.parentNode.closest(l);for(;g;)h.push(g),g=g.parentNode.closest(l);return h},prev(f,l){let h=f.previousElementSibling;for(;h;){if(h.matches(l))return[h];h=h.previousElementSibling}return[]},next(f,l){let h=f.nextElementSibling;for(;h;){if(h.matches(l))return[h];h=h.nextElementSibling}return[]},focusableChildren(f){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(l,f).filter(h=>!d(h)&&c(h))},getSelectorFromElement(f){const l=ue(f);return l&&X.findOne(l)?l:null},getElementFromSelector(f){const l=ue(f);return l?X.findOne(l):null},getMultipleElementsFromSelector(f){const l=ue(f);return l?X.find(l):[]}},Fe=(f,l="hide")=>{const h=`click.dismiss${f.EVENT_KEY}`,g=f.NAME;_.on(document,h,`[data-bs-dismiss="${g}"]`,function(R){if(["A","AREA"].includes(this.tagName)&&R.preventDefault(),d(this))return;const k=X.getElementFromSelector(this)||this.closest(`.${g}`);f.getOrCreateInstance(k)[l]()})},it=".bs.alert",yt=`close${it}`,rn=`closed${it}`;class _t extends Z{static get NAME(){return"alert"}close(){if(_.trigger(this._element,yt).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),_.trigger(this._element,rn),this.dispose()}static jQueryInterface(l){return this.each(function(){const h=_t.getOrCreateInstance(this);if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l](this)}})}}Fe(_t,"close"),v(_t);const Jn='[data-bs-toggle="button"]';class lt extends Z{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const h=lt.getOrCreateInstance(this);l==="toggle"&&h[l]()})}}_.on(document,"click.bs.button.data-api",Jn,f=>{f.preventDefault();const l=f.target.closest(Jn);lt.getOrCreateInstance(l).toggle()}),v(lt);const cn=".bs.swipe",zr=`touchstart${cn}`,Vn=`touchmove${cn}`,vd=`touchend${cn}`,au=`pointerdown${cn}`,lu=`pointerup${cn}`,uu={endCallback:null,leftCallback:null,rightCallback:null},Os={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class vr extends W{constructor(l,h){super(),this._element=l,l&&vr.isSupported()&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return uu}static get DefaultType(){return Os}static get NAME(){return"swipe"}dispose(){_.off(this._element,cn)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),m(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const h=l/this._deltaX;this._deltaX=0,h&&m(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(_.on(this._element,au,l=>this._start(l)),_.on(this._element,lu,l=>this._end(l)),this._element.classList.add("pointer-event")):(_.on(this._element,zr,l=>this._start(l)),_.on(this._element,Vn,l=>this._move(l)),_.on(this._element,vd,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const qt=".bs.carousel",Xo=".data-api",Hr="next",Wr="prev",jn="left",xs="right",wd=`slide${qt}`,Jo=`slid${qt}`,Zo=`keydown${qt}`,st=`mouseenter${qt}`,Un=`mouseleave${qt}`,Li=`dragstart${qt}`,cu=`load${qt}${Xo}`,ea=`click${qt}${Xo}`,Ds="carousel",qr="active",ta=".active",na=".carousel-item",ra=ta+na,XA={ArrowLeft:xs,ArrowRight:jn},JA={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ZA={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ns extends Z{constructor(l,h){super(l,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=X.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ds&&this.cycle()}static get Default(){return JA}static get DefaultType(){return ZA}static get NAME(){return"carousel"}next(){this._slide(Hr)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(Wr)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?_.one(this._element,Jo,()=>this.cycle()):this.cycle())}to(l){const h=this._getItems();if(l>h.length-1||l<0)return;if(this._isSliding)return void _.one(this._element,Jo,()=>this.to(l));const g=this._getItemIndex(this._getActive());if(g===l)return;const R=l>g?Hr:Wr;this._slide(R,h[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&_.on(this._element,Zo,l=>this._keydown(l)),this._config.pause==="hover"&&(_.on(this._element,st,()=>this.pause()),_.on(this._element,Un,()=>this._maybeEnableCycle())),this._config.touch&&vr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const h of X.find(".carousel-item img",this._element))_.on(h,Li,g=>g.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(jn)),rightCallback:()=>this._slide(this._directionToOrder(xs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new vr(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const h=XA[l.key];h&&(l.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const h=X.findOne(ta,this._indicatorsElement);h.classList.remove(qr),h.removeAttribute("aria-current");const g=X.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);g&&(g.classList.add(qr),g.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const h=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(l,h=null){if(this._isSliding)return;const g=this._getActive(),R=l===Hr,k=h||A(this._getItems(),g,R,this._config.wrap);if(k===g)return;const F=this._getItemIndex(k),H=te=>_.trigger(this._element,te,{relatedTarget:k,direction:this._orderToDirection(l),from:this._getItemIndex(g),to:F});if(H(wd).defaultPrevented||!g||!k)return;const J=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(F),this._activeElement=k;const ne=R?"carousel-item-start":"carousel-item-end",ie=R?"carousel-item-next":"carousel-item-prev";k.classList.add(ie),I(k),g.classList.add(ne),k.classList.add(ne),this._queueCallback(()=>{k.classList.remove(ne,ie),k.classList.add(qr),g.classList.remove(qr,ie,ne),this._isSliding=!1,H(Jo)},g,this._isAnimated()),J&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return X.findOne(ra,this._element)}_getItems(){return X.find(na,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return L()?l===jn?Wr:Hr:l===jn?Hr:Wr}_orderToDirection(l){return L()?l===Wr?jn:xs:l===Wr?xs:jn}static jQueryInterface(l){return this.each(function(){const h=Ns.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l]()}}else h.to(l)})}}_.on(document,ea,"[data-bs-slide], [data-bs-slide-to]",function(f){const l=X.getElementFromSelector(this);if(!l||!l.classList.contains(Ds))return;f.preventDefault();const h=Ns.getOrCreateInstance(l),g=this.getAttribute("data-bs-slide-to");return g?(h.to(g),void h._maybeEnableCycle()):U.getDataAttribute(this,"slide")==="next"?(h.next(),void h._maybeEnableCycle()):(h.prev(),void h._maybeEnableCycle())}),_.on(window,cu,()=>{const f=X.find('[data-bs-ride="carousel"]');for(const l of f)Ns.getOrCreateInstance(l)}),v(Ns);const ia=".bs.collapse",eC=`show${ia}`,tC=`shown${ia}`,nC=`hide${ia}`,rC=`hidden${ia}`,iC=`click${ia}.data-api`,Ed="show",Ls="collapse",hu="collapsing",sC=`:scope .${Ls} .${Ls}`,Id='[data-bs-toggle="collapse"]',oC={parent:null,toggle:!0},aC={parent:"(null|element)",toggle:"boolean"};class Ms extends Z{constructor(l,h){super(l,h),this._isTransitioning=!1,this._triggerArray=[];const g=X.find(Id);for(const R of g){const k=X.getSelectorFromElement(R),F=X.find(k).filter(H=>H===this._element);k!==null&&F.length&&this._triggerArray.push(R)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return oC}static get DefaultType(){return aC}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(R=>R!==this._element).map(R=>Ms.getOrCreateInstance(R,{toggle:!1}))),l.length&&l[0]._isTransitioning||_.trigger(this._element,eC).defaultPrevented)return;for(const R of l)R.hide();const h=this._getDimension();this._element.classList.remove(Ls),this._element.classList.add(hu),this._element.style[h]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const g=`scroll${h[0].toUpperCase()+h.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(hu),this._element.classList.add(Ls,Ed),this._element.style[h]="",_.trigger(this._element,tC)},this._element,!0),this._element.style[h]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||_.trigger(this._element,nC).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,I(this._element),this._element.classList.add(hu),this._element.classList.remove(Ls,Ed);for(const h of this._triggerArray){const g=X.getElementFromSelector(h);g&&!this._isShown(g)&&this._addAriaAndCollapsedClass([h],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(hu),this._element.classList.add(Ls),_.trigger(this._element,rC)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Ed)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=u(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Id);for(const h of l){const g=X.getElementFromSelector(h);g&&this._addAriaAndCollapsedClass([h],this._isShown(g))}}_getFirstLevelChildren(l){const h=X.find(sC,this._config.parent);return X.find(l,this._config.parent).filter(g=>!h.includes(g))}_addAriaAndCollapsedClass(l,h){if(l.length)for(const g of l)g.classList.toggle("collapsed",!h),g.setAttribute("aria-expanded",h)}static jQueryInterface(l){const h={};return typeof l=="string"&&/show|hide/.test(l)&&(h.toggle=!1),this.each(function(){const g=Ms.getOrCreateInstance(this,h);if(typeof l=="string"){if(g[l]===void 0)throw new TypeError(`No method named "${l}"`);g[l]()}})}}_.on(document,iC,Id,function(f){(f.target.tagName==="A"||f.delegateTarget&&f.delegateTarget.tagName==="A")&&f.preventDefault();for(const l of X.getMultipleElementsFromSelector(this))Ms.getOrCreateInstance(l,{toggle:!1}).toggle()}),v(Ms);var Kt="top",hn="bottom",dn="right",Gt="left",du="auto",Vs=[Kt,hn,dn,Gt],Mi="start",js="end",Ly="clippingParents",Td="viewport",Us="popper",My="reference",Sd=Vs.reduce(function(f,l){return f.concat([l+"-"+Mi,l+"-"+js])},[]),Ad=[].concat(Vs,[du]).reduce(function(f,l){return f.concat([l,l+"-"+Mi,l+"-"+js])},[]),Vy="beforeRead",jy="read",Uy="afterRead",Fy="beforeMain",$y="main",By="afterMain",zy="beforeWrite",Hy="write",Wy="afterWrite",qy=[Vy,jy,Uy,Fy,$y,By,zy,Hy,Wy];function Zn(f){return f?(f.nodeName||"").toLowerCase():null}function fn(f){if(f==null)return window;if(f.toString()!=="[object Window]"){var l=f.ownerDocument;return l&&l.defaultView||window}return f}function Vi(f){return f instanceof fn(f).Element||f instanceof Element}function Tn(f){return f instanceof fn(f).HTMLElement||f instanceof HTMLElement}function Cd(f){return typeof ShadowRoot<"u"&&(f instanceof fn(f).ShadowRoot||f instanceof ShadowRoot)}const Pd={name:"applyStyles",enabled:!0,phase:"write",fn:function(f){var l=f.state;Object.keys(l.elements).forEach(function(h){var g=l.styles[h]||{},R=l.attributes[h]||{},k=l.elements[h];Tn(k)&&Zn(k)&&(Object.assign(k.style,g),Object.keys(R).forEach(function(F){var H=R[F];H===!1?k.removeAttribute(F):k.setAttribute(F,H===!0?"":H)}))})},effect:function(f){var l=f.state,h={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,h.popper),l.styles=h,l.elements.arrow&&Object.assign(l.elements.arrow.style,h.arrow),function(){Object.keys(l.elements).forEach(function(g){var R=l.elements[g],k=l.attributes[g]||{},F=Object.keys(l.styles.hasOwnProperty(g)?l.styles[g]:h[g]).reduce(function(H,J){return H[J]="",H},{});Tn(R)&&Zn(R)&&(Object.assign(R.style,F),Object.keys(k).forEach(function(H){R.removeAttribute(H)}))})}},requires:["computeStyles"]};function er(f){return f.split("-")[0]}var ji=Math.max,fu=Math.min,Fs=Math.round;function Rd(){var f=navigator.userAgentData;return f!=null&&f.brands&&Array.isArray(f.brands)?f.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Ky(){return!/^((?!chrome|android).)*safari/i.test(Rd())}function $s(f,l,h){l===void 0&&(l=!1),h===void 0&&(h=!1);var g=f.getBoundingClientRect(),R=1,k=1;l&&Tn(f)&&(R=f.offsetWidth>0&&Fs(g.width)/f.offsetWidth||1,k=f.offsetHeight>0&&Fs(g.height)/f.offsetHeight||1);var F=(Vi(f)?fn(f):window).visualViewport,H=!Ky()&&h,J=(g.left+(H&&F?F.offsetLeft:0))/R,ne=(g.top+(H&&F?F.offsetTop:0))/k,ie=g.width/R,te=g.height/k;return{width:ie,height:te,top:ne,right:J+ie,bottom:ne+te,left:J,x:J,y:ne}}function kd(f){var l=$s(f),h=f.offsetWidth,g=f.offsetHeight;return Math.abs(l.width-h)<=1&&(h=l.width),Math.abs(l.height-g)<=1&&(g=l.height),{x:f.offsetLeft,y:f.offsetTop,width:h,height:g}}function Gy(f,l){var h=l.getRootNode&&l.getRootNode();if(f.contains(l))return!0;if(h&&Cd(h)){var g=l;do{if(g&&f.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function wr(f){return fn(f).getComputedStyle(f)}function lC(f){return["table","td","th"].indexOf(Zn(f))>=0}function Kr(f){return((Vi(f)?f.ownerDocument:f.document)||window.document).documentElement}function pu(f){return Zn(f)==="html"?f:f.assignedSlot||f.parentNode||(Cd(f)?f.host:null)||Kr(f)}function Qy(f){return Tn(f)&&wr(f).position!=="fixed"?f.offsetParent:null}function sa(f){for(var l=fn(f),h=Qy(f);h&&lC(h)&&wr(h).position==="static";)h=Qy(h);return h&&(Zn(h)==="html"||Zn(h)==="body"&&wr(h).position==="static")?l:h||function(g){var R=/firefox/i.test(Rd());if(/Trident/i.test(Rd())&&Tn(g)&&wr(g).position==="fixed")return null;var k=pu(g);for(Cd(k)&&(k=k.host);Tn(k)&&["html","body"].indexOf(Zn(k))<0;){var F=wr(k);if(F.transform!=="none"||F.perspective!=="none"||F.contain==="paint"||["transform","perspective"].indexOf(F.willChange)!==-1||R&&F.willChange==="filter"||R&&F.filter&&F.filter!=="none")return k;k=k.parentNode}return null}(f)||l}function bd(f){return["top","bottom"].indexOf(f)>=0?"x":"y"}function oa(f,l,h){return ji(f,fu(l,h))}function Yy(f){return Object.assign({},{top:0,right:0,bottom:0,left:0},f)}function Xy(f,l){return l.reduce(function(h,g){return h[g]=f,h},{})}const Jy={name:"arrow",enabled:!0,phase:"main",fn:function(f){var l,h=f.state,g=f.name,R=f.options,k=h.elements.arrow,F=h.modifiersData.popperOffsets,H=er(h.placement),J=bd(H),ne=[Gt,dn].indexOf(H)>=0?"height":"width";if(k&&F){var ie=function(Ve,De){return Yy(typeof(Ve=typeof Ve=="function"?Ve(Object.assign({},De.rects,{placement:De.placement})):Ve)!="number"?Ve:Xy(Ve,Vs))}(R.padding,h),te=kd(k),_e=J==="y"?Kt:Gt,le=J==="y"?hn:dn,pe=h.rects.reference[ne]+h.rects.reference[J]-F[J]-h.rects.popper[ne],ce=F[J]-h.rects.reference[J],ge=sa(k),Me=ge?J==="y"?ge.clientHeight||0:ge.clientWidth||0:0,$e=pe/2-ce/2,Ee=ie[_e],Re=Me-te[ne]-ie[le],we=Me/2-te[ne]/2+$e,Se=oa(Ee,we,Re),xe=J;h.modifiersData[g]=((l={})[xe]=Se,l.centerOffset=Se-we,l)}},effect:function(f){var l=f.state,h=f.options.element,g=h===void 0?"[data-popper-arrow]":h;g!=null&&(typeof g!="string"||(g=l.elements.popper.querySelector(g)))&&Gy(l.elements.popper,g)&&(l.elements.arrow=g)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bs(f){return f.split("-")[1]}var uC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zy(f){var l,h=f.popper,g=f.popperRect,R=f.placement,k=f.variation,F=f.offsets,H=f.position,J=f.gpuAcceleration,ne=f.adaptive,ie=f.roundOffsets,te=f.isFixed,_e=F.x,le=_e===void 0?0:_e,pe=F.y,ce=pe===void 0?0:pe,ge=typeof ie=="function"?ie({x:le,y:ce}):{x:le,y:ce};le=ge.x,ce=ge.y;var Me=F.hasOwnProperty("x"),$e=F.hasOwnProperty("y"),Ee=Gt,Re=Kt,we=window;if(ne){var Se=sa(h),xe="clientHeight",Ve="clientWidth";Se===fn(h)&&wr(Se=Kr(h)).position!=="static"&&H==="absolute"&&(xe="scrollHeight",Ve="scrollWidth"),(R===Kt||(R===Gt||R===dn)&&k===js)&&(Re=hn,ce-=(te&&Se===we&&we.visualViewport?we.visualViewport.height:Se[xe])-g.height,ce*=J?1:-1),R!==Gt&&(R!==Kt&&R!==hn||k!==js)||(Ee=dn,le-=(te&&Se===we&&we.visualViewport?we.visualViewport.width:Se[Ve])-g.width,le*=J?1:-1)}var De,ot=Object.assign({position:H},ne&&uC),pn=ie===!0?function($n,Qt){var An=$n.x,Cn=$n.y,Ze=Qt.devicePixelRatio||1;return{x:Fs(An*Ze)/Ze||0,y:Fs(Cn*Ze)/Ze||0}}({x:le,y:ce},fn(h)):{x:le,y:ce};return le=pn.x,ce=pn.y,J?Object.assign({},ot,((De={})[Re]=$e?"0":"",De[Ee]=Me?"0":"",De.transform=(we.devicePixelRatio||1)<=1?"translate("+le+"px, "+ce+"px)":"translate3d("+le+"px, "+ce+"px, 0)",De)):Object.assign({},ot,((l={})[Re]=$e?ce+"px":"",l[Ee]=Me?le+"px":"",l.transform="",l))}const Od={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(f){var l=f.state,h=f.options,g=h.gpuAcceleration,R=g===void 0||g,k=h.adaptive,F=k===void 0||k,H=h.roundOffsets,J=H===void 0||H,ne={placement:er(l.placement),variation:Bs(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:R,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,Zy(Object.assign({},ne,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:F,roundOffsets:J})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,Zy(Object.assign({},ne,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:J})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var gu={passive:!0};const xd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(f){var l=f.state,h=f.instance,g=f.options,R=g.scroll,k=R===void 0||R,F=g.resize,H=F===void 0||F,J=fn(l.elements.popper),ne=[].concat(l.scrollParents.reference,l.scrollParents.popper);return k&&ne.forEach(function(ie){ie.addEventListener("scroll",h.update,gu)}),H&&J.addEventListener("resize",h.update,gu),function(){k&&ne.forEach(function(ie){ie.removeEventListener("scroll",h.update,gu)}),H&&J.removeEventListener("resize",h.update,gu)}},data:{}};var cC={left:"right",right:"left",bottom:"top",top:"bottom"};function mu(f){return f.replace(/left|right|bottom|top/g,function(l){return cC[l]})}var hC={start:"end",end:"start"};function e_(f){return f.replace(/start|end/g,function(l){return hC[l]})}function Dd(f){var l=fn(f);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function Nd(f){return $s(Kr(f)).left+Dd(f).scrollLeft}function Ld(f){var l=wr(f),h=l.overflow,g=l.overflowX,R=l.overflowY;return/auto|scroll|overlay|hidden/.test(h+R+g)}function t_(f){return["html","body","#document"].indexOf(Zn(f))>=0?f.ownerDocument.body:Tn(f)&&Ld(f)?f:t_(pu(f))}function aa(f,l){var h;l===void 0&&(l=[]);var g=t_(f),R=g===((h=f.ownerDocument)==null?void 0:h.body),k=fn(g),F=R?[k].concat(k.visualViewport||[],Ld(g)?g:[]):g,H=l.concat(F);return R?H:H.concat(aa(pu(F)))}function Md(f){return Object.assign({},f,{left:f.x,top:f.y,right:f.x+f.width,bottom:f.y+f.height})}function n_(f,l,h){return l===Td?Md(function(g,R){var k=fn(g),F=Kr(g),H=k.visualViewport,J=F.clientWidth,ne=F.clientHeight,ie=0,te=0;if(H){J=H.width,ne=H.height;var _e=Ky();(_e||!_e&&R==="fixed")&&(ie=H.offsetLeft,te=H.offsetTop)}return{width:J,height:ne,x:ie+Nd(g),y:te}}(f,h)):Vi(l)?function(g,R){var k=$s(g,!1,R==="fixed");return k.top=k.top+g.clientTop,k.left=k.left+g.clientLeft,k.bottom=k.top+g.clientHeight,k.right=k.left+g.clientWidth,k.width=g.clientWidth,k.height=g.clientHeight,k.x=k.left,k.y=k.top,k}(l,h):Md(function(g){var R,k=Kr(g),F=Dd(g),H=(R=g.ownerDocument)==null?void 0:R.body,J=ji(k.scrollWidth,k.clientWidth,H?H.scrollWidth:0,H?H.clientWidth:0),ne=ji(k.scrollHeight,k.clientHeight,H?H.scrollHeight:0,H?H.clientHeight:0),ie=-F.scrollLeft+Nd(g),te=-F.scrollTop;return wr(H||k).direction==="rtl"&&(ie+=ji(k.clientWidth,H?H.clientWidth:0)-J),{width:J,height:ne,x:ie,y:te}}(Kr(f)))}function r_(f){var l,h=f.reference,g=f.element,R=f.placement,k=R?er(R):null,F=R?Bs(R):null,H=h.x+h.width/2-g.width/2,J=h.y+h.height/2-g.height/2;switch(k){case Kt:l={x:H,y:h.y-g.height};break;case hn:l={x:H,y:h.y+h.height};break;case dn:l={x:h.x+h.width,y:J};break;case Gt:l={x:h.x-g.width,y:J};break;default:l={x:h.x,y:h.y}}var ne=k?bd(k):null;if(ne!=null){var ie=ne==="y"?"height":"width";switch(F){case Mi:l[ne]=l[ne]-(h[ie]/2-g[ie]/2);break;case js:l[ne]=l[ne]+(h[ie]/2-g[ie]/2)}}return l}function zs(f,l){l===void 0&&(l={});var h=l,g=h.placement,R=g===void 0?f.placement:g,k=h.strategy,F=k===void 0?f.strategy:k,H=h.boundary,J=H===void 0?Ly:H,ne=h.rootBoundary,ie=ne===void 0?Td:ne,te=h.elementContext,_e=te===void 0?Us:te,le=h.altBoundary,pe=le!==void 0&&le,ce=h.padding,ge=ce===void 0?0:ce,Me=Yy(typeof ge!="number"?ge:Xy(ge,Vs)),$e=_e===Us?My:Us,Ee=f.rects.popper,Re=f.elements[pe?$e:_e],we=function(Qt,An,Cn,Ze){var tr=An==="clippingParents"?function(je){var Yt=aa(pu(je)),Pn=["absolute","fixed"].indexOf(wr(je).position)>=0&&Tn(je)?sa(je):je;return Vi(Pn)?Yt.filter(function(Qr){return Vi(Qr)&&Gy(Qr,Pn)&&Zn(Qr)!=="body"}):[]}(Qt):[].concat(An),nr=[].concat(tr,[Cn]),qs=nr[0],vt=nr.reduce(function(je,Yt){var Pn=n_(Qt,Yt,Ze);return je.top=ji(Pn.top,je.top),je.right=fu(Pn.right,je.right),je.bottom=fu(Pn.bottom,je.bottom),je.left=ji(Pn.left,je.left),je},n_(Qt,qs,Ze));return vt.width=vt.right-vt.left,vt.height=vt.bottom-vt.top,vt.x=vt.left,vt.y=vt.top,vt}(Vi(Re)?Re:Re.contextElement||Kr(f.elements.popper),J,ie,F),Se=$s(f.elements.reference),xe=r_({reference:Se,element:Ee,strategy:"absolute",placement:R}),Ve=Md(Object.assign({},Ee,xe)),De=_e===Us?Ve:Se,ot={top:we.top-De.top+Me.top,bottom:De.bottom-we.bottom+Me.bottom,left:we.left-De.left+Me.left,right:De.right-we.right+Me.right},pn=f.modifiersData.offset;if(_e===Us&&pn){var $n=pn[R];Object.keys(ot).forEach(function(Qt){var An=[dn,hn].indexOf(Qt)>=0?1:-1,Cn=[Kt,hn].indexOf(Qt)>=0?"y":"x";ot[Qt]+=$n[Cn]*An})}return ot}function dC(f,l){l===void 0&&(l={});var h=l,g=h.placement,R=h.boundary,k=h.rootBoundary,F=h.padding,H=h.flipVariations,J=h.allowedAutoPlacements,ne=J===void 0?Ad:J,ie=Bs(g),te=ie?H?Sd:Sd.filter(function(pe){return Bs(pe)===ie}):Vs,_e=te.filter(function(pe){return ne.indexOf(pe)>=0});_e.length===0&&(_e=te);var le=_e.reduce(function(pe,ce){return pe[ce]=zs(f,{placement:ce,boundary:R,rootBoundary:k,padding:F})[er(ce)],pe},{});return Object.keys(le).sort(function(pe,ce){return le[pe]-le[ce]})}const i_={name:"flip",enabled:!0,phase:"main",fn:function(f){var l=f.state,h=f.options,g=f.name;if(!l.modifiersData[g]._skip){for(var R=h.mainAxis,k=R===void 0||R,F=h.altAxis,H=F===void 0||F,J=h.fallbackPlacements,ne=h.padding,ie=h.boundary,te=h.rootBoundary,_e=h.altBoundary,le=h.flipVariations,pe=le===void 0||le,ce=h.allowedAutoPlacements,ge=l.options.placement,Me=er(ge),$e=J||(Me!==ge&&pe?function(je){if(er(je)===du)return[];var Yt=mu(je);return[e_(je),Yt,e_(Yt)]}(ge):[mu(ge)]),Ee=[ge].concat($e).reduce(function(je,Yt){return je.concat(er(Yt)===du?dC(l,{placement:Yt,boundary:ie,rootBoundary:te,padding:ne,flipVariations:pe,allowedAutoPlacements:ce}):Yt)},[]),Re=l.rects.reference,we=l.rects.popper,Se=new Map,xe=!0,Ve=Ee[0],De=0;De<Ee.length;De++){var ot=Ee[De],pn=er(ot),$n=Bs(ot)===Mi,Qt=[Kt,hn].indexOf(pn)>=0,An=Qt?"width":"height",Cn=zs(l,{placement:ot,boundary:ie,rootBoundary:te,altBoundary:_e,padding:ne}),Ze=Qt?$n?dn:Gt:$n?hn:Kt;Re[An]>we[An]&&(Ze=mu(Ze));var tr=mu(Ze),nr=[];if(k&&nr.push(Cn[pn]<=0),H&&nr.push(Cn[Ze]<=0,Cn[tr]<=0),nr.every(function(je){return je})){Ve=ot,xe=!1;break}Se.set(ot,nr)}if(xe)for(var qs=function(je){var Yt=Ee.find(function(Pn){var Qr=Se.get(Pn);if(Qr)return Qr.slice(0,je).every(function(Au){return Au})});if(Yt)return Ve=Yt,"break"},vt=pe?3:1;vt>0&&qs(vt)!=="break";vt--);l.placement!==Ve&&(l.modifiersData[g]._skip=!0,l.placement=Ve,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function s_(f,l,h){return h===void 0&&(h={x:0,y:0}),{top:f.top-l.height-h.y,right:f.right-l.width+h.x,bottom:f.bottom-l.height+h.y,left:f.left-l.width-h.x}}function o_(f){return[Kt,dn,hn,Gt].some(function(l){return f[l]>=0})}const a_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(f){var l=f.state,h=f.name,g=l.rects.reference,R=l.rects.popper,k=l.modifiersData.preventOverflow,F=zs(l,{elementContext:"reference"}),H=zs(l,{altBoundary:!0}),J=s_(F,g),ne=s_(H,R,k),ie=o_(J),te=o_(ne);l.modifiersData[h]={referenceClippingOffsets:J,popperEscapeOffsets:ne,isReferenceHidden:ie,hasPopperEscaped:te},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":ie,"data-popper-escaped":te})}},l_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(f){var l=f.state,h=f.options,g=f.name,R=h.offset,k=R===void 0?[0,0]:R,F=Ad.reduce(function(ie,te){return ie[te]=function(_e,le,pe){var ce=er(_e),ge=[Gt,Kt].indexOf(ce)>=0?-1:1,Me=typeof pe=="function"?pe(Object.assign({},le,{placement:_e})):pe,$e=Me[0],Ee=Me[1];return $e=$e||0,Ee=(Ee||0)*ge,[Gt,dn].indexOf(ce)>=0?{x:Ee,y:$e}:{x:$e,y:Ee}}(te,l.rects,k),ie},{}),H=F[l.placement],J=H.x,ne=H.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=J,l.modifiersData.popperOffsets.y+=ne),l.modifiersData[g]=F}},Vd={name:"popperOffsets",enabled:!0,phase:"read",fn:function(f){var l=f.state,h=f.name;l.modifiersData[h]=r_({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},u_={name:"preventOverflow",enabled:!0,phase:"main",fn:function(f){var l=f.state,h=f.options,g=f.name,R=h.mainAxis,k=R===void 0||R,F=h.altAxis,H=F!==void 0&&F,J=h.boundary,ne=h.rootBoundary,ie=h.altBoundary,te=h.padding,_e=h.tether,le=_e===void 0||_e,pe=h.tetherOffset,ce=pe===void 0?0:pe,ge=zs(l,{boundary:J,rootBoundary:ne,padding:te,altBoundary:ie}),Me=er(l.placement),$e=Bs(l.placement),Ee=!$e,Re=bd(Me),we=Re==="x"?"y":"x",Se=l.modifiersData.popperOffsets,xe=l.rects.reference,Ve=l.rects.popper,De=typeof ce=="function"?ce(Object.assign({},l.rects,{placement:l.placement})):ce,ot=typeof De=="number"?{mainAxis:De,altAxis:De}:Object.assign({mainAxis:0,altAxis:0},De),pn=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,$n={x:0,y:0};if(Se){if(k){var Qt,An=Re==="y"?Kt:Gt,Cn=Re==="y"?hn:dn,Ze=Re==="y"?"height":"width",tr=Se[Re],nr=tr+ge[An],qs=tr-ge[Cn],vt=le?-Ve[Ze]/2:0,je=$e===Mi?xe[Ze]:Ve[Ze],Yt=$e===Mi?-Ve[Ze]:-xe[Ze],Pn=l.elements.arrow,Qr=le&&Pn?kd(Pn):{width:0,height:0},Au=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},G_=Au[An],Q_=Au[Cn],Cu=oa(0,xe[Ze],Qr[Ze]),$P=Ee?xe[Ze]/2-vt-Cu-G_-ot.mainAxis:je-Cu-G_-ot.mainAxis,BP=Ee?-xe[Ze]/2+vt+Cu+Q_+ot.mainAxis:Yt+Cu+Q_+ot.mainAxis,Yd=l.elements.arrow&&sa(l.elements.arrow),zP=Yd?Re==="y"?Yd.clientTop||0:Yd.clientLeft||0:0,Y_=(Qt=pn==null?void 0:pn[Re])!=null?Qt:0,HP=tr+BP-Y_,X_=oa(le?fu(nr,tr+$P-Y_-zP):nr,tr,le?ji(qs,HP):qs);Se[Re]=X_,$n[Re]=X_-tr}if(H){var J_,WP=Re==="x"?Kt:Gt,qP=Re==="x"?hn:dn,qi=Se[we],Pu=we==="y"?"height":"width",Z_=qi+ge[WP],ev=qi-ge[qP],Xd=[Kt,Gt].indexOf(Me)!==-1,tv=(J_=pn==null?void 0:pn[we])!=null?J_:0,nv=Xd?Z_:qi-xe[Pu]-Ve[Pu]-tv+ot.altAxis,rv=Xd?qi+xe[Pu]+Ve[Pu]-tv-ot.altAxis:ev,iv=le&&Xd?function(KP,GP,Jd){var sv=oa(KP,GP,Jd);return sv>Jd?Jd:sv}(nv,qi,rv):oa(le?nv:Z_,qi,le?rv:ev);Se[we]=iv,$n[we]=iv-qi}l.modifiersData[g]=$n}},requiresIfExists:["offset"]};function fC(f,l,h){h===void 0&&(h=!1);var g,R,k=Tn(l),F=Tn(l)&&function(te){var _e=te.getBoundingClientRect(),le=Fs(_e.width)/te.offsetWidth||1,pe=Fs(_e.height)/te.offsetHeight||1;return le!==1||pe!==1}(l),H=Kr(l),J=$s(f,F,h),ne={scrollLeft:0,scrollTop:0},ie={x:0,y:0};return(k||!k&&!h)&&((Zn(l)!=="body"||Ld(H))&&(ne=(g=l)!==fn(g)&&Tn(g)?{scrollLeft:(R=g).scrollLeft,scrollTop:R.scrollTop}:Dd(g)),Tn(l)?((ie=$s(l,!0)).x+=l.clientLeft,ie.y+=l.clientTop):H&&(ie.x=Nd(H))),{x:J.left+ne.scrollLeft-ie.x,y:J.top+ne.scrollTop-ie.y,width:J.width,height:J.height}}function pC(f){var l=new Map,h=new Set,g=[];function R(k){h.add(k.name),[].concat(k.requires||[],k.requiresIfExists||[]).forEach(function(F){if(!h.has(F)){var H=l.get(F);H&&R(H)}}),g.push(k)}return f.forEach(function(k){l.set(k.name,k)}),f.forEach(function(k){h.has(k.name)||R(k)}),g}var c_={placement:"bottom",modifiers:[],strategy:"absolute"};function h_(){for(var f=arguments.length,l=new Array(f),h=0;h<f;h++)l[h]=arguments[h];return!l.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function yu(f){f===void 0&&(f={});var l=f,h=l.defaultModifiers,g=h===void 0?[]:h,R=l.defaultOptions,k=R===void 0?c_:R;return function(F,H,J){J===void 0&&(J=k);var ne,ie,te={placement:"bottom",orderedModifiers:[],options:Object.assign({},c_,k),modifiersData:{},elements:{reference:F,popper:H},attributes:{},styles:{}},_e=[],le=!1,pe={state:te,setOptions:function(ge){var Me=typeof ge=="function"?ge(te.options):ge;ce(),te.options=Object.assign({},k,te.options,Me),te.scrollParents={reference:Vi(F)?aa(F):F.contextElement?aa(F.contextElement):[],popper:aa(H)};var $e,Ee,Re=function(we){var Se=pC(we);return qy.reduce(function(xe,Ve){return xe.concat(Se.filter(function(De){return De.phase===Ve}))},[])}(($e=[].concat(g,te.options.modifiers),Ee=$e.reduce(function(we,Se){var xe=we[Se.name];return we[Se.name]=xe?Object.assign({},xe,Se,{options:Object.assign({},xe.options,Se.options),data:Object.assign({},xe.data,Se.data)}):Se,we},{}),Object.keys(Ee).map(function(we){return Ee[we]})));return te.orderedModifiers=Re.filter(function(we){return we.enabled}),te.orderedModifiers.forEach(function(we){var Se=we.name,xe=we.options,Ve=xe===void 0?{}:xe,De=we.effect;if(typeof De=="function"){var ot=De({state:te,name:Se,instance:pe,options:Ve});_e.push(ot||function(){})}}),pe.update()},forceUpdate:function(){if(!le){var ge=te.elements,Me=ge.reference,$e=ge.popper;if(h_(Me,$e)){te.rects={reference:fC(Me,sa($e),te.options.strategy==="fixed"),popper:kd($e)},te.reset=!1,te.placement=te.options.placement,te.orderedModifiers.forEach(function(De){return te.modifiersData[De.name]=Object.assign({},De.data)});for(var Ee=0;Ee<te.orderedModifiers.length;Ee++)if(te.reset!==!0){var Re=te.orderedModifiers[Ee],we=Re.fn,Se=Re.options,xe=Se===void 0?{}:Se,Ve=Re.name;typeof we=="function"&&(te=we({state:te,options:xe,name:Ve,instance:pe})||te)}else te.reset=!1,Ee=-1}}},update:(ne=function(){return new Promise(function(ge){pe.forceUpdate(),ge(te)})},function(){return ie||(ie=new Promise(function(ge){Promise.resolve().then(function(){ie=void 0,ge(ne())})})),ie}),destroy:function(){ce(),le=!0}};if(!h_(F,H))return pe;function ce(){_e.forEach(function(ge){return ge()}),_e=[]}return pe.setOptions(J).then(function(ge){!le&&J.onFirstUpdate&&J.onFirstUpdate(ge)}),pe}}var gC=yu(),mC=yu({defaultModifiers:[xd,Vd,Od,Pd]}),jd=yu({defaultModifiers:[xd,Vd,Od,Pd,l_,i_,u_,Jy,a_]});const d_=Object.freeze(Object.defineProperty({__proto__:null,afterMain:By,afterRead:Uy,afterWrite:Wy,applyStyles:Pd,arrow:Jy,auto:du,basePlacements:Vs,beforeMain:Fy,beforeRead:Vy,beforeWrite:zy,bottom:hn,clippingParents:Ly,computeStyles:Od,createPopper:jd,createPopperBase:gC,createPopperLite:mC,detectOverflow:zs,end:js,eventListeners:xd,flip:i_,hide:a_,left:Gt,main:$y,modifierPhases:qy,offset:l_,placements:Ad,popper:Us,popperGenerator:yu,popperOffsets:Vd,preventOverflow:u_,read:jy,reference:My,right:dn,start:Mi,top:Kt,variationPlacements:Sd,viewport:Td,write:Hy},Symbol.toStringTag,{value:"Module"})),f_="dropdown",Ui=".bs.dropdown",Ud=".data-api",yC="ArrowUp",p_="ArrowDown",_C=`hide${Ui}`,vC=`hidden${Ui}`,wC=`show${Ui}`,EC=`shown${Ui}`,g_=`click${Ui}${Ud}`,m_=`keydown${Ui}${Ud}`,IC=`keyup${Ui}${Ud}`,Hs="show",Fi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',TC=`${Fi}.${Hs}`,_u=".dropdown-menu",SC=L()?"top-end":"top-start",AC=L()?"top-start":"top-end",CC=L()?"bottom-end":"bottom-start",PC=L()?"bottom-start":"bottom-end",RC=L()?"left-start":"right-start",kC=L()?"right-start":"left-start",bC={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},OC={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Fn extends Z{constructor(l,h){super(l,h),this._popper=null,this._parent=this._element.parentNode,this._menu=X.next(this._element,_u)[0]||X.prev(this._element,_u)[0]||X.findOne(_u,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return bC}static get DefaultType(){return OC}static get NAME(){return f_}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!_.trigger(this._element,wC,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const h of[].concat(...document.body.children))_.on(h,"mouseover",y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Hs),this._element.classList.add(Hs),_.trigger(this._element,EC,l)}}hide(){if(d(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!_.trigger(this._element,_C,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))_.off(h,"mouseover",y);this._popper&&this._popper.destroy(),this._menu.classList.remove(Hs),this._element.classList.remove(Hs),this._element.setAttribute("aria-expanded","false"),U.removeDataAttribute(this._menu,"popper"),_.trigger(this._element,vC,l)}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!a(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${f_.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(d_===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;this._config.reference==="parent"?l=this._parent:a(this._config.reference)?l=u(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const h=this._getPopperConfig();this._popper=jd(l,this._menu,h)}_isShown(){return this._menu.classList.contains(Hs)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return RC;if(l.classList.contains("dropstart"))return kC;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const h=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?h?AC:SC:h?PC:CC}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(h=>Number.parseInt(h,10)):typeof l=="function"?h=>l(h,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(U.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...m(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:h}){const g=X.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(R=>c(R));g.length&&A(g,h,l===p_,!g.includes(h)).focus()}static jQueryInterface(l){return this.each(function(){const h=Fn.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const h=X.find(TC);for(const g of h){const R=Fn.getInstance(g);if(!R||R._config.autoClose===!1)continue;const k=l.composedPath(),F=k.includes(R._menu);if(k.includes(R._element)||R._config.autoClose==="inside"&&!F||R._config.autoClose==="outside"&&F||R._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const H={relatedTarget:R._element};l.type==="click"&&(H.clickEvent=l),R._completeHide(H)}}static dataApiKeydownHandler(l){const h=/input|textarea/i.test(l.target.tagName),g=l.key==="Escape",R=[yC,p_].includes(l.key);if(!R&&!g||h&&!g)return;l.preventDefault();const k=this.matches(Fi)?this:X.prev(this,Fi)[0]||X.next(this,Fi)[0]||X.findOne(Fi,l.delegateTarget.parentNode),F=Fn.getOrCreateInstance(k);if(R)return l.stopPropagation(),F.show(),void F._selectMenuItem(l);F._isShown()&&(l.stopPropagation(),F.hide(),k.focus())}}_.on(document,m_,Fi,Fn.dataApiKeydownHandler),_.on(document,m_,_u,Fn.dataApiKeydownHandler),_.on(document,g_,Fn.clearMenus),_.on(document,IC,Fn.clearMenus),_.on(document,g_,Fi,function(f){f.preventDefault(),Fn.getOrCreateInstance(this).toggle()}),v(Fn);const y_="backdrop",__="show",v_=`mousedown.bs.${y_}`,xC={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DC={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class w_ extends W{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return xC}static get DefaultType(){return DC}static get NAME(){return y_}show(l){if(!this._config.isVisible)return void m(l);this._append();const h=this._getElement();this._config.isAnimated&&I(h),h.classList.add(__),this._emulateAnimation(()=>{m(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(__),this._emulateAnimation(()=>{this.dispose(),m(l)})):m(l)}dispose(){this._isAppended&&(_.off(this._element,v_),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=u(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),_.on(l,v_,()=>{m(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){T(l,this._getElement(),this._config.isAnimated)}}const vu=".bs.focustrap",NC=`focusin${vu}`,LC=`keydown.tab${vu}`,E_="backward",MC={autofocus:!0,trapElement:null},VC={autofocus:"boolean",trapElement:"element"};class I_ extends W{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return MC}static get DefaultType(){return VC}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),_.off(document,vu),_.on(document,NC,l=>this._handleFocusin(l)),_.on(document,LC,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,_.off(document,vu))}_handleFocusin(l){const{trapElement:h}=this._config;if(l.target===document||l.target===h||h.contains(l.target))return;const g=X.focusableChildren(h);g.length===0?h.focus():this._lastTabNavDirection===E_?g[g.length-1].focus():g[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?E_:"forward")}}const T_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",S_=".sticky-top",wu="padding-right",A_="margin-right";class Fd{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,wu,h=>h+l),this._setElementAttributes(T_,wu,h=>h+l),this._setElementAttributes(S_,A_,h=>h-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,wu),this._resetElementAttributes(T_,wu),this._resetElementAttributes(S_,A_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,h,g){const R=this.getWidth();this._applyManipulationCallback(l,k=>{if(k!==this._element&&window.innerWidth>k.clientWidth+R)return;this._saveInitialAttribute(k,h);const F=window.getComputedStyle(k).getPropertyValue(h);k.style.setProperty(h,`${g(Number.parseFloat(F))}px`)})}_saveInitialAttribute(l,h){const g=l.style.getPropertyValue(h);g&&U.setDataAttribute(l,h,g)}_resetElementAttributes(l,h){this._applyManipulationCallback(l,g=>{const R=U.getDataAttribute(g,h);R!==null?(U.removeDataAttribute(g,h),g.style.setProperty(h,R)):g.style.removeProperty(h)})}_applyManipulationCallback(l,h){if(a(l))h(l);else for(const g of X.find(l,this._element))h(g)}}const Sn=".bs.modal",jC=`hide${Sn}`,UC=`hidePrevented${Sn}`,C_=`hidden${Sn}`,P_=`show${Sn}`,FC=`shown${Sn}`,$C=`resize${Sn}`,BC=`click.dismiss${Sn}`,zC=`mousedown.dismiss${Sn}`,HC=`keydown.dismiss${Sn}`,WC=`click${Sn}.data-api`,R_="modal-open",k_="show",$d="modal-static",qC={backdrop:!0,focus:!0,keyboard:!0},KC={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $i extends Z{constructor(l,h){super(l,h),this._dialog=X.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Fd,this._addEventListeners()}static get Default(){return qC}static get DefaultType(){return KC}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||_.trigger(this._element,P_,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(R_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(_.trigger(this._element,jC).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(k_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){_.off(window,Sn),_.off(this._dialog,Sn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new w_({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new I_({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=X.findOne(".modal-body",this._dialog);h&&(h.scrollTop=0),I(this._element),this._element.classList.add(k_),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,_.trigger(this._element,FC,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){_.on(this._element,HC,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),_.on(window,$C,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),_.on(this._element,zC,l=>{_.one(this._element,BC,h=>{this._element===l.target&&this._element===h.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(R_),this._resetAdjustments(),this._scrollBar.reset(),_.trigger(this._element,C_)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(_.trigger(this._element,UC).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,h=this._element.style.overflowY;h==="hidden"||this._element.classList.contains($d)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add($d),this._queueCallback(()=>{this._element.classList.remove($d),this._queueCallback(()=>{this._element.style.overflowY=h},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),g=h>0;if(g&&!l){const R=L()?"paddingLeft":"paddingRight";this._element.style[R]=`${h}px`}if(!g&&l){const R=L()?"paddingRight":"paddingLeft";this._element.style[R]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,h){return this.each(function(){const g=$i.getOrCreateInstance(this,l);if(typeof l=="string"){if(g[l]===void 0)throw new TypeError(`No method named "${l}"`);g[l](h)}})}}_.on(document,WC,'[data-bs-toggle="modal"]',function(f){const l=X.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&f.preventDefault(),_.one(l,P_,g=>{g.defaultPrevented||_.one(l,C_,()=>{c(this)&&this.focus()})});const h=X.findOne(".modal.show");h&&$i.getInstance(h).hide(),$i.getOrCreateInstance(l).toggle(this)}),Fe($i),v($i);const Er=".bs.offcanvas",b_=".data-api",GC=`load${Er}${b_}`,O_="show",x_="showing",D_="hiding",N_=".offcanvas.show",QC=`show${Er}`,YC=`shown${Er}`,XC=`hide${Er}`,L_=`hidePrevented${Er}`,M_=`hidden${Er}`,JC=`resize${Er}`,ZC=`click${Er}${b_}`,eP=`keydown.dismiss${Er}`,tP={backdrop:!0,keyboard:!0,scroll:!1},nP={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ir extends Z{constructor(l,h){super(l,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return tP}static get DefaultType(){return nP}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||_.trigger(this._element,QC,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Fd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(x_),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(O_),this._element.classList.remove(x_),_.trigger(this._element,YC,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(_.trigger(this._element,XC).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(D_),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(O_,D_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Fd().reset(),_.trigger(this._element,M_)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new w_({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():_.trigger(this._element,L_)}:null})}_initializeFocusTrap(){return new I_({trapElement:this._element})}_addEventListeners(){_.on(this._element,eP,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():_.trigger(this._element,L_))})}static jQueryInterface(l){return this.each(function(){const h=Ir.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l](this)}})}}_.on(document,ZC,'[data-bs-toggle="offcanvas"]',function(f){const l=X.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),d(this))return;_.one(l,M_,()=>{c(this)&&this.focus()});const h=X.findOne(N_);h&&h!==l&&Ir.getInstance(h).hide(),Ir.getOrCreateInstance(l).toggle(this)}),_.on(window,GC,()=>{for(const f of X.find(N_))Ir.getOrCreateInstance(f).show()}),_.on(window,JC,()=>{for(const f of X.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(f).position!=="fixed"&&Ir.getOrCreateInstance(f).hide()}),Fe(Ir),v(Ir);const V_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},rP=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),iP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,sP=(f,l)=>{const h=f.nodeName.toLowerCase();return l.includes(h)?!rP.has(h)||!!iP.test(f.nodeValue):l.filter(g=>g instanceof RegExp).some(g=>g.test(h))},oP={allowList:V_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},aP={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},lP={entry:"(string|element|function|null)",selector:"(string|element)"};class uP extends W{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return oP}static get DefaultType(){return aP}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[R,k]of Object.entries(this._config.content))this._setContent(l,k,R);const h=l.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&h.classList.add(...g.split(" ")),h}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[h,g]of Object.entries(l))super._typeCheckConfig({selector:h,entry:g},lP)}_setContent(l,h,g){const R=X.findOne(g,l);R&&((h=this._resolvePossibleFunction(h))?a(h)?this._putElementInTemplate(u(h),R):this._config.html?R.innerHTML=this._maybeSanitize(h):R.textContent=h:R.remove())}_maybeSanitize(l){return this._config.sanitize?function(h,g,R){if(!h.length)return h;if(R&&typeof R=="function")return R(h);const k=new window.DOMParser().parseFromString(h,"text/html"),F=[].concat(...k.body.querySelectorAll("*"));for(const H of F){const J=H.nodeName.toLowerCase();if(!Object.keys(g).includes(J)){H.remove();continue}const ne=[].concat(...H.attributes),ie=[].concat(g["*"]||[],g[J]||[]);for(const te of ne)sP(te,ie)||H.removeAttribute(te.nodeName)}return k.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return m(l,[this])}_putElementInTemplate(l,h){if(this._config.html)return h.innerHTML="",void h.append(l);h.textContent=l.textContent}}const cP=new Set(["sanitize","allowList","sanitizeFn"]),Bd="fade",Eu="show",j_=".modal",U_="hide.bs.modal",la="hover",zd="focus",hP={AUTO:"auto",TOP:"top",RIGHT:L()?"left":"right",BOTTOM:"bottom",LEFT:L()?"right":"left"},dP={allowList:V_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fP={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Bi extends Z{constructor(l,h){if(d_===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return dP}static get DefaultType(){return fP}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),_.off(this._element.closest(j_),U_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=_.trigger(this._element,this.constructor.eventName("show")),h=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!h)return;this._disposePopper();const g=this._getTipElement();this._element.setAttribute("aria-describedby",g.getAttribute("id"));const{container:R}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(R.append(g),_.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(g),g.classList.add(Eu),"ontouchstart"in document.documentElement)for(const k of[].concat(...document.body.children))_.on(k,"mouseover",y);this._queueCallback(()=>{_.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!_.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Eu),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))_.off(l,"mouseover",y);this._activeTrigger.click=!1,this._activeTrigger[zd]=!1,this._activeTrigger[la]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),_.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const h=this._getTemplateFactory(l).toHtml();if(!h)return null;h.classList.remove(Bd,Eu),h.classList.add(`bs-${this.constructor.NAME}-auto`);const g=(R=>{do R+=Math.floor(1e6*Math.random());while(document.getElementById(R));return R})(this.constructor.NAME).toString();return h.setAttribute("id",g),this._isAnimated()&&h.classList.add(Bd),h}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new uP({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Bd)}_isShown(){return this.tip&&this.tip.classList.contains(Eu)}_createPopper(l){const h=m(this._config.placement,[this,l,this._element]),g=hP[h.toUpperCase()];return jd(this._element,l,this._getPopperConfig(g))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(h=>Number.parseInt(h,10)):typeof l=="function"?h=>l(h,this._element):l}_resolvePossibleFunction(l){return m(l,[this._element])}_getPopperConfig(l){const h={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...h,...m(this._config.popperConfig,[h])}}_setListeners(){const l=this._config.trigger.split(" ");for(const h of l)if(h==="click")_.on(this._element,this.constructor.eventName("click"),this._config.selector,g=>{this._initializeOnDelegatedTarget(g).toggle()});else if(h!=="manual"){const g=h===la?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),R=h===la?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");_.on(this._element,g,this._config.selector,k=>{const F=this._initializeOnDelegatedTarget(k);F._activeTrigger[k.type==="focusin"?zd:la]=!0,F._enter()}),_.on(this._element,R,this._config.selector,k=>{const F=this._initializeOnDelegatedTarget(k);F._activeTrigger[k.type==="focusout"?zd:la]=F._element.contains(k.relatedTarget),F._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},_.on(this._element.closest(j_),U_,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,h){clearTimeout(this._timeout),this._timeout=setTimeout(l,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const h=U.getDataAttributes(this._element);for(const g of Object.keys(h))cP.has(g)&&delete h[g];return l={...h,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:u(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[h,g]of Object.entries(this._config))this.constructor.Default[h]!==g&&(l[h]=g);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const h=Bi.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l]()}})}}v(Bi);const pP={...Bi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gP={...Bi.DefaultType,content:"(null|string|element|function)"};class Iu extends Bi{static get Default(){return pP}static get DefaultType(){return gP}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const h=Iu.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l]()}})}}v(Iu);const Hd=".bs.scrollspy",mP=`activate${Hd}`,F_=`click${Hd}`,yP=`load${Hd}.data-api`,Ws="active",Wd="[href]",$_=".nav-link",_P=`${$_}, .nav-item > ${$_}, .list-group-item`,vP={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},wP={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ua extends Z{constructor(l,h){super(l,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return vP}static get DefaultType(){return wP}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=u(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(h=>Number.parseFloat(h))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(_.off(this._config.target,F_),_.on(this._config.target,F_,Wd,l=>{const h=this._observableSections.get(l.target.hash);if(h){l.preventDefault();const g=this._rootElement||window,R=h.offsetTop-this._element.offsetTop;if(g.scrollTo)return void g.scrollTo({top:R,behavior:"smooth"});g.scrollTop=R}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(h=>this._observerCallback(h),l)}_observerCallback(l){const h=F=>this._targetLinks.get(`#${F.target.id}`),g=F=>{this._previousScrollData.visibleEntryTop=F.target.offsetTop,this._process(h(F))},R=(this._rootElement||document.documentElement).scrollTop,k=R>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=R;for(const F of l){if(!F.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(F));continue}const H=F.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&H){if(g(F),!R)return}else k||H||g(F)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=X.find(Wd,this._config.target);for(const h of l){if(!h.hash||d(h))continue;const g=X.findOne(decodeURI(h.hash),this._element);c(g)&&(this._targetLinks.set(decodeURI(h.hash),h),this._observableSections.set(h.hash,g))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Ws),this._activateParents(l),_.trigger(this._element,mP,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))X.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Ws);else for(const h of X.parents(l,".nav, .list-group"))for(const g of X.prev(h,_P))g.classList.add(Ws)}_clearActiveClass(l){l.classList.remove(Ws);const h=X.find(`${Wd}.${Ws}`,l);for(const g of h)g.classList.remove(Ws)}static jQueryInterface(l){return this.each(function(){const h=ua.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l]()}})}}_.on(window,yP,()=>{for(const f of X.find('[data-bs-spy="scroll"]'))ua.getOrCreateInstance(f)}),v(ua);const zi=".bs.tab",EP=`hide${zi}`,IP=`hidden${zi}`,TP=`show${zi}`,SP=`shown${zi}`,AP=`click${zi}`,CP=`keydown${zi}`,PP=`load${zi}`,RP="ArrowLeft",B_="ArrowRight",kP="ArrowUp",z_="ArrowDown",qd="Home",H_="End",Hi="active",W_="fade",Kd="show",Gd=":not(.dropdown-toggle)",q_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Qd=`.nav-link${Gd}, .list-group-item${Gd}, [role="tab"]${Gd}, ${q_}`,bP=`.${Hi}[data-bs-toggle="tab"], .${Hi}[data-bs-toggle="pill"], .${Hi}[data-bs-toggle="list"]`;class Wi extends Z{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),_.on(this._element,CP,h=>this._keydown(h)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const h=this._getActiveElem(),g=h?_.trigger(h,EP,{relatedTarget:l}):null;_.trigger(l,TP,{relatedTarget:h}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(h,l),this._activate(l,h))}_activate(l,h){l&&(l.classList.add(Hi),this._activate(X.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),_.trigger(l,SP,{relatedTarget:h})):l.classList.add(Kd)},l,l.classList.contains(W_)))}_deactivate(l,h){l&&(l.classList.remove(Hi),l.blur(),this._deactivate(X.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),_.trigger(l,IP,{relatedTarget:h})):l.classList.remove(Kd)},l,l.classList.contains(W_)))}_keydown(l){if(![RP,B_,kP,z_,qd,H_].includes(l.key))return;l.stopPropagation(),l.preventDefault();const h=this._getChildren().filter(R=>!d(R));let g;if([qd,H_].includes(l.key))g=h[l.key===qd?0:h.length-1];else{const R=[B_,z_].includes(l.key);g=A(h,l.target,R,!0)}g&&(g.focus({preventScroll:!0}),Wi.getOrCreateInstance(g).show())}_getChildren(){return X.find(Qd,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,h){this._setAttributeIfNotExists(l,"role","tablist");for(const g of h)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const h=this._elemIsActive(l),g=this._getOuterElement(l);l.setAttribute("aria-selected",h),g!==l&&this._setAttributeIfNotExists(g,"role","presentation"),h||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const h=X.getElementFromSelector(l);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,h){const g=this._getOuterElement(l);if(!g.classList.contains("dropdown"))return;const R=(k,F)=>{const H=X.findOne(k,g);H&&H.classList.toggle(F,h)};R(".dropdown-toggle",Hi),R(".dropdown-menu",Kd),g.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(l,h,g){l.hasAttribute(h)||l.setAttribute(h,g)}_elemIsActive(l){return l.classList.contains(Hi)}_getInnerElement(l){return l.matches(Qd)?l:X.findOne(Qd,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const h=Wi.getOrCreateInstance(this);if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l]()}})}}_.on(document,AP,q_,function(f){["A","AREA"].includes(this.tagName)&&f.preventDefault(),d(this)||Wi.getOrCreateInstance(this).show()}),_.on(window,PP,()=>{for(const f of X.find(bP))Wi.getOrCreateInstance(f)}),v(Wi);const Gr=".bs.toast",OP=`mouseover${Gr}`,xP=`mouseout${Gr}`,DP=`focusin${Gr}`,NP=`focusout${Gr}`,LP=`hide${Gr}`,MP=`hidden${Gr}`,VP=`show${Gr}`,jP=`shown${Gr}`,K_="hide",Tu="show",Su="showing",UP={animation:"boolean",autohide:"boolean",delay:"number"},FP={animation:!0,autohide:!0,delay:5e3};class ca extends Z{constructor(l,h){super(l,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return FP}static get DefaultType(){return UP}static get NAME(){return"toast"}show(){_.trigger(this._element,VP).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(K_),I(this._element),this._element.classList.add(Tu,Su),this._queueCallback(()=>{this._element.classList.remove(Su),_.trigger(this._element,jP),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(_.trigger(this._element,LP).defaultPrevented||(this._element.classList.add(Su),this._queueCallback(()=>{this._element.classList.add(K_),this._element.classList.remove(Su,Tu),_.trigger(this._element,MP)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Tu),super.dispose()}isShown(){return this._element.classList.contains(Tu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,h){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=h;break;case"focusin":case"focusout":this._hasKeyboardInteraction=h}if(h)return void this._clearTimeout();const g=l.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){_.on(this._element,OP,l=>this._onInteraction(l,!0)),_.on(this._element,xP,l=>this._onInteraction(l,!1)),_.on(this._element,DP,l=>this._onInteraction(l,!0)),_.on(this._element,NP,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const h=ca.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l](this)}})}}return Fe(ca),v(ca),{Alert:_t,Button:lt,Carousel:Ns,Collapse:Ms,Dropdown:Fn,Modal:$i,Offcanvas:Ir,Popover:Iu,ScrollSpy:ua,Tab:Wi,Toast:ca,Tooltip:Bi}})})(fF);Yf.createRoot(document.getElementById("root")).render(C.jsx(dF,{}));
